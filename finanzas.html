<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finanzas 101 - Gu√≠a Completa de Inversi√≥n</title>
    <meta name="description" content="Gu√≠a interactiva de finanzas e inversi√≥n: calculadora de inter√©s compuesto, simulador de cartera, test de perfil inversor, quiz y m√°s.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìà</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.10.3/umd/Recharts.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.300.0/dist/umd/lucide-react.min.js"></script>
    <style>
        * { scrollbar-width: thin; scrollbar-color: #f9a8d4 transparent; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background-color: #f9a8d4; border-radius: 3px; }
        input[type="range"] { -webkit-appearance: none; appearance: none; height: 8px; border-radius: 4px; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #10b981; cursor: pointer; border: 2px solid white; }
        input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #10b981; cursor: pointer; border: 2px solid white; }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-white to-pink-50">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo, useCallback } = React;
        const { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } = Recharts;
        const { TrendingUp, Shield, Target, BookOpen, AlertTriangle, CheckCircle, XCircle, ChevronRight, ChevronDown, ChevronUp, Share2, Wallet, BarChart3, Lock, RefreshCw, Award, Lightbulb, Brain, Clock, Building, Globe, Zap, Users, Activity, TrendingDown, Eye, Calculator, FileText, Search, Menu, X, Star, Check, PieChart: PieChartIcon, GraduationCap, Smartphone, Gem, DollarSign, Home, Coins } = lucideReact;

        // ============================================================================
        // SISTEMA DE TRADUCCIONS
        // ============================================================================
        const translations = {
            nav: {
                inicio: { val: 'Inici', es: 'Inicio', en: 'Home' },
                gestion: { val: 'Gesti√≥', es: 'Gesti√≥n', en: 'Management' },
                activos: { val: 'Actius', es: 'Activos', en: 'Assets' },
                calc: { val: 'Calculadora', es: 'Calculadora', en: 'Calculator' },
                cartera: { val: 'Cartera', es: 'Cartera', en: 'Portfolio' },
                estrategias: { val: 'Estrat√®gies', es: 'Estrategias', en: 'Strategies' },
                psicologia: { val: 'Psicologia', es: 'Psicolog√≠a', en: 'Psychology' },
                brokers: { val: 'Brokers', es: 'Brokers', en: 'Brokers' },
                quiz: { val: 'Quiz', es: 'Quiz', en: 'Quiz' },
                test: { val: 'Test', es: 'Test', en: 'Test' }
            },
            inicio: {
                badge: { val: 'Versi√≥ 3.0 ‚Äî Guia Definitiva', es: 'Versi√≥n 3.0 ‚Äî Gu√≠a Definitiva', en: 'Version 3.0 ‚Äî Definitive Guide' },
                titol: { val: 'Finances i Inversi√≥', es: 'Finanzas e Inversi√≥n', en: 'Finance and Investment' },
                subtitol: { val: 'Tot el que necessites saber per gestionar els teus diners i invertir amb cap', es: 'Todo lo que necesitas saber para gestionar tu dinero e invertir con cabeza', en: 'Everything you need to know to manage your money and invest wisely' },
                testPerfil: { val: 'Test de perfil', es: 'Test de perfil', en: 'Profile test' },
                calculadora: { val: 'Calculadora', es: 'Calculadora', en: 'Calculator' },
                aviso: { val: 'Invertir no √©s per fer-se ric r√†pid', es: 'Invertir no es para hacerse rico r√°pido', en: 'Investing is not to get rich quick' },
                avisoDesc: { val: '√âs per protegir el teu patrimoni de la inflaci√≥ i fer-lo cr√©ixer a llarg termini.', es: 'Es para proteger tu patrimonio de la inflaci√≥n y hacerlo crecer a largo plazo.', en: 'It is to protect your assets from inflation and grow them in the long term.' },
                gestion: { val: 'Gesti√≥', es: 'Gesti√≥n', en: 'Management' },
                gestionDesc: { val: 'Pressupost i estalvi', es: 'Presupuesto y ahorro', en: 'Budget and savings' },
                activos: { val: 'Actius', es: 'Activos', en: 'Assets' },
                activosDesc: { val: "Tipus d'inversi√≥", es: 'Tipos de inversi√≥n', en: 'Types of investment' },
                calculadora: { val: 'Calculadora', es: 'Calculadora', en: 'Calculator' },
                calculadoraDesc: { val: 'Inter√®s compost', es: 'Inter√©s compuesto', en: 'Compound interest' },
                cartera: { val: 'Cartera', es: 'Cartera', en: 'Portfolio' },
                carteraDesc: { val: 'Simula la teua cartera', es: 'Simula tu cartera', en: 'Simulate your portfolio' },
                estrategias: { val: 'Estrat√®gies', es: 'Estrategias', en: 'Strategies' },
                estrategiasDesc: { val: 'Com invertir', es: 'C√≥mo invertir', en: 'How to invest' },
                psicologia: { val: 'Psicologia', es: 'Psicolog√≠a', en: 'Psychology' },
                psicologiaDesc: { val: 'Biaixos cognitius', es: 'Sesgos cognitivos', en: 'Cognitive biases' },
                brokers: { val: 'Brokers', es: 'Brokers', en: 'Brokers' },
                brokersDesc: { val: 'On invertir', es: 'D√≥nde invertir', en: 'Where to invest' },
                quiz: { val: 'Quiz', es: 'Quiz', en: 'Quiz' },
                quizDesc: { val: 'Posa a prova', es: 'Pon a prueba', en: 'Put to the test' },
                rentabilidad: { val: 'Rendibilitat hist√≤rica real', es: 'Rentabilidad hist√≥rica real', en: 'Real historical return' },
                empresas: { val: 'Les 500 majors empreses dels EUA', es: 'Las 500 mayores empresas de EEUU', en: 'The 500 largest US companies' },
                empresasMundo: { val: "1.500+ empreses de 23 pa√Øsos desenvolupats", es: '1.500+ empresas de 23 pa√≠ses desarrollados', en: '1,500+ companies from 23 developed countries' },
                empresasEsp: { val: "Les 35 majors empreses d'Espanya", es: 'Las 35 mayores empresas de Espa√±a', en: "Spain's 35 largest companies" }
            },
            gestion: {
                titol: { val: 'Gesti√≥ dels Diners', es: 'Gesti√≥n del Dinero', en: 'Money Management' },
                regla: { val: 'Regla 50/30/20', es: 'Regla 50/30/20', en: '50/30/20 Rule' },
                necesidades: { val: 'Necessitats', es: 'Necesidades', en: 'Needs' },
                ocio: { val: 'Oci', es: 'Ocio', en: 'Leisure' },
                ahorro: { val: 'Estalvi', es: 'Ahorro', en: 'Savings' },
                ahorroInversion: { val: 'Estalvi/Inversi√≥', es: 'Ahorro/Inversi√≥n', en: 'Savings/Investment' },
                fondoEmergencia: { val: "Fons d'Emerg√®ncia", es: 'Fondo de Emergencia', en: 'Emergency Fund' },
                mesesGastos: { val: 'mesos de despeses', es: 'meses de gastos', en: 'months of expenses' },
                enCuenta: { val: 'en compte d\'alta disponibilitat', es: 'en cuenta de alta disponibilidad', en: 'in high availability account' },
                fondoDesc: { val: "Aquest coix√≠ et protegeix d'imprevistos (atur, malaltia, reparacions) i et permet invertir sense necessitar eixos diners.", es: 'Este colch√≥n te protege de imprevistos (paro, enfermedad, reparaciones) y te permite invertir sin necesitar ese dinero.', en: 'This cushion protects you from unforeseen events (unemployment, illness, repairs) and allows you to invest without needing that money.' },
                ordenPrioridades: { val: 'üìã Ordre de prioritats financeres', es: 'üìã Orden de prioridades financieras', en: 'üìã Order of financial priorities' },
                eliminarDeuda: { val: 'Eliminar deute dolent', es: 'Eliminar deuda mala', en: 'Eliminate bad debt' },
                eliminarDeudaDesc: { val: 'Prioritza deutes amb TAE > 6-7% (targetes, cr√®dits al consum)', es: 'Prioriza deudas con TAE > 6-7% (tarjetas, cr√©ditos al consumo)', en: 'Prioritize debts with APR > 6-7% (cards, consumer loans)' },
                construirFondo: { val: "Construir fons d'emerg√®ncia", es: 'Construir fondo de emergencia', en: 'Build emergency fund' },
                construirFondoDesc: { val: '6-12 mesos de despeses en compte remunerat accessible', es: '6-12 meses de gastos en cuenta remunerada accesible', en: '6-12 months of expenses in accessible interest-bearing account' },
                invertirExcedente: { val: "Invertir l'excedent", es: 'Invertir el excedente', en: 'Invest the surplus' },
                invertirExcedenteDesc: { val: 'Tot el que sobre despr√©s de despeses, estalvi i emerg√®ncia', es: 'Todo lo que sobre despu√©s de gastos, ahorro y emergencia', en: 'Everything left over after expenses, savings and emergency' }
            },
            activos: {
                titol: { val: "Tipus d'Actius", es: 'Tipos de Activos', en: 'Types of Assets' },
                desc: { val: "Fes clic en cada actiu per veure informaci√≥ detallada sobre qu√® √©s, com funciona, avantatges, desavantatges i com invertir.", es: 'Haz clic en cada activo para ver informaci√≥n detallada sobre qu√© es, c√≥mo funciona, ventajas, desventajas y c√≥mo invertir.', en: 'Click on each asset to see detailed information about what it is, how it works, advantages, disadvantages and how to invest.' },
                queEs: { val: 'üí° Qu√® √©s?', es: 'üí° ¬øQu√© es?', en: 'üí° What is it?' },
                comoFunciona: { val: '‚öôÔ∏è Com funciona?', es: '‚öôÔ∏è ¬øC√≥mo funciona?', en: '‚öôÔ∏è How does it work?' },
                rentabilidad: { val: 'üìà Rendibilitat', es: 'üìà Rentabilidad', en: 'üìà Return' },
                riesgo: { val: '‚ö†Ô∏è Risc', es: '‚ö†Ô∏è Riesgo', en: '‚ö†Ô∏è Risk' },
                ventajas: { val: '‚úÖ Avantatges', es: '‚úÖ Ventajas', en: '‚úÖ Advantages' },
                desventajas: { val: '‚ùå Desavantatges', es: '‚ùå Desventajas', en: '‚ùå Disadvantages' },
                ejemplos: { val: 'üìã Exemples', es: 'üìã Ejemplos', en: 'üìã Examples' },
                idealPara: { val: 'üë§ Ideal per a', es: 'üë§ Ideal para', en: 'üë§ Ideal for' },
                comoInvertir: { val: 'üöÄ Com invertir', es: 'üöÄ C√≥mo invertir', en: 'üöÄ How to invest' }
            },
            calc: {
                titol: { val: 'Calculadora Inter√®s Compost', es: 'Calculadora Inter√©s Compuesto', en: 'Compound Interest Calculator' },
                capitalInicial: { val: 'Capital inicial (‚Ç¨)', es: 'Capital inicial (‚Ç¨)', en: 'Initial capital (‚Ç¨)' },
                aportacionMensual: { val: 'Aportaci√≥ mensual (‚Ç¨)', es: 'Aportaci√≥n mensual (‚Ç¨)', en: 'Monthly contribution (‚Ç¨)' },
                rentabilidadAnual: { val: 'Rendibilitat anual (%)', es: 'Rentabilidad anual (%)', en: 'Annual return (%)' },
                plazoAnios: { val: 'Termini (anys)', es: 'Plazo (a√±os)', en: 'Term (years)' },
                resultadoFinal: { val: 'Resultat final', es: 'Resultado final', en: 'Final result' },
                totalAportado: { val: 'Total aportat', es: 'Total aportado', en: 'Total contributed' },
                interesesGenerados: { val: 'Interessos generats', es: 'Intereses generados', en: 'Interest generated' },
                multiplicador: { val: 'Multiplicador', es: 'Multiplicador', en: 'Multiplier' },
                aportaciones: { val: 'Aportacions', es: 'Aportaciones', en: 'Contributions' },
                intereses: { val: 'Interessos', es: 'Intereses', en: 'Interest' },
                evolucion: { val: 'Evoluci√≥ del patrimoni', es: 'Evoluci√≥n del patrimonio', en: 'Wealth evolution' }
            },
            cartera: {
                titol: { val: 'Simulador de Cartera', es: 'Simulador de Cartera', en: 'Portfolio Simulator' },
                rv: { val: 'Renda Variable', es: 'Renta Variable', en: 'Stocks' },
                rf: { val: 'Renda Fixa', es: 'Renta Fija', en: 'Bonds' },
                oro: { val: 'Or', es: 'Oro', en: 'Gold' },
                cash: { val: 'Efectiu', es: 'Efectivo', en: 'Cash' },
                rentEsperada: { val: 'Rendibilitat esperada', es: 'Rentabilidad esperada', en: 'Expected return' },
                riesgoNivel: { val: 'Nivell de risc', es: 'Nivel de riesgo', en: 'Risk level' },
                bajo: { val: 'Baix', es: 'Bajo', en: 'Low' },
                medio: { val: 'Mitj√†', es: 'Medio', en: 'Medium' },
                alto: { val: 'Alt', es: 'Alto', en: 'High' },
                carterasModelo: { val: 'Carteres model', es: 'Carteras modelo', en: 'Model portfolios' },
                conservadora: { val: 'Conservadora', es: 'Conservadora', en: 'Conservative' },
                moderada: { val: 'Moderada', es: 'Moderada', en: 'Moderate' },
                agresiva: { val: 'Agressiva', es: 'Agresiva', en: 'Aggressive' }
            },
            estrategias: {
                titol: { val: "Estrat√®gies d'Inversi√≥", es: 'Estrategias de Inversi√≥n', en: 'Investment Strategies' }
            },
            psicologia: {
                titol: { val: 'Psicologia de la Inversi√≥', es: 'Psicolog√≠a de la Inversi√≥n', en: 'Investment Psychology' }
            },
            brokers: {
                titol: { val: 'Comparador de Brokers', es: 'Comparador de Brokers', en: 'Broker Comparison' },
                todos: { val: 'Tots', es: 'Todos', en: 'All' },
                fondos: { val: 'Fons', es: 'Fondos', en: 'Funds' },
                etfs: { val: 'ETFs', es: 'ETFs', en: 'ETFs' },
                acciones: { val: 'Accions', es: 'Acciones', en: 'Stocks' }
            },
            quiz: {
                titol: { val: 'Quiz de Finances', es: 'Quiz de Finanzas', en: 'Finance Quiz' },
                desc: { val: 'Posa a prova els teus coneixements financers amb 10 preguntes', es: 'Pon a prueba tus conocimientos financieros con 10 preguntas', en: 'Test your financial knowledge with 10 questions' },
                comenzar: { val: 'Comen√ßar Quiz', es: 'Comenzar Quiz', en: 'Start Quiz' },
                pregunta: { val: 'Pregunta', es: 'Pregunta', en: 'Question' },
                de: { val: 'de', es: 'de', en: 'of' },
                completado: { val: 'Quiz Completat!', es: '¬°Quiz Completado!', en: 'Quiz Completed!' },
                puntuacion: { val: 'Puntuaci√≥', es: 'Puntuaci√≥n', en: 'Score' },
                repetir: { val: 'Repetir Quiz', es: 'Repetir Quiz', en: 'Repeat Quiz' }
            },
            test: {
                titol: { val: 'Test de Perfil Inversor', es: 'Test de Perfil Inversor', en: 'Investor Profile Test' },
                tuPerfil: { val: 'El teu Perfil', es: 'Tu Perfil', en: 'Your Profile' },
                carteraRec: { val: 'Cartera recomanada', es: 'Cartera recomendada', en: 'Recommended portfolio' },
                brokersRec: { val: 'Brokers recomanats', es: 'Brokers recomendados', en: 'Recommended brokers' },
                proximosPasos: { val: 'Pr√≤xims passos', es: 'Pr√≥ximos pasos', en: 'Next steps' },
                repetir: { val: 'Repetir test', es: 'Repetir test', en: 'Repeat test' },
                compartir: { val: 'Compartir', es: 'Compartir', en: 'Share' },
                anterior: { val: 'Anterior', es: 'Anterior', en: 'Previous' },
                siguiente: { val: 'Seg√ºent', es: 'Siguiente', en: 'Next' },
                verResultados: { val: 'Veure resultats', es: 'Ver resultados', en: 'See results' },
                si: { val: 'S√≠', es: 'S√≠', en: 'Yes' },
                no: { val: 'No', es: 'No', en: 'No' }
            },
            glosario: {
                titol: { val: 'Glossari financer', es: 'Glosario financiero', en: 'Financial glossary' },
                buscar: { val: 'Cercar terme...', es: 'Buscar t√©rmino...', en: 'Search term...' }
            },
            ui: {
                anios: { val: 'anys', es: 'a√±os', en: 'years' }
            }
        };

        function FinanzasApp() {
            const [section, setSection] = useState('inicio');
            const [menuOpen, setMenuOpen] = useState(false);
            const [showGlosario, setShowGlosario] = useState(false);
            const [searchTerm, setSearchTerm] = useState('');
            const [idioma, setIdioma] = useState('val');

            // Funci√≥ de traducci√≥
            const t = useCallback((category, key) => {
                try {
                    return translations[category][key][idioma] || translations[category][key]['val'];
                } catch {
                    return key;
                }
            }, [idioma]);

            // Selector d'idioma
            const LanguageSelector = () => (
                <div className="flex items-center gap-1 bg-gray-100 rounded-lg p-1">
                    {[
                        { code: 'val', label: 'VAL' },
                        { code: 'es', label: 'ES' },
                        { code: 'en', label: 'EN' }
                    ].map(lang => (
                        <button
                            key={lang.code}
                            onClick={() => setIdioma(lang.code)}
                            className={`px-2 py-1 rounded text-xs font-bold transition-all ${
                                idioma === lang.code 
                                    ? 'bg-pink-500 text-white' 
                                    : 'text-gray-600 hover:bg-gray-200'
                            }`}
                        >
                            {lang.label}
                        </button>
                    ))}
                </div>
            );
            
            const [calcCapital, setCalcCapital] = useState(10000);
            const [calcMensual, setCalcMensual] = useState(200);
            const [calcRent, setCalcRent] = useState(8);
            const [calcAnios, setCalcAnios] = useState(20);
            
            const [cartera, setCartera] = useState({ rv: 60, rf: 25, oro: 10, cash: 5 });
            const [activoExpandido, setActivoExpandido] = useState(null);
            
            const [quizIniciado, setQuizIniciado] = useState(false);
            const [quizPregunta, setQuizPregunta] = useState(0);
            const [quizRespuestas, setQuizRespuestas] = useState({});
            const [quizTerminado, setQuizTerminado] = useState(false);
            
            const [testFase, setTestFase] = useState(0);
            const [testRespuestas, setTestRespuestas] = useState({});
            const [testResultados, setTestResultados] = useState(false);
            const [brokerFiltro, setBrokerFiltro] = useState('todos');

            const glosario = [
                { term: 'Acci√≥n', def: 'Parte del capital de una empresa. Al comprarla, eres copropietario.' },
                { term: 'ETF', def: 'Exchange-Traded Fund. Fondo cotizado que replica un √≠ndice.' },
                { term: 'Fondo indexado', def: 'Fondo que replica un √≠ndice con gesti√≥n pasiva y bajas comisiones.' },
                { term: 'TER', def: 'Total Expense Ratio. Coste anual total de un fondo/ETF. Busca <0.3%.' },
                { term: 'DCA', def: 'Dollar Cost Averaging. Invertir cantidad fija peri√≥dicamente.' },
                { term: 'Diversificaci√≥n', def: 'Repartir inversi√≥n entre diferentes activos para reducir riesgo.' },
                { term: 'Volatilidad', def: 'Variaci√≥n del precio. Mayor volatilidad = m√°s riesgo a corto plazo.' },
                { term: 'Bull Market', def: 'Mercado alcista con subidas sostenidas (+20% desde m√≠nimos).' },
                { term: 'Bear Market', def: 'Mercado bajista. Ca√≠da >20% desde m√°ximos.' },
                { term: 'FOMO', def: 'Fear Of Missing Out. Comprar porque "todos lo hacen".' },
                { term: 'Inter√©s compuesto', def: 'Los intereses generan m√°s intereses. Efecto bola de nieve.' },
                { term: 'Rebalanceo', def: 'Ajustar la cartera para mantener los % objetivo.' },
                { term: 'Liquidez', def: 'Facilidad para convertir un activo en efectivo sin perder valor.' },
                { term: 'Dividendo', def: 'Parte de los beneficios que la empresa reparte a accionistas.' },
                { term: 'IRPF', def: 'Impuesto sobre la Renta. Las ganancias patrimoniales tributan 19-28%.' },
                { term: 'Plusval√≠a', def: 'Ganancia obtenida al vender un activo por m√°s de lo que cost√≥.' },
            ];

            const activos = [
                { 
                    id: 'acciones', nombre: 'Acciones', icon: TrendingUp, color: 'emerald',
                    queEs: 'Una acci√≥n es una participaci√≥n en la propiedad de una empresa. Si compras 1 acci√≥n de Apple, eres copropietario de Apple junto con millones de otros accionistas.',
                    comoFunciona: 'Las empresas emiten acciones para obtener capital. Tu beneficio puede venir de: 1) Subida del precio (plusval√≠a) y 2) Dividendos (reparto de beneficios). Cotiza en bolsa y puedes comprar/vender en horario de mercado.',
                    rentabilidad: '~10% anual hist√≥rico (S&P 500, 100 a√±os). Ajustado por inflaci√≥n: ~7%.',
                    riesgo: 'Alto a corto plazo (puede caer 50% en crisis). Moderado a largo plazo (+10 a√±os).',
                    ventajas: ['Alta rentabilidad potencial a largo plazo', 'Liquidez: compra/vende cuando quieras', 'Dividendos: ingresos pasivos', 'Protecci√≥n contra inflaci√≥n', 'Ser due√±o de empresas reales'],
                    desventajas: ['Volatilidad alta a corto plazo', 'Requiere conocimiento para stock picking', 'Riesgo si la empresa quiebra', 'Impacto emocional de las ca√≠das'],
                    ejemplos: ['Apple (AAPL)', 'Microsoft (MSFT)', 'Inditex (ITX)', 'BBVA', 'Coca-Cola'],
                    idealPara: 'Inversores con horizonte >10 a√±os que toleran volatilidad.',
                    comoInvertir: 'Directamente comprando acciones individuales (requiere an√°lisis) o a trav√©s de fondos/ETFs (recomendado para principiantes).'
                },
                { 
                    id: 'etfs', nombre: 'ETFs', icon: Globe, color: 'blue',
                    queEs: 'Un ETF (Exchange-Traded Fund) es una "cesta" de activos que cotiza en bolsa como una acci√≥n. Un solo ETF del MSCI World contiene m√°s de 1.500 empresas de 23 pa√≠ses.',
                    comoFunciona: 'El ETF replica un √≠ndice comprando todas sus empresas en la proporci√≥n correcta. T√∫ compras participaciones del ETF como si fuera una acci√≥n. El precio fluct√∫a durante el d√≠a.',
                    rentabilidad: '~8-10% anual hist√≥rico para ETFs de acciones globales (MSCI World).',
                    riesgo: 'Variable seg√∫n el tipo. ETF de acciones globales: moderado. ETF de bonos: bajo.',
                    ventajas: ['Diversificaci√≥n instant√°nea con una sola compra', 'Comisiones muy bajas (TER 0.03-0.25%)', 'Transparentes: sabes qu√© contienen', 'Alta liquidez', 'Gran variedad disponible'],
                    desventajas: ['En Espa√±a tributan al vender (no hay traspaso sin tributar)', 'Se compran por participaciones enteras', 'Spread entre compra/venta'],
                    ejemplos: ['iShares Core MSCI World (IWDA)', 'Vanguard S&P 500 (VOO)', 'iShares Core S&P 500 (IVV)'],
                    idealPara: 'Inversores que quieren diversificaci√≥n simple y barata.',
                    comoInvertir: 'A trav√©s de brokers como DEGIRO, Interactive Brokers, Trade Republic. Busca ETFs de acumulaci√≥n domiciliados en Irlanda.'
                },
                { 
                    id: 'fondos', nombre: 'Fondos Indexados', icon: PieChartIcon, color: 'purple',
                    queEs: 'Similar a un ETF: replica un √≠ndice con gesti√≥n pasiva. La diferencia es el formato legal (fondo de inversi√≥n vs fondo cotizado) y c√≥mo se compra.',
                    comoFunciona: 'Haces una orden de suscripci√≥n por el importe que quieras (ej: 100‚Ç¨). El fondo calcula el valor liquidativo 1 vez al d√≠a y te asigna las participaciones correspondientes.',
                    rentabilidad: 'Igual que el √≠ndice que replican menos el TER. ~8-10% hist√≥rico para fondos de acciones globales.',
                    riesgo: 'Igual que ETFs equivalentes. Depende del √≠ndice que repliquen.',
                    ventajas: ['VENTAJA FISCAL EN ESPA√ëA: traspasos entre fondos sin tributar', 'Puedes invertir importes exactos (100‚Ç¨, no "2.3 participaciones")', 'Ideales para DCA mensual automatizado', 'Sin tentaci√≥n de trading'],
                    desventajas: ['Menos variedad que ETFs', 'Ejecuci√≥n m√°s lenta (1 d√≠a)', 'TER ligeramente superior a ETFs equivalentes'],
                    ejemplos: ['Vanguard Global Stock Index Fund', 'Fidelity MSCI World Index Fund', 'iShares Developed World Index Fund'],
                    idealPara: 'Inversores espa√±oles que hacen aportaciones peri√≥dicas (DCA). La ventaja fiscal es enorme.',
                    comoInvertir: 'MyInvestor (mejor selecci√≥n), Indexa Capital (robo-advisor), ING, Openbank.'
                },
                { 
                    id: 'bonos', nombre: 'Bonos / Renta Fija', icon: Lock, color: 'cyan',
                    queEs: 'Un bono es un pr√©stamo que haces a un gobierno o empresa. A cambio, te pagan intereses peri√≥dicos y te devuelven el principal al vencimiento.',
                    comoFunciona: 'Compras un bono de 1.000‚Ç¨ al 3% anual a 10 a√±os. Cada a√±o recibes 30‚Ç¨ de intereses. Al final de los 10 a√±os, recuperas tus 1.000‚Ç¨.',
                    rentabilidad: 'Bonos gobierno AAA: 2-4% hist√≥rico. Bonos corporativos: 4-6%. Bonos high yield: 6-10% (m√°s riesgo).',
                    riesgo: 'Bajo para bonos de gobiernos solventes (Alemania, EEUU). Medio para corporativos. Alto para high yield.',
                    ventajas: ['Rentabilidad m√°s predecible', 'Menor volatilidad que acciones', 'Ingresos regulares (cupones)', 'Diversificador en cartera'],
                    desventajas: ['Rentabilidad real baja (a veces negativa tras inflaci√≥n)', 'Sensibles a subidas de tipos de inter√©s', 'Riesgo de impago en bonos corporativos'],
                    ejemplos: ['Letras del Tesoro espa√±ol', 'Bonos del Estado 10 a√±os', 'iShares Core Euro Government Bond'],
                    idealPara: 'Perfiles conservadores o como parte estabilizadora de una cartera diversificada.',
                    comoInvertir: 'Directamente en tesoro.es (Letras, Bonos) o a trav√©s de fondos/ETFs de renta fija.'
                },
                { 
                    id: 'oro', nombre: 'Oro', icon: Gem, color: 'amber',
                    queEs: 'Metal precioso usado como reserva de valor durante miles de a√±os. Oferta limitada (no se puede "imprimir" oro) y demanda constante.',
                    comoFunciona: 'Puedes comprar oro f√≠sico (lingotes, monedas) o "papel" (ETCs que poseen oro f√≠sico). El precio fluct√∫a seg√∫n oferta/demanda global.',
                    rentabilidad: '~5-7% anual a muy largo plazo. No genera rentas (no paga dividendos ni intereses).',
                    riesgo: 'Moderado. Puede caer 30-40% pero hist√≥ricamente siempre ha recuperado. No tiene riesgo de contraparte.',
                    ventajas: ['Refugio en crisis econ√≥micas/geopol√≠ticas', 'Protecci√≥n contra inflaci√≥n a largo plazo', 'Diversificador: baja correlaci√≥n con acciones', 'Activo tangible y universal'],
                    desventajas: ['No genera ingresos pasivos', 'Almacenamiento si es f√≠sico', 'Volatilidad a corto plazo', 'No produce nada (solo vale lo que otro pague)'],
                    ejemplos: ['iShares Physical Gold (IGLN)', 'Invesco Physical Gold', 'Monedas Krugerrand/Maple Leaf'],
                    idealPara: '5-15% de la cartera como diversificador y seguro contra crisis.',
                    comoInvertir: 'ETCs de oro f√≠sico (m√°s pr√°ctico) o oro f√≠sico en tiendas especializadas (Degussa, Coininvest).'
                },
                { 
                    id: 'inmobiliario', nombre: 'Inmobiliario', icon: Home, color: 'orange',
                    queEs: 'Inversi√≥n en bienes inmuebles: viviendas, locales, oficinas, naves. Puede ser inversi√≥n directa (comprar un piso) o indirecta (REITs/SOCIMIs).',
                    comoFunciona: 'Directo: compras, reformas si hace falta, alquilas, cobras renta mensual. Indirecto: compras acciones de empresas que poseen inmuebles (REITs).',
                    rentabilidad: 'Alquiler directo: 3-6% neto (despu√©s de gastos). REITs: 7-10% total hist√≥rico (dividendos + revalorizaci√≥n).',
                    riesgo: 'Medio-alto directo (concentraci√≥n, iliquidez). Medio REITs (diversificados, l√≠quidos).',
                    ventajas: ['Activo tangible que puedes "tocar"', 'Ingresos recurrentes (alquileres)', 'Protecci√≥n contra inflaci√≥n', 'Apalancamiento con hipoteca'],
                    desventajas: ['Muy il√≠quido si es directo', 'Gesti√≥n y mantenimiento', 'Concentraci√≥n geogr√°fica', 'Capital inicial alto'],
                    ejemplos: ['Vivienda para alquilar', 'Merlin Properties (SOCIMI)', 'iShares Developed Markets Property Yield'],
                    idealPara: 'Capital alto (directo) o 5-10% de cartera en REITs para diversificar.',
                    comoInvertir: 'Directo: compra de inmueble. Indirecto: REITs/SOCIMIs en bolsa o ETFs inmobiliarios.'
                },
                { 
                    id: 'cripto', nombre: 'Bitcoin / Cripto', icon: Coins, color: 'yellow',
                    queEs: 'Activos digitales descentralizados basados en blockchain. Bitcoin: la primera y m√°s conocida, con oferta limitada a 21 millones de unidades.',
                    comoFunciona: 'Se compran en exchanges (Coinbase, Kraken) o brokers. Funcionan 24/7. Precio determinado por oferta/demanda pura.',
                    rentabilidad: 'Bitcoin: +100% anual de media desde 2010. PERO con ca√≠das del 80% en algunos a√±os. Extremadamente vol√°til.',
                    riesgo: 'Muy alto. Puede perder 50-80% de su valor en meses. Regulaci√≥n incierta. Riesgo tecnol√≥gico.',
                    ventajas: ['Descentralizado: sin control gubernamental', 'Oferta limitada (Bitcoin)', 'Alta rentabilidad potencial', 'Accesible globalmente 24/7'],
                    desventajas: ['Volatilidad extrema', 'Regulaci√≥n incierta y cambiante', 'No genera rentas', 'Riesgo de hackeos/p√©rdida de claves', 'Muchas criptos son estafas'],
                    ejemplos: ['Bitcoin (BTC)', 'Ethereum (ETH)', 'ETFs de Bitcoin (IBIT, FBTC)'],
                    idealPara: 'M√°ximo 1-5% de la cartera para quien entienda y acepte el riesgo extremo.',
                    comoInvertir: 'Exchanges (Coinbase, Kraken) o ETFs de Bitcoin en brokers tradicionales (m√°s seguro).'
                }
            ];

            const carteras = [
                { nombre: 'Conservadora', rv: 30, rf: 50, oro: 10, cash: 10, rent: '4-5%', volatilidad: 'Baja', horizonte: '3-5 a√±os' },
                { nombre: 'Moderada', rv: 60, rf: 30, oro: 5, cash: 5, rent: '6-7%', volatilidad: 'Media', horizonte: '7-10 a√±os' },
                { nombre: 'Agresiva', rv: 90, rf: 5, oro: 5, cash: 0, rent: '8-9%', volatilidad: 'Alta', horizonte: '15+ a√±os' },
                { nombre: 'Permanente', rv: 25, rf: 25, oro: 25, cash: 25, rent: '5-6%', volatilidad: 'Baja', horizonte: 'Cualquiera' }
            ];

            const brokers = [
                { name: 'MyInvestor', tipo: 'fondos', desc: 'El mejor para fondos indexados Vanguard/iShares. Cuenta remunerada al 2% TAE. Sin comisiones de custodia.', rating: 5, pais: 'üá™üá∏', productos: 'Fondos, ETFs, Acciones', comision: 'gratis' },
                { name: 'Indexa Capital', tipo: 'robo', desc: 'Robo-advisor l√≠der en Espa√±a. Gesti√≥n 100% automatizada. Cartera diversificada global. Ideal si no quieres hacer nada.', rating: 5, pais: 'üá™üá∏', productos: 'Gesti√≥n delegada', comision: 'baja' },
                { name: 'Trade Republic', tipo: 'app', desc: 'App muy sencilla. Planes de inversi√≥n gratis. Cuenta remunerada al 3% TAE. Popular entre j√≥venes.', rating: 4, pais: 'üá©üá™', productos: 'Acciones, ETFs, Cripto', comision: 'gratis' },
                { name: 'DEGIRO', tipo: 'broker', desc: 'Gran variedad de mercados globales. ETFs selecci√≥n core gratis. Interfaz algo compleja.', rating: 4, pais: 'üá≥üá±', productos: 'Todo tipo', comision: 'baja' },
                { name: 'Interactive Brokers', tipo: 'broker', desc: 'El m√°s completo del mundo. Para inversores avanzados. Acceso a todos los mercados. Comisiones muy bajas.', rating: 5, pais: 'üá∫üá∏', productos: 'Profesional', comision: 'baja' },
                { name: 'XTB', tipo: 'broker', desc: 'Sin comisiones en acciones/ETFs hasta 100k‚Ç¨/mes. Buena plataforma y formaci√≥n. CFDs disponibles (cuidado).', rating: 4, pais: 'üáµüá±', productos: 'Acciones, ETFs, CFDs', comision: 'gratis' },
                { name: 'Revolut', tipo: 'app', desc: 'Todo en uno: banco + inversiones + cripto. C√≥modo pero limitado. Bueno para empezar con poco.', rating: 3, pais: 'üá¨üáß', productos: 'Acciones, ETFs, Cripto', comision: 'gratis' }
            ];

            const quizPreguntas = [
                { pregunta: '¬øQu√© significa TER en un fondo de inversi√≥n?', opciones: ['Tasa de √âxito Rentable', 'Total Expense Ratio (coste anual)', 'Tipo de Inter√©s Europeo', 'Tiempo Estimado de Retorno'], correcta: 1 },
                { pregunta: '¬øCu√°ntos meses de gastos deber√≠a tener el fondo de emergencia?', opciones: ['1-2 meses', '3-4 meses', '6-12 meses', 'No es necesario tener fondo de emergencia'], correcta: 2 },
                { pregunta: '¬øQu√© porcentaje de gestores profesionales NO consigue batir al √≠ndice a largo plazo?', opciones: ['Aproximadamente el 50%', 'Aproximadamente el 70%', 'M√°s del 90%', 'Solo el 30%'], correcta: 2 },
                { pregunta: '¬øCu√°l es la principal ventaja fiscal de los fondos de inversi√≥n en Espa√±a?', opciones: ['No pagan ning√∫n impuesto', 'Traspasos entre fondos sin tributar', 'Deducci√≥n en el IRPF', 'Exenci√≥n total a partir de 10 a√±os'], correcta: 1 },
                { pregunta: '¬øQu√© es la estrategia DCA (Dollar Cost Averaging)?', opciones: ['Comprar solo cuando el mercado baja', 'Invertir una cantidad fija de forma peri√≥dica', 'Vender siempre en m√°ximos hist√≥ricos', 'Diversificar en muchos activos'], correcta: 1 },
                { pregunta: '¬øQu√© deuda deber√≠as eliminar ANTES de empezar a invertir?', opciones: ['Hipoteca al 2%', 'Pr√©stamo coche al 5%', 'Tarjeta de cr√©dito al 20%', 'Todas las deudas sin excepci√≥n'], correcta: 2 },
                { pregunta: '¬øQu√© es un Bear Market?', opciones: ['Mercado alcista con subidas sostenidas', 'Ca√≠da de m√°s del 20% desde m√°ximos', 'Mercado lateral sin tendencia', 'Subida del precio del oro'], correcta: 1 },
                { pregunta: '¬øQu√© sesgo psicol√≥gico te hace comprar porque "todos lo est√°n haciendo"?', opciones: ['Aversi√≥n a la p√©rdida', 'Sesgo de anclaje', 'FOMO (Fear Of Missing Out)', 'Sesgo de confirmaci√≥n'], correcta: 2 },
                { pregunta: '¬øCu√°l es la rentabilidad media hist√≥rica del S&P 500?', opciones: ['3-4% anual', '5-6% anual', '9-10% anual', '15-20% anual'], correcta: 2 },
                { pregunta: '¬øQu√© es mejor para hacer DCA mensual en Espa√±a?', opciones: ['ETFs', 'Fondos indexados', 'Acciones individuales', 'Da igual, es lo mismo'], correcta: 1 }
            ];

            const testPreguntas = {
                fase1: [
                    { id: 'presupuesto', texto: '¬øTienes un presupuesto de ingresos y gastos?' },
                    { id: 'superavit', texto: '¬øTus ingresos superan consistentemente tus gastos?' },
                    { id: 'emergencia', texto: '¬øTienes un fondo de emergencia de 6-12 meses de gastos?' },
                    { id: 'deudas', texto: '¬øHas eliminado todas las deudas con TAE superior al 6-7%?' },
                    { id: 'riesgo', texto: '¬øEntiendes y aceptas el riesgo de perder parte del capital?' }
                ],
                fase2: [
                    { id: 'horizonte', texto: '¬øCu√°nto tiempo puedes mantener el dinero invertido?', opciones: ['M√°s de 15 a√±os', '7-15 a√±os', '3-7 a√±os', 'Menos de 3 a√±os'] },
                    { id: 'caida', texto: 'Si tu cartera cae un 40%, ¬øqu√© har√≠as?', opciones: ['Comprar m√°s (oportunidad)', 'Mantener sin tocar nada', 'Esperar nervioso', 'Vender todo'] },
                    { id: 'gestion', texto: '¬øCu√°nto tiempo quieres dedicar a gestionar inversiones?', opciones: ['Cero (que sea autom√°tico)', 'Poco (revisi√≥n trimestral)', 'Algo (seguimiento mensual)', 'Mucho (an√°lisis frecuente)'] }
                ],
                fase3: [
                    { id: 'plan', texto: '¬øTe comprometes a escribir un plan de inversi√≥n y seguirlo?' },
                    { id: 'paciencia', texto: '¬øPuedes comprometerte a no tocar la inversi√≥n durante 10+ a√±os?' },
                    { id: 'formacion', texto: '¬øEst√°s dispuesto a seguir aprendiendo sobre inversi√≥n?' }
                ]
            };

            const sesgos = [
                { nombre: 'FOMO', icono: TrendingUp, descripcion: 'Compras porque "todos lo est√°n haciendo" y tienes miedo de perderte la subida.', solucion: 'Sigue tu plan. Si no estaba en tu estrategia, no compres por impulso.', ejemplo: 'Comprar Bitcoin en m√°ximos porque tu vecino gan√≥ dinero.' },
                { nombre: 'Aversi√≥n a la p√©rdida', icono: TrendingDown, descripcion: 'El dolor de perder 100‚Ç¨ es el doble que la alegr√≠a de ganar 100‚Ç¨.', solucion: 'No mires la cartera constantemente. Establece revisiones peri√≥dicas (trimestral).', ejemplo: 'Vender en p√°nico cuando cae un 20%.' },
                { nombre: 'Sesgo de confirmaci√≥n', icono: Eye, descripcion: 'Solo buscas informaci√≥n que confirma lo que ya crees.', solucion: 'Busca activamente argumentos en contra de tu posici√≥n.', ejemplo: 'Leer solo noticias positivas sobre una acci√≥n que tienes.' },
                { nombre: 'Exceso de confianza', icono: Award, descripcion: 'Crees que puedes batir al mercado o que eres mejor que la media.', solucion: 'Recuerda: el 90%+ de profesionales no baten al √≠ndice. T√∫ tampoco lo har√°s.', ejemplo: 'Pensar que puedes hacer timing del mercado.' },
                { nombre: 'Anclaje', icono: Target, descripcion: 'Te fijas en el precio al que compraste y tomas decisiones basadas en eso.', solucion: 'Preg√∫ntate: ¬øcomprar√≠a HOY a este precio? El precio de compra es irrelevante.', ejemplo: 'No vender una mala inversi√≥n porque "ya subir√° al precio que pagu√©".' },
                { nombre: 'Efecto manada', icono: Users, descripcion: 'Sigues a la mayor√≠a sin pensar. Si todos compran/venden, t√∫ tambi√©n.', solucion: 'S√© temeroso cuando otros son codiciosos, y codicioso cuando otros son temerosos.', ejemplo: 'Vender todo en marzo 2020 porque "todos vend√≠an".' }
            ];

            const datosCalculadora = useMemo(() => {
                const datos = [];
                let capital = calcCapital;
                const tasaMensual = calcRent / 100 / 12;
                for (let a√±o = 0; a√±o <= calcAnios; a√±o++) {
                    datos.push({ a√±o, capital: Math.round(capital), aportado: calcCapital + (calcMensual * 12 * a√±o) });
                    for (let mes = 0; mes < 12; mes++) { capital = capital * (1 + tasaMensual) + calcMensual; }
                }
                return datos;
            }, [calcCapital, calcMensual, calcRent, calcAnios]);

            const capitalFinal = datosCalculadora[datosCalculadora.length - 1]?.capital || 0;
            const totalAportado = calcCapital + (calcMensual * 12 * calcAnios);
            const gananciaTotal = capitalFinal - totalAportado;
            const multiplicador = totalAportado > 0 ? (capitalFinal / totalAportado).toFixed(2) : 0;

            const rentabilidadCartera = useMemo(() => {
                const rentabilidades = { rv: 8, rf: 3, oro: 5, cash: 1 };
                return Object.entries(cartera).reduce((acc, [k, v]) => acc + (rentabilidades[k] * v / 100), 0).toFixed(1);
            }, [cartera]);

            const totalCartera = Object.values(cartera).reduce((a, b) => a + b, 0);
            const quizPuntuacion = Object.entries(quizRespuestas).filter(([i, r]) => quizPreguntas[parseInt(i)].correcta === r).length;
            const puedePasarFase1 = () => testPreguntas.fase1.every(q => testRespuestas[q.id] === true);
            
            const obtenerRecomendacion = () => {
                const { horizonte, caida, gestion } = testRespuestas;
                let perfil = 'Moderado';
                let carteraRec = carteras[1];
                let brokersRec = ['MyInvestor'];
                if (caida === 'Vender todo' || horizonte === 'Menos de 3 a√±os') { perfil = 'Conservador'; carteraRec = carteras[0]; }
                else if ((caida === 'Comprar m√°s (oportunidad)' || caida === 'Mantener sin tocar nada') && horizonte === 'M√°s de 15 a√±os') { perfil = 'Agresivo'; carteraRec = carteras[2]; }
                if (gestion === 'Cero (que sea autom√°tico)') { brokersRec = ['Indexa Capital', 'MyInvestor']; }
                else if (gestion === 'Mucho (an√°lisis frecuente)') { brokersRec = ['Interactive Brokers', 'DEGIRO']; }
                else { brokersRec = ['MyInvestor', 'Trade Republic']; }
                return { perfil, carteraRec, brokersRec };
            };

            const NavBtn = ({ sec, icono: Icono, label }) => (
                <button onClick={() => { setSection(sec); setMenuOpen(false); }} className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-all ${section === sec ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg' : 'text-gray-500 hover:text-gray-800 hover:bg-pink-50'}`}>
                    <Icono size={16} /><span className="font-medium">{label}</span>
                </button>
            );

            const filteredGlosario = glosario.filter(g => g.term.toLowerCase().includes(searchTerm.toLowerCase()) || g.def.toLowerCase().includes(searchTerm.toLowerCase()));
            const filteredBrokers = brokers.filter(b => brokerFiltro === 'todos' || b.tipo === brokerFiltro);

            const colores = {
                emerald: { bg: 'bg-emerald-50', border: 'border-emerald-200', text: 'text-emerald-600' },
                blue: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-600' },
                purple: { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-600' },
                cyan: { bg: 'bg-cyan-50', border: 'border-cyan-200', text: 'text-cyan-600' },
                amber: { bg: 'bg-amber-50', border: 'border-amber-200', text: 'text-amber-600' },
                orange: { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-600' },
                yellow: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-600' }
            };

            const Inicio = () => (
                <div className="space-y-8">
                    <div className="text-center py-8">
                        <div className="inline-flex items-center gap-2 px-4 py-2 bg-pink-100 rounded-full text-pink-500 text-sm font-medium mb-6 border border-pink-200">
                            <Zap size={16} /> Versi√≥n 3.0 ‚Äî Gu√≠a Definitiva
                        </div>
                        <h1 className="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-rose-500 to-amber-500 mb-4">Finanzas e Inversi√≥n</h1>
                        <p className="text-lg text-gray-500 max-w-xl mx-auto mb-8">Todo lo que necesitas saber para gestionar tu dinero e invertir con cabeza</p>
                        <div className="flex flex-wrap justify-center gap-3">
                            <button onClick={() => setSection('test')} className="px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl font-bold text-white shadow-lg shadow-pink-300/50 hover:scale-105 transition-all flex items-center gap-2"><Target size={18} /> Test de perfil</button>
                            <button onClick={() => setSection('calc')} className="px-6 py-3 bg-pink-50 rounded-xl font-bold text-gray-800 border border-pink-200 hover:bg-pink-100 transition-all flex items-center gap-2"><Calculator size={18} /> Calculadora</button>
                            <button onClick={() => setSection('quiz')} className="px-6 py-3 bg-purple-50 rounded-xl font-bold text-purple-600 border border-purple-200 hover:bg-purple-100 transition-all flex items-center gap-2"><GraduationCap size={18} /> Quiz</button>
                        </div>
                    </div>
                    <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200">
                        <div className="flex items-center gap-4">
                            <AlertTriangle className="text-amber-600 flex-shrink-0" size={40} />
                            <div><p className="text-xl font-bold text-gray-800">Invertir no es para hacerse rico r√°pido</p><p className="text-gray-600">Es para <span className="text-amber-600 font-bold">proteger tu patrimonio</span> de la inflaci√≥n y hacerlo crecer a largo plazo.</p></div>
                        </div>
                    </div>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                        {[
                            { icono: Wallet, titulo: 'Gesti√≥n', sec: 'gestion', desc: 'Presupuesto y ahorro' },
                            { icono: BarChart3, titulo: 'Activos', sec: 'activos', desc: 'Tipos de inversi√≥n' },
                            { icono: Calculator, titulo: 'Calculadora', sec: 'calc', desc: 'Inter√©s compuesto' },
                            { icono: PieChartIcon, titulo: 'Cartera', sec: 'cartera', desc: 'Simula tu cartera' },
                            { icono: Target, titulo: 'Estrategias', sec: 'estrategias', desc: 'C√≥mo invertir' },
                            { icono: Brain, titulo: 'Psicolog√≠a', sec: 'psicologia', desc: 'Sesgos cognitivos' },
                            { icono: Building, titulo: 'Brokers', sec: 'brokers', desc: 'D√≥nde invertir' },
                            { icono: GraduationCap, titulo: 'Quiz', sec: 'quiz', desc: 'Pon a prueba' }
                        ].map((item, i) => (
                            <button key={i} onClick={() => setSection(item.sec)} className="p-4 bg-white rounded-xl border border-gray-200 hover:border-pink-300 hover:bg-white transition-all text-left group">
                                <item.icono className="text-pink-500 mb-2 group-hover:scale-110 transition-transform" size={28} />
                                <p className="font-bold text-gray-800">{item.titulo}</p>
                                <p className="text-xs text-gray-500">{item.desc}</p>
                            </button>
                        ))}
                    </div>
                    <div className="bg-white rounded-2xl p-6 border border-gray-200">
                        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"><TrendingUp className="text-pink-500" /> Rentabilidad hist√≥rica real</h3>
                        <div className="space-y-3">
                            {[
                                { indice: 'S&P 500', periodo: '1928-2024 (96 a√±os)', rent: '10.1%', nota: 'Las 500 mayores empresas de EEUU' },
                                { indice: 'MSCI World', periodo: '1970-2024 (54 a√±os)', rent: '8.5%', nota: '1.500+ empresas de 23 pa√≠ses desarrollados' },
                                { indice: 'IBEX 35', periodo: '1992-2024 (32 a√±os)', rent: '4.8%', nota: 'Las 35 mayores empresas de Espa√±a' }
                            ].map((d, i) => (
                                <div key={i} className="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                                    <div><p className="font-bold text-gray-800">{d.indice}</p><p className="text-xs text-gray-500">{d.periodo}</p><p className="text-xs text-gray-400">{d.nota}</p></div>
                                    <p className="text-xl font-black text-pink-500">{d.rent}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Gestion = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Wallet className="text-pink-500" /> Gesti√≥n del Dinero</h2>
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">Regla 50/30/20</h3>
                            <div className="h-48">
                                <ResponsiveContainer><PieChart><Pie data={[{name:'Necesidades',value:50},{name:'Ocio',value:30},{name:'Ahorro',value:20}]} cx="50%" cy="50%" innerRadius={45} outerRadius={75} dataKey="value" stroke="none"><Cell fill="#10b981" /><Cell fill="#3b82f6" /><Cell fill="#f59e0b" /></Pie><Tooltip /></PieChart></ResponsiveContainer>
                            </div>
                            <div className="flex justify-center gap-4 text-sm flex-wrap">
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-emerald-500"></span>50% Necesidades</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-blue-500"></span>30% Ocio</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-amber-500"></span>20% Ahorro/Inversi√≥n</span>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2"><Shield className="text-blue-600" /> Fondo de Emergencia</h3>
                            <div className="flex items-center gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200 mb-4">
                                <span className="text-5xl font-black text-blue-600">6-12</span>
                                <div><p className="text-gray-800 font-bold text-lg">meses de gastos</p><p className="text-sm text-gray-500">en cuenta de alta disponibilidad</p></div>
                            </div>
                            <p className="text-sm text-gray-500">Este colch√≥n te protege de imprevistos (paro, enfermedad, reparaciones) y te permite invertir sin necesitar ese dinero.</p>
                        </div>
                    </div>
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üìã Orden de prioridades financieras</h3>
                        <div className="space-y-3">
                            <div className="flex items-center gap-4 p-4 bg-red-50 rounded-xl border border-red-200">
                                <div className="w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center font-bold text-lg">1</div>
                                <div className="flex-1"><p className="text-gray-800 font-bold">Eliminar deuda mala</p><p className="text-sm text-gray-500">Prioriza deudas con TAE {'>'} 6-7% (tarjetas, cr√©ditos al consumo)</p></div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-amber-50 rounded-xl border border-amber-200">
                                <div className="w-10 h-10 rounded-full bg-amber-500 text-gray-800 flex items-center justify-center font-bold text-lg">2</div>
                                <div className="flex-1"><p className="text-gray-800 font-bold">Construir fondo de emergencia</p><p className="text-sm text-gray-500">6-12 meses de gastos en cuenta remunerada accesible</p></div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-pink-50 rounded-xl border border-pink-200">
                                <div className="w-10 h-10 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold text-lg">3</div>
                                <div className="flex-1"><p className="text-gray-800 font-bold">Invertir el excedente</p><p className="text-sm text-gray-500">Todo lo que sobre despu√©s de gastos, ahorro y emergencia</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const Activos = () => (
                <div className="space-y-6">
                    <div><h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><BarChart3 className="text-pink-500" /> Tipos de Activos</h2><p className="text-gray-500">Haz clic en cada activo para ver informaci√≥n detallada sobre qu√© es, c√≥mo funciona, ventajas, desventajas y c√≥mo invertir.</p></div>
                    <div className="space-y-3">
                        {activos.map((activo) => {
                            const expanded = activoExpandido === activo.id;
                            const colorClasses = colores[activo.color];
                            return (
                                <div key={activo.id} className={`bg-white rounded-xl border transition-all duration-300 overflow-hidden ${expanded ? 'border-pink-300' : 'border-gray-200 hover:border-gray-300'}`}>
                                    <button onClick={() => setActivoExpandido(expanded ? null : activo.id)} className="w-full p-5 text-left flex items-center justify-between">
                                        <div className="flex items-center gap-4">
                                            <div className={`p-3 ${colorClasses.bg} rounded-xl border ${colorClasses.border}`}><activo.icon className={colorClasses.text} size={28} /></div>
                                            <div><p className="font-bold text-gray-800 text-lg">{activo.nombre}</p><p className="text-sm text-gray-500">{activo.queEs.substring(0, 60)}...</p></div>
                                        </div>
                                        {expanded ? <ChevronUp className="text-gray-500" size={24} /> : <ChevronDown className="text-gray-500" size={24} />}
                                    </button>
                                    {expanded && (
                                        <div className="px-5 pb-6 space-y-5 border-t border-gray-200 pt-5">
                                            <div className="grid md:grid-cols-2 gap-6">
                                                <div><h4 className="font-bold text-gray-800 mb-2 flex items-center gap-2">üí° ¬øQu√© es?</h4><p className="text-gray-600 text-sm leading-relaxed">{activo.queEs}</p></div>
                                                <div><h4 className="font-bold text-gray-800 mb-2 flex items-center gap-2">‚öôÔ∏è ¬øC√≥mo funciona?</h4><p className="text-gray-600 text-sm leading-relaxed">{activo.comoFunciona}</p></div>
                                            </div>
                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üìà Rentabilidad</p><p className="text-sm text-gray-800 font-medium">{activo.rentabilidad}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">‚ö†Ô∏è Riesgo</p><p className="text-sm text-gray-800 font-medium">{activo.riesgo}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üë§ Ideal para</p><p className="text-sm text-gray-800 font-medium">{activo.idealPara}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üõí C√≥mo invertir</p><p className="text-sm text-gray-800 font-medium">{activo.comoInvertir}</p></div>
                                            </div>
                                            <div className="grid md:grid-cols-2 gap-6">
                                                <div><h4 className="font-bold text-pink-500 mb-3">‚úì Ventajas</h4><ul className="space-y-2">{activo.ventajas.map((v, i) => (<li key={i} className="flex items-start gap-2 text-sm text-gray-600"><Check size={16} className="text-pink-500 mt-0.5 flex-shrink-0" />{v}</li>))}</ul></div>
                                                <div><h4 className="font-bold text-red-400 mb-3">‚úó Desventajas</h4><ul className="space-y-2">{activo.desventajas.map((d, i) => (<li key={i} className="flex items-start gap-2 text-sm text-gray-600"><X size={16} className="text-red-400 mt-0.5 flex-shrink-0" />{d}</li>))}</ul></div>
                                            </div>
                                            <div><h4 className="font-bold text-gray-800 mb-3">üìå Ejemplos concretos</h4><div className="flex flex-wrap gap-2">{activo.ejemplos.map((e, i) => (<span key={i} className={`px-4 py-2 ${colorClasses.bg} rounded-full text-sm ${colorClasses.text} border ${colorClasses.border}`}>{e}</span>))}</div></div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            const Calculadora = () => (
                <div className="space-y-6">
                    <div><h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><Calculator className="text-pink-500" /> Calculadora de Inter√©s Compuesto</h2><p className="text-gray-500">Modifica los valores para ver c√≥mo crece tu dinero con el tiempo. El inter√©s compuesto es la octava maravilla del mundo.</p></div>
                    <div className="grid lg:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200 space-y-6">
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üí∞ Capital inicial</span><span className="text-gray-800 font-bold text-lg">{calcCapital.toLocaleString()}‚Ç¨</span></label><input type="range" min="0" max="100000" step="1000" value={calcCapital} onChange={(e) => setCalcCapital(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>0‚Ç¨</span><span>100.000‚Ç¨</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üìÖ Aportaci√≥n mensual</span><span className="text-gray-800 font-bold text-lg">{calcMensual}‚Ç¨/mes</span></label><input type="range" min="0" max="2000" step="50" value={calcMensual} onChange={(e) => setCalcMensual(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>0‚Ç¨</span><span>2.000‚Ç¨</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üìà Rentabilidad anual esperada</span><span className="text-gray-800 font-bold text-lg">{calcRent}%</span></label><input type="range" min="1" max="15" step="0.5" value={calcRent} onChange={(e) => setCalcRent(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>1%</span><span>15%</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">‚è±Ô∏è Horizonte temporal</span><span className="text-gray-800 font-bold text-lg">{calcAnios} a√±os</span></label><input type="range" min="1" max="40" step="1" value={calcAnios} onChange={(e) => setCalcAnios(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>1 a√±o</span><span>40 a√±os</span></div></div>
                            <div className="grid grid-cols-2 gap-3 pt-4 border-t border-gray-200">
                                <div className="text-center p-4 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">Total aportado</p><p className="text-xl font-bold text-gray-600">{totalAportado.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-pink-50 rounded-xl border border-pink-200"><p className="text-xs text-gray-500 mb-1">Capital final</p><p className="text-xl font-bold text-pink-500">{capitalFinal.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-purple-50 rounded-xl border border-purple-200"><p className="text-xs text-gray-500 mb-1">Ganancia total</p><p className="text-xl font-bold text-purple-600">+{gananciaTotal.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-amber-50 rounded-xl border border-amber-200"><p className="text-xs text-gray-500 mb-1">Multiplicador</p><p className="text-xl font-bold text-amber-600">x{multiplicador}</p></div>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">üìä Evoluci√≥n del capital</h3>
                            <div className="h-72">
                                <ResponsiveContainer>
                                    <AreaChart data={datosCalculadora}>
                                        <defs><linearGradient id="colorCapital" x1="0" y1="0" x2="0" y2="1"><stop offset="5%" stopColor="#10b981" stopOpacity={0.3}/><stop offset="95%" stopColor="#10b981" stopOpacity={0}/></linearGradient><linearGradient id="colorAportado" x1="0" y1="0" x2="0" y2="1"><stop offset="5%" stopColor="#9ca3af" stopOpacity={0.3}/><stop offset="95%" stopColor="#9ca3af" stopOpacity={0}/></linearGradient></defs>
                                        <CartesianGrid strokeDasharray="3 3" stroke="#fce7f3" />
                                        <XAxis dataKey="a√±o" stroke="#9ca3af" tick={{fill: '#6b7280'}} tickFormatter={(v) => `${v}a`} />
                                        <YAxis stroke="#9ca3af" tick={{fill: '#6b7280'}} tickFormatter={(v) => `${(v/1000).toFixed(0)}k`} />
                                        <Tooltip contentStyle={{backgroundColor: '#fff', border: '1px solid #fce7f3', borderRadius: '8px'}} labelStyle={{color: '#374151'}} formatter={(value) => [`${value.toLocaleString()}‚Ç¨`]} />
                                        <Area type="monotone" dataKey="aportado" stroke="#9ca3af" fill="url(#colorAportado)" name="Aportado" />
                                        <Area type="monotone" dataKey="capital" stroke="#10b981" fill="url(#colorCapital)" name="Capital" strokeWidth={2} />
                                    </AreaChart>
                                </ResponsiveContainer>
                            </div>
                            <p className="text-sm text-gray-500 mt-4 p-4 bg-pink-50 rounded-xl border border-pink-200">üí° Con <strong className="text-gray-800">{calcCapital.toLocaleString()}‚Ç¨</strong> iniciales y aportaciones de <strong className="text-gray-800">{calcMensual}‚Ç¨/mes</strong> al <strong className="text-gray-800">{calcRent}%</strong> durante <strong className="text-gray-800">{calcAnios} a√±os</strong>, tu dinero se multiplica por <strong className="text-pink-500">{multiplicador}x</strong>.</p>
                        </div>
                    </div>
                </div>
            );

            const Cartera = () => (
                <div className="space-y-6">
                    <div><h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><PieChartIcon className="text-pink-500" /> Simulador de Cartera</h2><p className="text-gray-500">Ajusta la distribuci√≥n de tu cartera y ve la rentabilidad esperada. Prueba las carteras modelo.</p></div>
                    <div className="grid lg:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200 space-y-5">
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üìà Renta Variable (Acciones/ETFs)</span><span className="text-pink-500 font-bold">{cartera.rv}%</span></label><input type="range" min="0" max="100" value={cartera.rv} onChange={(e) => setCartera(p => ({...p, rv: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üîí Renta Fija (Bonos)</span><span className="text-blue-600 font-bold">{cartera.rf}%</span></label><input type="range" min="0" max="100" value={cartera.rf} onChange={(e) => setCartera(p => ({...p, rf: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">ü•á Oro</span><span className="text-amber-600 font-bold">{cartera.oro}%</span></label><input type="range" min="0" max="100" value={cartera.oro} onChange={(e) => setCartera(p => ({...p, oro: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üíµ Efectivo</span><span className="text-gray-500 font-bold">{cartera.cash}%</span></label><input type="range" min="0" max="100" value={cartera.cash} onChange={(e) => setCartera(p => ({...p, cash: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div className="pt-4 border-t border-gray-200 space-y-3">
                                <div className="flex justify-between items-center"><span className="text-gray-500">Total</span><span className={`text-xl font-bold ${totalCartera === 100 ? 'text-pink-500' : 'text-red-400'}`}>{totalCartera}% {totalCartera !== 100 && '‚ö†Ô∏è'}</span></div>
                                <div className="flex justify-between items-center"><span className="text-gray-500">Rentabilidad esperada</span><span className="text-xl font-bold text-pink-500">~{rentabilidadCartera}% anual</span></div>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">Tu distribuci√≥n</h3>
                            <div className="h-56">
                                <ResponsiveContainer><PieChart><Pie data={[{ name: 'Renta Variable', value: cartera.rv, fill: '#10b981' },{ name: 'Renta Fija', value: cartera.rf, fill: '#3b82f6' },{ name: 'Oro', value: cartera.oro, fill: '#f59e0b' },{ name: 'Efectivo', value: cartera.cash, fill: '#9ca3af' }].filter(d => d.value > 0)} cx="50%" cy="50%" innerRadius={55} outerRadius={85} dataKey="value" stroke="none" /><Tooltip formatter={(v) => [`${v}%`]} /></PieChart></ResponsiveContainer>
                            </div>
                            <div className="flex flex-wrap justify-center gap-4 text-sm">
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-emerald-500"></span>RV {cartera.rv}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-blue-500"></span>RF {cartera.rf}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-amber-500"></span>Oro {cartera.oro}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-slate-500"></span>Cash {cartera.cash}%</span>
                            </div>
                        </div>
                    </div>
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üìã Carteras modelo (haz clic para aplicar)</h3>
                        <div className="grid md:grid-cols-4 gap-4">
                            {carteras.map((c, i) => (
                                <button key={i} onClick={() => setCartera({ rv: c.rv, rf: c.rf, oro: c.oro, cash: c.cash })} className="p-4 bg-gray-50 rounded-xl hover:bg-gray-50 transition-all text-left border border-transparent hover:border-pink-200">
                                    <p className="font-bold text-gray-800 mb-2">{c.nombre}</p>
                                    <div className="flex gap-0.5 mb-3 h-3 rounded-full overflow-hidden">{c.rv > 0 && <div className="bg-emerald-500" style={{width: `${c.rv}%`}}></div>}{c.rf > 0 && <div className="bg-blue-500" style={{width: `${c.rf}%`}}></div>}{c.oro > 0 && <div className="bg-amber-500" style={{width: `${c.oro}%`}}></div>}{c.cash > 0 && <div className="bg-slate-500" style={{width: `${c.cash}%`}}></div>}</div>
                                    <p className="text-sm text-pink-500 font-medium">Rent: {c.rent}</p><p className="text-xs text-gray-400">Horizonte: {c.horizonte}</p>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Estrategias = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Target className="text-pink-500" /> Estrategias de Inversi√≥n</h2>
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {[
                            { nombre: 'DCA', desc: 'Invertir cantidad fija cada mes sin importar el precio', riesgo: 'Bajo-Medio', esfuerzo: 'Muy bajo', best: true },
                            { nombre: 'Buy & Hold', desc: 'Comprar y mantener durante a√±os sin tocar', riesgo: 'Medio', esfuerzo: 'Muy bajo', best: true },
                            { nombre: 'Indexaci√≥n', desc: 'Replicar √≠ndices globales con fondos/ETFs', riesgo: 'Medio', esfuerzo: 'Muy bajo', best: true },
                            { nombre: 'Cartera Permanente', desc: '25% acciones, 25% bonos, 25% oro, 25% cash', riesgo: 'Bajo', esfuerzo: 'Bajo' },
                            { nombre: 'Value Investing', desc: 'Buscar empresas infravaloradas por el mercado', riesgo: 'Medio-Alto', esfuerzo: 'Alto' },
                            { nombre: 'Dividendos', desc: 'Invertir en empresas que pagan dividendos consistentes', riesgo: 'Medio', esfuerzo: 'Medio' }
                        ].map((s, i) => (
                            <div key={i} className={`p-5 bg-white rounded-xl border ${s.best ? 'border-pink-300 ring-1 ring-emerald-500/20' : 'border-gray-200'}`}>
                                {s.best && <span className="inline-block text-xs bg-emerald-500 text-white px-2 py-1 rounded-full mb-3">‚úì Recomendada</span>}
                                <h4 className="font-bold text-gray-800 text-lg">{s.nombre}</h4><p className="text-sm text-gray-500 my-2">{s.desc}</p>
                                <div className="space-y-1 text-xs"><p><span className="text-gray-400">Riesgo:</span> <span className="text-gray-800">{s.riesgo}</span></p><p><span className="text-gray-400">Esfuerzo:</span> <span className="text-gray-800">{s.esfuerzo}</span></p></div>
                            </div>
                        ))}
                    </div>
                    <div className="bg-red-50 rounded-xl p-6 border border-red-200">
                        <h3 className="font-bold text-red-400 mb-4 flex items-center gap-2"><XCircle /> Lo que NO funciona (estad√≠sticamente)</h3>
                        <div className="grid md:grid-cols-3 gap-4">
                            {[
                                { nombre: 'Day Trading', stat: '>80% pierden dinero', desc: 'Comisiones + emociones + tiempo = p√©rdidas' },
                                { nombre: 'Apalancamiento', stat: 'Riesgo de ruina', desc: 'Puedes perder m√°s del 100% de tu inversi√≥n' },
                                { nombre: 'Seguir rumores/tips', stat: 'Compras caro, vendes barato', desc: 'El FOMO destruye la rentabilidad' }
                            ].map((item, i) => (
                                <div key={i} className="p-4 bg-gradient-to-br from-amber-50 via-white to-pink-50/50 rounded-xl"><p className="font-bold text-gray-800">{item.nombre}</p><p className="text-red-400 font-bold text-sm">{item.stat}</p><p className="text-xs text-gray-400 mt-1">{item.desc}</p></div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Psicologia = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Brain className="text-pink-500" /> Psicolog√≠a del Inversor</h2>
                    <div className="bg-gradient-to-r from-pink-500/10 to-purple-500/10 rounded-xl p-6 border border-pink-500/30 text-center">
                        <p className="text-xl text-gray-600">"El mercado transfiere dinero de los <span className="text-pink-400 font-bold">impacientes</span> a los <span className="text-pink-500 font-bold">pacientes</span>"</p>
                        <p className="text-sm text-gray-400 mt-2">‚Äî Warren Buffett</p>
                    </div>
                    <div className="grid md:grid-cols-2 gap-4">
                        {sesgos.map((s, i) => (
                            <div key={i} className="bg-white rounded-xl p-5 border border-gray-200">
                                <div className="flex items-center gap-3 mb-3"><div className="p-2 bg-pink-500/20 rounded-lg border border-pink-500/30"><s.icono className="text-pink-400" size={24} /></div><h4 className="font-bold text-gray-800 text-lg">{s.nombre}</h4></div>
                                <p className="text-sm text-gray-500 mb-3">{s.descripcion}</p>
                                <div className="p-3 bg-gray-50 rounded-lg mb-3"><p className="text-xs text-gray-400">Ejemplo:</p><p className="text-sm text-gray-600">{s.ejemplo}</p></div>
                                <div className="p-3 bg-pink-50 rounded-lg border border-pink-200"><p className="text-xs text-emerald-600"><strong>‚úì Soluci√≥n:</strong> {s.solucion}</p></div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const Brokers = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Building className="text-pink-500" /> Comparador de Brokers</h2>
                    <div className="flex flex-wrap gap-2">
                        {['todos', 'fondos', 'broker', 'app', 'robo'].map((f) => (
                            <button key={f} onClick={() => setBrokerFiltro(f)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${brokerFiltro === f ? 'bg-emerald-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-slate-600'}`}>
                                {f === 'todos' ? 'Todos' : f === 'fondos' ? 'üìä Fondos' : f === 'broker' ? 'üìà Broker' : f === 'app' ? 'üì± App' : 'ü§ñ Robo-advisor'}
                            </button>
                        ))}
                    </div>
                    <div className="space-y-3">
                        {filteredBrokers.map((b, i) => (
                            <div key={i} className="bg-white rounded-xl p-5 border border-gray-200 hover:border-pink-200 transition-all">
                                <div className="flex items-center gap-3 mb-3"><span className="text-2xl">{b.pais}</span><h4 className="font-bold text-gray-800 text-lg">{b.name}</h4><div className="flex gap-0.5 ml-2">{[...Array(b.rating)].map((_, j) => <Star key={j} size={14} className="text-amber-600 fill-amber-400" />)}</div></div>
                                <p className="text-sm text-gray-500 mb-3">{b.desc}</p>
                                <div className="flex flex-wrap gap-2">
                                    <span className="px-3 py-1 bg-pink-100 rounded-full text-xs text-emerald-600 border border-pink-200">{b.comision === 'gratis' ? '‚úì Sin comisiones' : 'üí∞ Comisiones bajas'}</span>
                                    <span className="px-3 py-1 bg-blue-500/20 rounded-full text-xs text-blue-300 border border-blue-200">{b.productos}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="bg-white rounded-xl p-5 border border-gray-200"><p className="text-sm text-gray-500"><strong className="text-gray-800">üîí Seguridad:</strong> Todos los brokers listados est√°n regulados y tus inversiones est√°n protegidas hasta 100.000‚Ç¨ por el FOGAIN (Espa√±a) o sistemas equivalentes (UE).</p></div>
                </div>
            );

            const Quiz = () => {
                if (!quizIniciado) {
                    return (
                        <div className="text-center py-16 space-y-6">
                            <GraduationCap className="mx-auto text-purple-600" size={80} />
                            <h2 className="text-3xl font-black text-gray-800">Quiz de Conocimientos</h2>
                            <p className="text-gray-500 max-w-md mx-auto">10 preguntas para poner a prueba lo que has aprendido sobre finanzas e inversi√≥n.</p>
                            <button onClick={() => { setQuizIniciado(true); setQuizPregunta(0); setQuizRespuestas({}); setQuizTerminado(false); }} className="px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-bold text-gray-800 text-lg hover:scale-105 transition-all shadow-lg shadow-purple-500/25">Empezar Quiz</button>
                        </div>
                    );
                }
                if (quizTerminado) {
                    return (
                        <div className="text-center py-8 space-y-6">
                            <div className="inline-flex items-center justify-center w-28 h-28 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-gray-800 text-4xl font-black shadow-lg">{quizPuntuacion}/10</div>
                            <h2 className="text-2xl font-black text-gray-800">{quizPuntuacion >= 8 ? '¬°Excelente! üèÜ' : quizPuntuacion >= 5 ? '¬°Bien hecho! üëç' : 'Sigue aprendiendo üìö'}</h2>
                            <p className="text-gray-500">{quizPuntuacion >= 8 ? 'Dominas los conceptos b√°sicos de inversi√≥n.' : quizPuntuacion >= 5 ? 'Tienes buena base, pero hay margen de mejora.' : 'Te recomiendo repasar las secciones de la gu√≠a.'}</p>
                            <div className="max-w-2xl mx-auto space-y-3 text-left">
                                {quizPreguntas.map((q, i) => (
                                    <div key={i} className={`p-4 rounded-xl ${quizRespuestas[i] === q.correcta ? 'bg-pink-50 border border-pink-200' : 'bg-red-50 border border-red-200'}`}>
                                        <p className="text-sm text-gray-800 mb-1">{q.pregunta}</p><p className="text-xs text-pink-500">‚úì {q.opciones[q.correcta]}</p>
                                    </div>
                                ))}
                            </div>
                            <button onClick={() => setQuizIniciado(false)} className="px-6 py-3 bg-pink-50 rounded-xl text-gray-800 hover:bg-pink-100 transition-all">Repetir Quiz</button>
                        </div>
                    );
                }
                const q = quizPreguntas[quizPregunta];
                return (
                    <div className="max-w-2xl mx-auto space-y-6">
                        <div className="flex items-center justify-between">
                            <span className="text-gray-500">Pregunta {quizPregunta + 1} de 10</span>
                            <div className="flex gap-1">{[...Array(10)].map((_, i) => (<div key={i} className={`w-3 h-3 rounded-full ${i < quizPregunta ? (quizRespuestas[i] === quizPreguntas[i].correcta ? 'bg-emerald-500' : 'bg-red-500') : i === quizPregunta ? 'bg-purple-500' : 'bg-gray-100'}`} />))}</div>
                        </div>
                        <div className="bg-white rounded-xl p-8 border border-gray-200">
                            <p className="text-xl font-bold text-gray-800 mb-8">{q.pregunta}</p>
                            <div className="space-y-3">
                                {q.opciones.map((opt, i) => {
                                    const respondido = quizRespuestas[quizPregunta] !== undefined;
                                    const esSeleccionada = quizRespuestas[quizPregunta] === i;
                                    const esCorrecta = i === q.correcta;
                                    let clases = "w-full p-4 rounded-xl text-left transition-all font-medium ";
                                    if (respondido) {
                                        if (esSeleccionada) { clases += esCorrecta ? "bg-emerald-500 text-white" : "bg-red-500 text-white"; }
                                        else if (esCorrecta) { clases += "bg-pink-100 border-2 border-emerald-500 text-emerald-600"; }
                                        else { clases += "bg-gray-50 text-gray-400"; }
                                    } else { clases += "bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-800"; }
                                    return (
                                        <button key={i} onClick={() => { if (!respondido) { setQuizRespuestas(p => ({...p, [quizPregunta]: i})); setTimeout(() => { if (quizPregunta < 9) { setQuizPregunta(quizPregunta + 1); } else { setQuizTerminado(true); } }, 1000); }}} disabled={respondido} className={clases}>{opt}</button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            };

            const Test = () => {
                if (testResultados) {
                    const rec = obtenerRecomendacion();
                    return (
                        <div className="space-y-6">
                            <div className="text-center"><Award className="mx-auto text-pink-500 mb-4" size={64} /><h2 className="text-3xl font-black text-gray-800">Tu Perfil: <span className="text-pink-500">{rec.perfil}</span></h2></div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="bg-pink-50 rounded-xl p-6 border border-pink-200">
                                    <h3 className="font-bold text-pink-500 text-lg mb-4">üìä Cartera recomendada</h3>
                                    <div className="flex gap-1 mb-4 h-5 rounded-full overflow-hidden"><div className="bg-emerald-500" style={{width: `${rec.carteraRec.rv}%`}}></div><div className="bg-blue-500" style={{width: `${rec.carteraRec.rf}%`}}></div><div className="bg-amber-500" style={{width: `${rec.carteraRec.oro}%`}}></div><div className="bg-slate-500" style={{width: `${rec.carteraRec.cash}%`}}></div></div>
                                    <p className="text-gray-600">RV {rec.carteraRec.rv}% | RF {rec.carteraRec.rf}% | Oro {rec.carteraRec.oro}% | Cash {rec.carteraRec.cash}%</p><p className="text-emerald-600 font-medium mt-2">Rentabilidad esperada: {rec.carteraRec.rent}</p>
                                </div>
                                <div className="bg-purple-50 rounded-xl p-6 border border-purple-200">
                                    <h3 className="font-bold text-purple-600 text-lg mb-4">üè¶ Brokers recomendados</h3>
                                    <div className="flex flex-wrap gap-2">{rec.brokersRec.map((b, i) => (<span key={i} className="px-4 py-2 bg-purple-50 rounded-full text-purple-600 border border-purple-200">{b}</span>))}</div>
                                </div>
                            </div>
                            <div className="bg-white rounded-xl p-6 border border-gray-200">
                                <h3 className="font-bold text-gray-800 mb-4">üìã Pr√≥ximos pasos</h3>
                                <ol className="space-y-3">
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">1</span><span className="text-gray-600">Abre cuenta en {rec.brokersRec[0]}</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">2</span><span className="text-gray-600">Configura una aportaci√≥n mensual autom√°tica (DCA)</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">3</span><span className="text-gray-600">Invierte en fondos/ETFs globales siguiendo tu distribuci√≥n</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">4</span><span className="text-gray-600">Olv√≠date y deja que el tiempo haga su magia</span></li>
                                </ol>
                            </div>
                            <div className="flex justify-center gap-4">
                                <button onClick={() => { setTestRespuestas({}); setTestFase(0); setTestResultados(false); }} className="px-6 py-3 bg-pink-50 rounded-xl text-gray-800 hover:bg-pink-100 flex items-center gap-2"><RefreshCw size={18} /> Repetir test</button>
                                <button onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent(`üìä Mi perfil inversor: ${rec.perfil}\n\n‚úÖ Haz el test en la Gu√≠a de Finanzas e Inversi√≥n`)}`, '_blank')} className="px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 rounded-xl text-gray-800 flex items-center gap-2"><Share2 size={18} /> Compartir</button>
                            </div>
                        </div>
                    );
                }
                const fases = [{ nombre: 'Requisitos previos', preguntas: testPreguntas.fase1 },{ nombre: 'Tu perfil de riesgo', preguntas: testPreguntas.fase2 },{ nombre: 'Compromiso', preguntas: testPreguntas.fase3 }];
                const faseActual = fases[testFase];
                const todasRespondidas = faseActual.preguntas.every(q => testRespuestas[q.id] !== undefined);
                return (
                    <div className="max-w-2xl mx-auto space-y-6">
                        <h2 className="text-2xl font-black text-gray-800 text-center">üéØ Test de Perfil Inversor</h2>
                        <div className="flex justify-center gap-3">{fases.map((_, i) => (<div key={i} className={`w-10 h-10 rounded-full flex items-center justify-center font-bold ${i < testFase ? 'bg-emerald-500 text-white' : i === testFase ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white' : 'bg-gray-100 text-gray-500'}`}>{i < testFase ? <Check size={20} /> : i + 1}</div>))}</div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-2">Fase {testFase + 1}: {faseActual.nombre}</h3>
                            {testFase === 0 && (<div className="p-4 bg-amber-50 rounded-xl border border-amber-200 mb-6"><p className="text-sm text-amber-600">‚ö†Ô∏è Si respondes "No" a alguna pregunta, trabaja en ello antes de empezar a invertir.</p></div>)}
                            <div className="space-y-4">
                                {faseActual.preguntas.map((q) => {
                                    const respondida = testRespuestas[q.id] !== undefined;
                                    const esPositiva = testRespuestas[q.id] === true || typeof testRespuestas[q.id] === 'string';
                                    return (
                                        <div key={q.id} className={`p-4 rounded-xl border transition-all ${respondida ? (esPositiva ? 'bg-pink-50 border-pink-200' : 'bg-red-50 border-red-200') : 'bg-gray-50 border-gray-200'}`}>
                                            <p className="text-gray-800 mb-4">{q.texto}</p>
                                            {q.opciones ? (
                                                <div className="space-y-2">{q.opciones.map((opt, j) => (<button key={j} onClick={() => setTestRespuestas(p => ({...p, [q.id]: opt}))} className={`w-full p-3 rounded-lg text-left text-sm transition-all ${testRespuestas[q.id] === opt ? 'bg-pink-100 border border-pink-300 text-emerald-600' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>{opt}</button>))}</div>
                                            ) : (
                                                <div className="flex gap-3">
                                                    <button onClick={() => setTestRespuestas(p => ({...p, [q.id]: true}))} className={`flex-1 py-3 rounded-lg font-medium transition-all ${testRespuestas[q.id] === true ? 'bg-emerald-500 text-white' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>S√≠</button>
                                                    <button onClick={() => setTestRespuestas(p => ({...p, [q.id]: false}))} className={`flex-1 py-3 rounded-lg font-medium transition-all ${testRespuestas[q.id] === false ? 'bg-red-500 text-white' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>No</button>
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                            {testFase === 0 && !puedePasarFase1() && todasRespondidas && (<div className="mt-6 p-4 bg-red-50 rounded-xl border border-red-200"><p className="text-red-400 font-bold">‚ùå A√∫n no est√°s preparado para invertir</p><p className="text-sm text-gray-500 mt-1">Trabaja primero en los requisitos marcados en rojo.</p></div>)}
                            <div className="flex justify-between mt-6 pt-4 border-t border-gray-200">
                                <button onClick={() => testFase > 0 && setTestFase(testFase - 1)} disabled={testFase === 0} className={`px-5 py-2 rounded-xl ${testFase === 0 ? 'opacity-50 cursor-not-allowed' : 'bg-pink-50 text-gray-800 hover:bg-pink-100'}`}>‚Üê Anterior</button>
                                <button onClick={() => { if (testFase < 2) setTestFase(testFase + 1); else setTestResultados(true); }} disabled={!todasRespondidas || (testFase === 0 && !puedePasarFase1())} className={`px-5 py-2 rounded-xl flex items-center gap-2 ${todasRespondidas && (testFase !== 0 || puedePasarFase1()) ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white' : 'bg-gray-100 text-gray-500 cursor-not-allowed'}`}>{testFase === 2 ? 'Ver resultados' : 'Siguiente'} <ChevronRight size={18} /></button>
                            </div>
                        </div>
                    </div>
                );
            };

            const GlosarioModal = () => (
                <div className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4" onClick={() => setShowGlosario(false)}>
                    <div className="bg-gradient-to-br from-amber-50 via-white to-pink-50 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden border border-gray-200" onClick={e => e.stopPropagation()}>
                        <div className="p-4 border-b border-gray-200 flex items-center justify-between"><h3 className="text-lg font-bold text-gray-800 flex items-center gap-2"><BookOpen className="text-pink-500" /> Glosario financiero</h3><button onClick={() => setShowGlosario(false)} className="p-2 hover:bg-white rounded-lg"><X className="text-gray-500" /></button></div>
                        <div className="p-4 border-b border-gray-200"><div className="relative"><Search className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" size={18} /><input type="text" placeholder="Buscar t√©rmino..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className="w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-800 focus:outline-none focus:border-emerald-500" /></div></div>
                        <div className="overflow-y-auto max-h-[50vh] p-4 space-y-2">{filteredGlosario.map((item, i) => (<div key={i} className="p-4 bg-white rounded-xl"><p className="font-bold text-pink-500">{item.term}</p><p className="text-sm text-gray-600 mt-1">{item.def}</p></div>))}</div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 via-white to-pink-50 text-gray-800">
                    <div className="fixed inset-0 overflow-hidden pointer-events-none"><div className="absolute top-0 left-1/4 w-96 h-96 bg-pink-200/30 rounded-full blur-3xl" /><div className="absolute bottom-0 right-1/4 w-96 h-96 bg-amber-200/30 rounded-full blur-3xl" /></div>
                    <header className="sticky top-0 z-40 bg-white/95 backdrop-blur-xl border-b border-gray-200">
                        <div className="max-w-6xl mx-auto px-4 py-3">
                            <div className="flex items-center justify-between">
                                <button onClick={() => setSection('inicio')} className="flex items-center gap-2"><div className="p-2 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl"><TrendingUp size={20} /></div><span className="font-bold text-lg hidden sm:block">{t('inicio', 'titol')}</span></button>
                                <nav className="hidden lg:flex gap-1 items-center"><NavBtn sec="inicio" icono={Zap} label={t('nav', 'inicio')} /><NavBtn sec="gestion" icono={Wallet} label={t('nav', 'gestion')} /><NavBtn sec="activos" icono={BarChart3} label={t('nav', 'activos')} /><NavBtn sec="calc" icono={Calculator} label={t('nav', 'calc')} /><NavBtn sec="cartera" icono={PieChartIcon} label={t('nav', 'cartera')} /><NavBtn sec="estrategias" icono={Target} label={t('nav', 'estrategias')} /><NavBtn sec="psicologia" icono={Brain} label={t('nav', 'psicologia')} /><NavBtn sec="brokers" icono={Building} label={t('nav', 'brokers')} /><NavBtn sec="quiz" icono={GraduationCap} label={t('nav', 'quiz')} /><NavBtn sec="test" icono={Award} label={t('nav', 'test')} /><div className="ml-2"><LanguageSelector /></div></nav>
                                <div className="lg:hidden flex items-center gap-2"><LanguageSelector /><button onClick={() => setMenuOpen(!menuOpen)} className="p-2 hover:bg-white rounded-lg">{menuOpen ? <X size={24} /> : <Menu size={24} />}</button></div>
                            </div>
                            {menuOpen && (<nav className="lg:hidden flex flex-wrap gap-2 mt-3 pb-2"><NavBtn sec="inicio" icono={Zap} label={t('nav', 'inicio')} /><NavBtn sec="gestion" icono={Wallet} label={t('nav', 'gestion')} /><NavBtn sec="activos" icono={BarChart3} label={t('nav', 'activos')} /><NavBtn sec="calc" icono={Calculator} label={t('nav', 'calc')} /><NavBtn sec="cartera" icono={PieChartIcon} label={t('nav', 'cartera')} /><NavBtn sec="estrategias" icono={Target} label={t('nav', 'estrategias')} /><NavBtn sec="psicologia" icono={Brain} label={t('nav', 'psicologia')} /><NavBtn sec="brokers" icono={Building} label={t('nav', 'brokers')} /><NavBtn sec="quiz" icono={GraduationCap} label={t('nav', 'quiz')} /><NavBtn sec="test" icono={Award} label={t('nav', 'test')} /></nav>)}
                        </div>
                    </header>
                    <main className="relative z-10 max-w-6xl mx-auto px-4 py-8">
                        {section === 'inicio' && <Inicio />}
                        {section === 'gestion' && <Gestion />}
                        {section === 'activos' && <Activos />}
                        {section === 'calc' && <Calculadora />}
                        {section === 'cartera' && <Cartera />}
                        {section === 'estrategias' && <Estrategias />}
                        {section === 'psicologia' && <Psicologia />}
                        {section === 'brokers' && <Brokers />}
                        {section === 'quiz' && <Quiz />}
                        {section === 'test' && <Test />}
                    </main>
                    <button onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent('üìä Gu√≠a COMPLETA de Finanzas e Inversi√≥n\n\n‚úÖ Calculadora inter√©s compuesto\n‚úÖ Simulador de cartera\n‚úÖ Test de perfil inversor\n‚úÖ Quiz de conocimientos\n‚úÖ Comparador de brokers\n\nüöÄ ¬°Todo interactivo!')}`, '_blank')} className="fixed bottom-6 right-6 p-4 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full shadow-lg shadow-emerald-500/25 hover:scale-110 transition-all z-50"><Smartphone size={24} /></button>
                    <button onClick={() => setShowGlosario(true)} className="fixed bottom-6 left-6 p-4 bg-white rounded-full shadow-lg hover:scale-110 transition-all z-50 border border-gray-200"><BookOpen size={24} /></button>
                    {showGlosario && <GlosarioModal />}
                </div>
            );
        }

        ReactDOM.render(<FinanzasApp />, document.getElementById('root'));
    </script>
</body>
</html>
