<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finances Personals - Guia Completa d'Inversi√≥</title>
    <meta name="description" content="Guia interactiva de finances personals i inversi√≥: calculadora d'inter√®s compost, simulador de cartera, test de perfil inversor, Bitcoin, fiscalitat i m√©s.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìà</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/recharts@2.1.16/umd/Recharts.js"></script>
    <style>
        * { scrollbar-width: thin; scrollbar-color: #f9a8d4 transparent; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background-color: #f9a8d4; border-radius: 3px; }
        input[type="range"] { -webkit-appearance: none; appearance: none; height: 8px; border-radius: 4px; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #10b981; cursor: pointer; border: 2px solid white; }
        input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #10b981; cursor: pointer; border: 2px solid white; }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 via-white to-pink-50">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo } = React;
        const { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } = Recharts;
        
        // ============================================================================
        // TRADUCCIONS VAL/ES/EN
        // ============================================================================
        const translations = {
            // T√≠tol
            title: { val: 'Finances Personals', es: 'Finanzas Personales', en: 'Personal Finance' },
            subtitle: { val: 'Guia Completa d\'Inversi√≥', es: 'Gu√≠a Completa de Inversi√≥n', en: 'Complete Investment Guide' },
            
            // Disclaimer
            disclaimer: {
                title: { val: '‚ö†Ô∏è Av√≠s Important', es: '‚ö†Ô∏è Aviso Importante', en: '‚ö†Ô∏è Important Notice' },
                text: { val: 'Aquesta plataforma t√© finalitats exclusivament educatives i pedag√≤giques. NO constitueix assessorament financer, fiscal ni d\'inversi√≥. Consulta sempre amb professionals qualificats abans de prendre decisions financeres.', es: 'Esta plataforma tiene fines exclusivamente educativos y pedag√≥gicos. NO constituye asesoramiento financiero, fiscal ni de inversi√≥n. Consulta siempre con profesionales cualificados antes de tomar decisiones financieras.', en: 'This platform is for educational purposes only. It does NOT constitute financial, tax or investment advice. Always consult qualified professionals before making financial decisions.' },
            },
            
            // Navegaci√≥
            nav: {
                inicio: { val: 'Inici', es: 'Inicio', en: 'Home' },
                gestion: { val: 'Gesti√≥', es: 'Gesti√≥n', en: 'Management' },
                activos: { val: 'Actius', es: 'Activos', en: 'Assets' },
                calc: { val: 'Calculadora', es: 'Calculadora', en: 'Calculator' },
                cartera: { val: 'Cartera', es: 'Cartera', en: 'Portfolio' },
                estrategias: { val: 'Estrat√®gies', es: 'Estrategias', en: 'Strategies' },
                psicologia: { val: 'Psicologia', es: 'Psicolog√≠a', en: 'Psychology' },
                brokers: { val: 'Brokers', es: 'Brokers', en: 'Brokers' },
                bitcoin: { val: 'Bitcoin', es: 'Bitcoin', en: 'Bitcoin' },
                fiscalitat: { val: 'Fiscalitat', es: 'Fiscalidad', en: 'Taxes' },
                derivats: { val: 'Derivats', es: 'Derivados', en: 'Derivatives' },
                analisi: { val: 'An√†lisi', es: 'An√°lisis', en: 'Analysis' },
                quiz: { val: 'Quiz', es: 'Quiz', en: 'Quiz' },
                test: { val: 'Test', es: 'Test', en: 'Test' },
            },
            
            // Inici
            inicio: {
                heroTitle: { val: 'Finances i Inversi√≥', es: 'Finanzas e Inversi√≥n', en: 'Finance & Investment' },
                heroSubtitle: { val: 'Tot el que necessites saber per gestionar els teus diners i invertir amb cap', es: 'Todo lo que necesitas saber para gestionar tu dinero e invertir con cabeza', en: 'Everything you need to know to manage your money and invest wisely' },
                card1Title: { val: 'Inter√®s Compost', es: 'Inter√©s Compuesto', en: 'Compound Interest' },
                card1Desc: { val: 'Pressupost i estalvi', es: 'Presupuesto y ahorro', en: 'Budget and savings' },
                card2Title: { val: 'Tipus d\'Actius', es: 'Tipos de Activos', en: 'Asset Types' },
                card2Desc: { val: 'Tipus d\'inversi√≥', es: 'Tipos de inversi√≥n', en: 'Investment types' },
                card3Title: { val: 'Test de Perfil', es: 'Test de Perfil', en: 'Profile Test' },
                card3Desc: { val: 'Posa\'t a prova', es: 'Ponte a prueba', en: 'Test yourself' },
                card4Title: { val: 'Simulador', es: 'Simulador', en: 'Simulator' },
                card4Desc: { val: 'Simula la teua cartera', es: 'Simula tu cartera', en: 'Simulate your portfolio' },
            },
            
            // Gesti√≥
            gestion: {
                title: { val: 'Gesti√≥ del Diner', es: 'Gesti√≥n del Dinero', en: 'Money Management' },
                regla: { val: 'Regla 50/30/20', es: 'Regla 50/30/20', en: '50/30/20 Rule' },
                necesidades: { val: 'Necessitats', es: 'Necesidades', en: 'Needs' },
                deseos: { val: 'Desitjos', es: 'Deseos', en: 'Wants' },
                ahorro: { val: 'Estalvi', es: 'Ahorro', en: 'Savings' },
                fondoEmergencia: { val: 'Fons d\'Emerg√®ncia', es: 'Fondo de Emergencia', en: 'Emergency Fund' },
                meses: { val: 'mesos de despeses', es: 'meses de gastos', en: 'months of expenses' },
            },
            
            // Actius
            activos: {
                title: { val: 'Tipus d\'Actius', es: 'Tipos de Activos', en: 'Asset Types' },
                acciones: { val: 'Accions', es: 'Acciones', en: 'Stocks' },
                bonos: { val: 'Bons', es: 'Bonos', en: 'Bonds' },
                etfs: { val: 'ETFs', es: 'ETFs', en: 'ETFs' },
                inmuebles: { val: 'Immobles', es: 'Inmuebles', en: 'Real Estate' },
                cripto: { val: 'Criptomonedes', es: 'Criptomonedas', en: 'Cryptocurrencies' },
                oro: { val: 'Or', es: 'Oro', en: 'Gold' },
                riesgo: { val: 'Risc', es: 'Riesgo', en: 'Risk' },
                rentabilidad: { val: 'Rendibilitat', es: 'Rentabilidad', en: 'Return' },
                liquidez: { val: 'Liquiditat', es: 'Liquidez', en: 'Liquidity' },
            },
            
            // Calculadora
            calc: {
                title: { val: 'Calculadora d\'Inter√®s Compost', es: 'Calculadora de Inter√©s Compuesto', en: 'Compound Interest Calculator' },
                capitalInicial: { val: 'Capital inicial', es: 'Capital inicial', en: 'Initial capital' },
                aportacionMensual: { val: 'Aportaci√≥ mensual', es: 'Aportaci√≥n mensual', en: 'Monthly contribution' },
                rentabilidadAnual: { val: 'Rendibilitat anual', es: 'Rentabilidad anual', en: 'Annual return' },
                plazo: { val: 'Termini', es: 'Plazo', en: 'Term' },
                anos: { val: 'anys', es: 'a√±os', en: 'years' },
                totalFinal: { val: 'Total Final', es: 'Total Final', en: 'Final Total' },
                aportado: { val: 'Aportat', es: 'Aportado', en: 'Contributed' },
                beneficios: { val: 'Beneficis', es: 'Beneficios', en: 'Profits' },
            },
            
            // Cartera
            cartera: {
                title: { val: 'Simulador de Cartera', es: 'Simulador de Cartera', en: 'Portfolio Simulator' },
                rentaVariable: { val: 'Renda Variable', es: 'Renta Variable', en: 'Equities' },
                rentaFija: { val: 'Renda Fixa', es: 'Renta Fija', en: 'Fixed Income' },
                oro: { val: 'Or', es: 'Oro', en: 'Gold' },
                efectivo: { val: 'Efectiu', es: 'Efectivo', en: 'Cash' },
                rentabilidadEsperada: { val: 'Rendibilitat esperada', es: 'Rentabilidad esperada', en: 'Expected return' },
                riesgoEstimado: { val: 'Risc estimat', es: 'Riesgo estimado', en: 'Estimated risk' },
            },
            
            // Estrat√®gies
            estrategias: {
                title: { val: 'Estrat√®gies d\'Inversi√≥', es: 'Estrategias de Inversi√≥n', en: 'Investment Strategies' },
                dca: { val: 'DCA (Aportacions peri√≤diques)', es: 'DCA (Aportaciones peri√≥dicas)', en: 'DCA (Dollar Cost Averaging)' },
                indexada: { val: 'Inversi√≥ Indexada', es: 'Inversi√≥n Indexada', en: 'Index Investing' },
                dividendos: { val: 'Dividends', es: 'Dividendos', en: 'Dividends' },
                value: { val: 'Value Investing', es: 'Value Investing', en: 'Value Investing' },
            },
            
            // Psicologia
            psicologia: {
                title: { val: 'Psicologia de l\'Inversor', es: 'Psicolog√≠a del Inversor', en: 'Investor Psychology' },
                sesgos: { val: 'Biaixos Cognitius', es: 'Sesgos Cognitivos', en: 'Cognitive Biases' },
                emociones: { val: 'Control Emocional', es: 'Control Emocional', en: 'Emotional Control' },
            },
            
            // Brokers
            brokers: {
                title: { val: 'Comparador de Brokers', es: 'Comparador de Brokers', en: 'Broker Comparison' },
                comisiones: { val: 'Comissions', es: 'Comisiones', en: 'Fees' },
                productos: { val: 'Productes', es: 'Productos', en: 'Products' },
                todos: { val: 'Tots', es: 'Todos', en: 'All' },
                acciones: { val: 'Accions', es: 'Acciones', en: 'Stocks' },
                etfs: { val: 'ETFs', es: 'ETFs', en: 'ETFs' },
                cripto: { val: 'Cripto', es: 'Cripto', en: 'Crypto' },
            },
            
            // Quiz
            quiz: {
                title: { val: 'Quiz de Finances', es: 'Quiz de Finanzas', en: 'Finance Quiz' },
                comenzar: { val: 'Comen√ßar', es: 'Comenzar', en: 'Start' },
                pregunta: { val: 'Pregunta', es: 'Pregunta', en: 'Question' },
                siguiente: { val: 'Seg√ºent', es: 'Siguiente', en: 'Next' },
                resultados: { val: 'Resultats', es: 'Resultados', en: 'Results' },
                aciertos: { val: 'Encerts', es: 'Aciertos', en: 'Correct' },
                reiniciar: { val: 'Reiniciar', es: 'Reiniciar', en: 'Restart' },
            },
            
            // Test
            test: {
                title: { val: 'Test de Perfil Inversor', es: 'Test de Perfil Inversor', en: 'Investor Profile Test' },
                conservador: { val: 'Conservador', es: 'Conservador', en: 'Conservative' },
                moderado: { val: 'Moderat', es: 'Moderado', en: 'Moderate' },
                agresivo: { val: 'Agressiu', es: 'Agresivo', en: 'Aggressive' },
                comenzar: { val: 'Comen√ßar Test', es: 'Comenzar Test', en: 'Start Test' },
                verResultados: { val: 'Veure Resultats', es: 'Ver Resultados', en: 'See Results' },
            },
            
            // Comuns
            common: {
                alta: { val: 'Alta', es: 'Alta', en: 'High' },
                media: { val: 'Mitjana', es: 'Media', en: 'Medium' },
                baja: { val: 'Baixa', es: 'Baja', en: 'Low' },
                verMas: { val: 'Veure m√©s', es: 'Ver m√°s', en: 'See more' },
                cerrar: { val: 'Tancar', es: 'Cerrar', en: 'Close' },
            },
        };

        // Sistema d'icones amb emojis
        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                TrendingUp: "üìà", Shield: "üõ°Ô∏è", Target: "üéØ", BookOpen: "üìñ", AlertTriangle: "‚ö†Ô∏è",
                CheckCircle: "‚úÖ", XCircle: "‚ùå", ChevronRight: "‚ñ∂", ChevronDown: "‚ñº", ChevronUp: "‚ñ≤",
                Share2: "üîó", Wallet: "üëõ", BarChart3: "üìä", Lock: "üîí", RefreshCw: "üîÑ",
                Award: "üèÜ", Lightbulb: "üí°", Brain: "üß†", Clock: "üïê", Building: "üè¢",
                Globe: "üåç", Zap: "‚ö°", Users: "üë•", Activity: "üìà", TrendingDown: "üìâ",
                Eye: "üëÅÔ∏è", Calculator: "üßÆ", FileText: "üìÑ", Search: "üîç", Menu: "‚ò∞",
                X: "‚úï", Star: "‚≠ê", Check: "‚úì", PieChartIcon: "ü•ß", GraduationCap: "üéì",
                Smartphone: "üì±", Gem: "üíé", DollarSign: "$", Home: "üè†", Coins: "ü™ô",
                Bitcoin: "‚Çø", Network: "üåê", Database: "üóÑÔ∏è", Key: "üîë", Scale: "‚öñÔ∏è",
                Receipt: "üßæ", Percent: "ÔºÖ", Link: "üîó", Box: "üì¶", ArrowUpDown: "‚ÜïÔ∏è",
                Info: "‚ÑπÔ∏è", Cpu: "üíª", Server: "üñ•Ô∏è", History: "üìú", Blocks: "üß±"
            };
            return <span style={{fontSize: size * 0.75, lineHeight: 1}} className={className}>{icons[name] || "‚Ä¢"}</span>;
        };
        const TrendingUp = (p) => <Icon name="TrendingUp" {...p} />;
        const Shield = (p) => <Icon name="Shield" {...p} />;
        const Target = (p) => <Icon name="Target" {...p} />;
        const BookOpen = (p) => <Icon name="BookOpen" {...p} />;
        const AlertTriangle = (p) => <Icon name="AlertTriangle" {...p} />;
        const CheckCircle = (p) => <Icon name="CheckCircle" {...p} />;
        const XCircle = (p) => <Icon name="XCircle" {...p} />;
        const ChevronRight = (p) => <Icon name="ChevronRight" {...p} />;
        const ChevronDown = (p) => <Icon name="ChevronDown" {...p} />;
        const ChevronUp = (p) => <Icon name="ChevronUp" {...p} />;
        const Share2 = (p) => <Icon name="Share2" {...p} />;
        const Wallet = (p) => <Icon name="Wallet" {...p} />;
        const BarChart3 = (p) => <Icon name="BarChart3" {...p} />;
        const Lock = (p) => <Icon name="Lock" {...p} />;
        const RefreshCw = (p) => <Icon name="RefreshCw" {...p} />;
        const Award = (p) => <Icon name="Award" {...p} />;
        const Lightbulb = (p) => <Icon name="Lightbulb" {...p} />;
        const Brain = (p) => <Icon name="Brain" {...p} />;
        const Clock = (p) => <Icon name="Clock" {...p} />;
        const Building = (p) => <Icon name="Building" {...p} />;
        const Globe = (p) => <Icon name="Globe" {...p} />;
        const Zap = (p) => <Icon name="Zap" {...p} />;
        const Users = (p) => <Icon name="Users" {...p} />;
        const Activity = (p) => <Icon name="Activity" {...p} />;
        const TrendingDown = (p) => <Icon name="TrendingDown" {...p} />;
        const Eye = (p) => <Icon name="Eye" {...p} />;
        const Calculator = (p) => <Icon name="Calculator" {...p} />;
        const FileText = (p) => <Icon name="FileText" {...p} />;
        const Search = (p) => <Icon name="Search" {...p} />;
        const Menu = (p) => <Icon name="Menu" {...p} />;
        const X = (p) => <Icon name="X" {...p} />;
        const Star = (p) => <Icon name="Star" {...p} />;
        const Check = (p) => <Icon name="Check" {...p} />;
        const PieChartIcon = (p) => <Icon name="PieChartIcon" {...p} />;
        const GraduationCap = (p) => <Icon name="GraduationCap" {...p} />;
        const Smartphone = (p) => <Icon name="Smartphone" {...p} />;
        const Gem = (p) => <Icon name="Gem" {...p} />;
        const DollarSign = (p) => <Icon name="DollarSign" {...p} />;
        const Home = (p) => <Icon name="Home" {...p} />;
        const Coins = (p) => <Icon name="Coins" {...p} />;

        function FinanzasApp() {
            const [section, setSection] = useState('inicio');
            const [menuOpen, setMenuOpen] = useState(false);
            const [showGlosario, setShowGlosario] = useState(false);
            const [searchTerm, setSearchTerm] = useState('');
            const [idioma, setIdioma] = useState('val');
            
            // Funci√≥ de traducci√≥
            const t = (category, key) => {
                try {
                    if (key) return translations[category][key][idioma] || translations[category][key]['val'];
                    return translations[category][idioma] || translations[category]['val'];
                } catch { return key || category; }
            };
            
            // Selector d'idioma
            const LanguageSelector = () => (
                <div className="flex items-center gap-1 bg-gray-100 rounded-lg p-1">
                    {[{ code: 'val', label: 'VAL' }, { code: 'es', label: 'ES' }, { code: 'en', label: 'EN' }].map(lang => (
                        <button 
                            key={lang.code} 
                            onClick={() => setIdioma(lang.code)} 
                            className={`px-2 py-1 rounded text-xs font-bold transition-all ${idioma === lang.code ? 'bg-emerald-500 text-white' : 'text-gray-600 hover:bg-gray-200'}`}
                        >
                            {lang.label}
                        </button>
                    ))}
                </div>
            );
            
            const [calcCapital, setCalcCapital] = useState(10000);
            const [calcMensual, setCalcMensual] = useState(200);
            const [calcRent, setCalcRent] = useState(8);
            const [calcAnios, setCalcAnios] = useState(20);
            
            const [cartera, setCartera] = useState({ rv: 60, rf: 25, oro: 10, cash: 5 });
            const [activoExpandido, setActivoExpandido] = useState(null);
            
            const [quizIniciado, setQuizIniciado] = useState(false);
            const [quizPregunta, setQuizPregunta] = useState(0);
            const [quizRespuestas, setQuizRespuestas] = useState({});
            const [quizTerminado, setQuizTerminado] = useState(false);
            
            const [testFase, setTestFase] = useState(0);
            const [testRespuestas, setTestRespuestas] = useState({});
            const [testResultados, setTestResultados] = useState(false);
            const [brokerFiltro, setBrokerFiltro] = useState('todos');

            const getGlosario = () => [
                { term: idioma === 'val' ? 'Acci√≥' : idioma === 'es' ? 'Acci√≥n' : 'Stock', def: idioma === 'val' ? "Part del capital d'una empresa. En comprar-la, ets copropietari." : idioma === 'es' ? 'Parte del capital de una empresa. Al comprarla, eres copropietario.' : "Part of a company's capital. When you buy it, you become a co-owner." },
                { term: 'ETF', def: idioma === 'val' ? "Exchange-Traded Fund. Fons cotitzat que replica un √≠ndex." : idioma === 'es' ? 'Exchange-Traded Fund. Fondo cotizado que replica un √≠ndice.' : 'Exchange-Traded Fund. A fund that tracks an index and trades like a stock.' },
                { term: idioma === 'val' ? 'Fons indexat' : idioma === 'es' ? 'Fondo indexado' : 'Index fund', def: idioma === 'val' ? "Fons que replica un √≠ndex amb gesti√≥ passiva i baixes comissions." : idioma === 'es' ? 'Fondo que replica un √≠ndice con gesti√≥n pasiva y bajas comisiones.' : 'Fund that replicates an index with passive management and low fees.' },
                { term: 'TER', def: idioma === 'val' ? "Total Expense Ratio. Cost anual total d'un fons/ETF. Busca <0.3%." : idioma === 'es' ? 'Total Expense Ratio. Coste anual total de un fondo/ETF. Busca <0.3%.' : 'Total Expense Ratio. Total annual cost of a fund/ETF. Look for <0.3%.' },
                { term: 'DCA', def: idioma === 'val' ? "Dollar Cost Averaging. Invertir quantitat fixa peri√≤dicament." : idioma === 'es' ? 'Dollar Cost Averaging. Invertir cantidad fija peri√≥dicamente.' : 'Dollar Cost Averaging. Investing a fixed amount periodically.' },
                { term: idioma === 'val' ? 'Diversificaci√≥' : idioma === 'es' ? 'Diversificaci√≥n' : 'Diversification', def: idioma === 'val' ? "Repartir inversi√≥ entre diferents actius per reduir risc." : idioma === 'es' ? 'Repartir inversi√≥n entre diferentes activos para reducir riesgo.' : 'Spreading investment across different assets to reduce risk.' },
                { term: idioma === 'val' ? 'Volatilitat' : idioma === 'es' ? 'Volatilidad' : 'Volatility', def: idioma === 'val' ? "Variaci√≥ del preu. Major volatilitat = m√©s risc a curt termini." : idioma === 'es' ? 'Variaci√≥n del precio. Mayor volatilidad = m√°s riesgo a corto plazo.' : 'Price variation. Higher volatility = more short-term risk.' },
                { term: 'Bull Market', def: idioma === 'val' ? "Mercat alcista amb pujades sostingudes (+20% des de m√≠nims)." : idioma === 'es' ? 'Mercado alcista con subidas sostenidas (+20% desde m√≠nimos).' : 'Rising market with sustained gains (+20% from lows).' },
                { term: 'Bear Market', def: idioma === 'val' ? "Mercat baixista. Caiguda >20% des de m√†xims." : idioma === 'es' ? 'Mercado bajista. Ca√≠da >20% desde m√°ximos.' : 'Falling market. Drop >20% from highs.' },
                { term: 'FOMO', def: idioma === 'val' ? "Fear Of Missing Out. Comprar perqu√® 'tots ho fan'." : idioma === 'es' ? 'Fear Of Missing Out. Comprar porque "todos lo hacen".' : "Fear Of Missing Out. Buying because 'everyone is doing it'." },
                { term: idioma === 'val' ? 'Inter√®s compost' : idioma === 'es' ? 'Inter√©s compuesto' : 'Compound interest', def: idioma === 'val' ? "Els interessos generen m√©s interessos. Efecte bola de neu." : idioma === 'es' ? 'Los intereses generan m√°s intereses. Efecto bola de nieve.' : 'Interest generates more interest. Snowball effect.' },
                { term: idioma === 'val' ? 'Rebalanceig' : idioma === 'es' ? 'Rebalanceo' : 'Rebalancing', def: idioma === 'val' ? "Ajustar la cartera per mantenir els % objectiu." : idioma === 'es' ? 'Ajustar la cartera para mantener los % objetivo.' : 'Adjusting portfolio to maintain target percentages.' },
                { term: idioma === 'val' ? 'Liquiditat' : idioma === 'es' ? 'Liquidez' : 'Liquidity', def: idioma === 'val' ? "Facilitat per convertir un actiu en efectiu sense perdre valor." : idioma === 'es' ? 'Facilidad para convertir un activo en efectivo sin perder valor.' : 'Ease of converting an asset to cash without losing value.' },
                { term: idioma === 'val' ? 'Dividend' : idioma === 'es' ? 'Dividendo' : 'Dividend', def: idioma === 'val' ? "Part dels beneficis que l'empresa reparteix als accionistes." : idioma === 'es' ? 'Parte de los beneficios que la empresa reparte a accionistas.' : 'Portion of profits the company distributes to shareholders.' },
                { term: 'IRPF', def: idioma === 'val' ? "Impost sobre la Renda. Les plusv√†lues tributen 19-28%." : idioma === 'es' ? 'Impuesto sobre la Renta. Las ganancias patrimoniales tributan 19-28%.' : 'Income Tax. Capital gains are taxed at 19-28%.' },
                { term: idioma === 'val' ? 'Plusv√†lua' : idioma === 'es' ? 'Plusval√≠a' : 'Capital gain', def: idioma === 'val' ? "Guany obtingut en vendre un actiu per m√©s del que va costar." : idioma === 'es' ? 'Ganancia obtenida al vender un activo por m√°s de lo que cost√≥.' : 'Profit from selling an asset for more than it cost.' },
            ];

            const glosario = getGlosario();

            // Actius triling√ºes
            const getActivos = () => [
                { 
                    id: 'acciones', 
                    nombre: idioma === 'val' ? 'Accions' : idioma === 'es' ? 'Acciones' : 'Stocks', 
                    icon: TrendingUp, color: 'emerald',
                    queEs: idioma === 'val' ? "Una acci√≥ √©s una participaci√≥ en la propietat d'una empresa. Si compres 1 acci√≥ d'Apple, ets copropietari d'Apple juntament amb milions d'altres accionistes." : idioma === 'es' ? 'Una acci√≥n es una participaci√≥n en la propiedad de una empresa. Si compras 1 acci√≥n de Apple, eres copropietario de Apple junto con millones de otros accionistas.' : "A stock is a share in a company's ownership. If you buy 1 Apple share, you're a co-owner of Apple along with millions of other shareholders.",
                    comoFunciona: idioma === 'val' ? "Les empreses emeten accions per obtenir capital. El teu benefici pot vindre de: 1) Pujada del preu (plusv√†lua) i 2) Dividends (repartiment de beneficis). Cotitza en borsa i pots comprar/vendre en horari de mercat." : idioma === 'es' ? 'Las empresas emiten acciones para obtener capital. Tu beneficio puede venir de: 1) Subida del precio (plusval√≠a) y 2) Dividendos (reparto de beneficios). Cotiza en bolsa y puedes comprar/vender en horario de mercado.' : "Companies issue stocks to raise capital. Your profit can come from: 1) Price increase (capital gains) and 2) Dividends (profit sharing). Trades on exchange during market hours.",
                    rentabilidad: idioma === 'val' ? '~10% anual hist√≤ric (S&P 500, 100 anys). Ajustat per inflaci√≥: ~7%.' : idioma === 'es' ? '~10% anual hist√≥rico (S&P 500, 100 a√±os). Ajustado por inflaci√≥n: ~7%.' : '~10% annual historical (S&P 500, 100 years). Inflation-adjusted: ~7%.',
                    riesgo: idioma === 'val' ? 'Alt a curt termini (pot caure 50% en crisi). Moderat a llarg termini (+10 anys).' : idioma === 'es' ? 'Alto a corto plazo (puede caer 50% en crisis). Moderado a largo plazo (+10 a√±os).' : 'High short-term (can fall 50% in crisis). Moderate long-term (+10 years).',
                    ventajas: idioma === 'val' ? ['Alta rendibilitat potencial a llarg termini', 'Liquiditat: compra/ven quan vulgues', 'Dividends: ingressos passius', 'Protecci√≥ contra inflaci√≥', 'Ser propietari d\'empreses reals'] : idioma === 'es' ? ['Alta rentabilidad potencial a largo plazo', 'Liquidez: compra/vende cuando quieras', 'Dividendos: ingresos pasivos', 'Protecci√≥n contra inflaci√≥n', 'Ser due√±o de empresas reales'] : ['High potential long-term returns', 'Liquidity: buy/sell anytime', 'Dividends: passive income', 'Inflation protection', 'Own real companies'],
                    desventajas: idioma === 'val' ? ['Volatilitat alta a curt termini', 'Requereix coneixement per seleccionar', 'Risc si l\'empresa fa fallida', 'Impacte emocional de les caigudes'] : idioma === 'es' ? ['Volatilidad alta a corto plazo', 'Requiere conocimiento para stock picking', 'Riesgo si la empresa quiebra', 'Impacto emocional de las ca√≠das'] : ['High short-term volatility', 'Requires knowledge to pick', 'Risk if company fails', 'Emotional impact of drops'],
                    ejemplos: ['Apple (AAPL)', 'Microsoft (MSFT)', 'Inditex (ITX)', 'BBVA', 'Coca-Cola'],
                    idealPara: idioma === 'val' ? 'Inversors amb horitz√≥ >10 anys que toleren volatilitat.' : idioma === 'es' ? 'Inversores con horizonte >10 a√±os que toleran volatilidad.' : 'Investors with >10 year horizon who tolerate volatility.',
                    comoInvertir: idioma === 'val' ? "Directament comprant accions individuals (requereix an√†lisi) o a trav√©s de fons/ETFs (recomanat per a principiants)." : idioma === 'es' ? 'Directamente comprando acciones individuales (requiere an√°lisis) o a trav√©s de fondos/ETFs (recomendado para principiantes).' : 'Directly buying individual stocks (requires analysis) or through funds/ETFs (recommended for beginners).'
                },
                { 
                    id: 'etfs', 
                    nombre: 'ETFs', 
                    icon: Globe, color: 'blue',
                    queEs: idioma === 'val' ? "Un ETF (Exchange-Traded Fund) √©s una 'cistella' d'actius que cotitza en borsa com una acci√≥. Un sol ETF del MSCI World cont√© m√©s de 1.500 empreses de 23 pa√Øsos." : idioma === 'es' ? 'Un ETF (Exchange-Traded Fund) es una "cesta" de activos que cotiza en bolsa como una acci√≥n. Un solo ETF del MSCI World contiene m√°s de 1.500 empresas de 23 pa√≠ses.' : "An ETF (Exchange-Traded Fund) is a 'basket' of assets that trades on exchange like a stock. A single MSCI World ETF contains over 1,500 companies from 23 countries.",
                    comoFunciona: idioma === 'val' ? "L'ETF replica un √≠ndex comprant totes les seues empreses en la proporci√≥ correcta. Tu compres participacions de l'ETF com si f√≥ra una acci√≥. El preu fluctua durant el dia." : idioma === 'es' ? 'El ETF replica un √≠ndice comprando todas sus empresas en la proporci√≥n correcta. T√∫ compras participaciones del ETF como si fuera una acci√≥n. El precio fluct√∫a durante el d√≠a.' : "The ETF replicates an index by buying all its companies in the correct proportion. You buy ETF shares like a stock. Price fluctuates during the day.",
                    rentabilidad: idioma === 'val' ? '~8-10% anual hist√≤ric per a ETFs d\'accions globals (MSCI World).' : idioma === 'es' ? '~8-10% anual hist√≥rico para ETFs de acciones globales (MSCI World).' : '~8-10% annual historical for global stock ETFs (MSCI World).',
                    riesgo: idioma === 'val' ? "Variable segons el tipus. ETF d'accions globals: moderat. ETF de bons: baix." : idioma === 'es' ? 'Variable seg√∫n el tipo. ETF de acciones globales: moderado. ETF de bonos: bajo.' : 'Varies by type. Global stock ETF: moderate. Bond ETF: low.',
                    ventajas: idioma === 'val' ? ['Diversificaci√≥ instant√†nia amb una sola compra', 'Comissions molt baixes (TER 0.03-0.25%)', 'Transparents: saps qu√® contenen', 'Alta liquiditat', 'Gran varietat disponible'] : idioma === 'es' ? ['Diversificaci√≥n instant√°nea con una sola compra', 'Comisiones muy bajas (TER 0.03-0.25%)', 'Transparentes: sabes qu√© contienen', 'Alta liquidez', 'Gran variedad disponible'] : ['Instant diversification with one purchase', 'Very low fees (TER 0.03-0.25%)', 'Transparent: you know what they hold', 'High liquidity', 'Wide variety available'],
                    desventajas: idioma === 'val' ? ['A Espanya tributen al vendre (no hi ha trasp√†s sense tributar)', 'Es compren per participacions senceres', 'Spread entre compra/venda'] : idioma === 'es' ? ['En Espa√±a tributan al vender (no hay traspaso sin tributar)', 'Se compran por participaciones enteras', 'Spread entre compra/venta'] : ['In Spain taxed when selling (no tax-free transfers)', 'Bought in whole shares', 'Bid/ask spread'],
                    ejemplos: ['iShares Core MSCI World (IWDA)', 'Vanguard S&P 500 (VOO)', 'iShares Core S&P 500 (IVV)'],
                    idealPara: idioma === 'val' ? 'Inversors que volen diversificaci√≥ simple i barata.' : idioma === 'es' ? 'Inversores que quieren diversificaci√≥n simple y barata.' : 'Investors wanting simple, cheap diversification.',
                    comoInvertir: idioma === 'val' ? "A trav√©s de brokers com DEGIRO, Interactive Brokers, Trade Republic. Busca ETFs d'acumulaci√≥ domiciliats a Irlanda." : idioma === 'es' ? 'A trav√©s de brokers como DEGIRO, Interactive Brokers, Trade Republic. Busca ETFs de acumulaci√≥n domiciliados en Irlanda.' : 'Through brokers like DEGIRO, Interactive Brokers, Trade Republic. Look for accumulating ETFs domiciled in Ireland.'
                },
                { 
                    id: 'fondos', 
                    nombre: idioma === 'val' ? 'Fons Indexats' : idioma === 'es' ? 'Fondos Indexados' : 'Index Funds', 
                    icon: PieChartIcon, color: 'purple',
                    queEs: idioma === 'val' ? "Similar a un ETF: replica un √≠ndex amb gesti√≥ passiva. La difer√®ncia √©s el format legal (fons d'inversi√≥ vs fons cotitzat) i com es compra." : idioma === 'es' ? 'Similar a un ETF: replica un √≠ndice con gesti√≥n pasiva. La diferencia es el formato legal (fondo de inversi√≥n vs fondo cotizado) y c√≥mo se compra.' : "Similar to an ETF: replicates an index with passive management. The difference is the legal format (investment fund vs exchange-traded fund) and how you buy.",
                    comoFunciona: idioma === 'val' ? "Fas una ordre de subscripci√≥ per l'import que vulgues (ex: 100‚Ç¨). El fons calcula el valor liquidatiu 1 vegada al dia i t'assigna les participacions corresponents." : idioma === 'es' ? 'Haces una orden de suscripci√≥n por el importe que quieras (ej: 100‚Ç¨). El fondo calcula el valor liquidativo 1 vez al d√≠a y te asigna las participaciones correspondientes.' : "You make a subscription order for the amount you want (e.g.: ‚Ç¨100). The fund calculates the NAV once daily and assigns you the corresponding shares.",
                    rentabilidad: idioma === 'val' ? "Igual que l'√≠ndex que repliquen menys el TER. ~8-10% hist√≤ric per a fons d'accions globals." : idioma === 'es' ? 'Igual que el √≠ndice que replican menos el TER. ~8-10% hist√≥rico para fondos de acciones globales.' : 'Same as the index they replicate minus TER. ~8-10% historical for global stock funds.',
                    riesgo: idioma === 'val' ? "Igual que ETFs equivalents. Dep√®n de l'√≠ndex que repliquen." : idioma === 'es' ? 'Igual que ETFs equivalentes. Depende del √≠ndice que repliquen.' : 'Same as equivalent ETFs. Depends on the index they replicate.',
                    ventajas: idioma === 'val' ? ['AVANTATGE FISCAL A ESPANYA: traspassos entre fons sense tributar', "Pots invertir imports exactes (100‚Ç¨, no '2.3 participacions')", 'Ideals per a DCA mensual automatitzat', 'Sense temptaci√≥ de trading'] : idioma === 'es' ? ['VENTAJA FISCAL EN ESPA√ëA: traspasos entre fondos sin tributar', 'Puedes invertir importes exactos (100‚Ç¨, no "2.3 participaciones")', 'Ideales para DCA mensual automatizado', 'Sin tentaci√≥n de trading'] : ['TAX ADVANTAGE IN SPAIN: transfers between funds tax-free', "You can invest exact amounts (‚Ç¨100, not '2.3 shares')", 'Ideal for automated monthly DCA', 'No trading temptation'],
                    desventajas: idioma === 'val' ? ['Menys varietat que ETFs', 'Execuci√≥ m√©s lenta (1 dia)', 'TER lleugerament superior a ETFs equivalents'] : idioma === 'es' ? ['Menos variedad que ETFs', 'Ejecuci√≥n m√°s lenta (1 d√≠a)', 'TER ligeramente superior a ETFs equivalentes'] : ['Less variety than ETFs', 'Slower execution (1 day)', 'Slightly higher TER than equivalent ETFs'],
                    ejemplos: ['Vanguard Global Stock Index Fund', 'Fidelity MSCI World Index Fund', 'iShares Developed World Index Fund'],
                    idealPara: idioma === 'val' ? "Inversors espanyols que fan aportacions peri√≤diques (DCA). L'avantatge fiscal √©s enorme." : idioma === 'es' ? 'Inversores espa√±oles que hacen aportaciones peri√≥dicas (DCA). La ventaja fiscal es enorme.' : 'Spanish investors making periodic contributions (DCA). The tax advantage is huge.',
                    comoInvertir: idioma === 'val' ? 'MyInvestor (millor selecci√≥), Indexa Capital (robo-advisor), ING, Openbank.' : idioma === 'es' ? 'MyInvestor (mejor selecci√≥n), Indexa Capital (robo-advisor), ING, Openbank.' : 'MyInvestor (best selection), Indexa Capital (robo-advisor), ING, Openbank.'
                },
                { 
                    id: 'bonos', 
                    nombre: idioma === 'val' ? 'Bons / Renda Fixa' : idioma === 'es' ? 'Bonos / Renta Fija' : 'Bonds / Fixed Income', 
                    icon: Lock, color: 'cyan',
                    queEs: idioma === 'val' ? "Un bo √©s un pr√©stec que fas a un govern o empresa. A canvi, et paguen interessos peri√≤dics i et tornen el principal al venciment." : idioma === 'es' ? 'Un bono es un pr√©stamo que haces a un gobierno o empresa. A cambio, te pagan intereses peri√≥dicos y te devuelven el principal al vencimiento.' : "A bond is a loan you make to a government or company. In return, they pay you periodic interest and return the principal at maturity.",
                    comoFunciona: idioma === 'val' ? "Compres un bo de 1.000‚Ç¨ al 3% anual a 10 anys. Cada any reps 30‚Ç¨ d'interessos. Al final dels 10 anys, recuperes els teus 1.000‚Ç¨." : idioma === 'es' ? 'Compras un bono de 1.000‚Ç¨ al 3% anual a 10 a√±os. Cada a√±o recibes 30‚Ç¨ de intereses. Al final de los 10 a√±os, recuperas tus 1.000‚Ç¨.' : "You buy a ‚Ç¨1,000 bond at 3% annual for 10 years. Each year you receive ‚Ç¨30 interest. At the end of 10 years, you get your ‚Ç¨1,000 back.",
                    rentabilidad: idioma === 'val' ? 'Bons govern AAA: 2-4% hist√≤ric. Bons corporatius: 4-6%. Bons high yield: 6-10% (m√©s risc).' : idioma === 'es' ? 'Bonos gobierno AAA: 2-4% hist√≥rico. Bonos corporativos: 4-6%. Bonos high yield: 6-10% (m√°s riesgo).' : 'Government bonds AAA: 2-4% historical. Corporate bonds: 4-6%. High yield bonds: 6-10% (more risk).',
                    riesgo: idioma === 'val' ? 'Baix per a bons de governs solvents (Alemanya, EUA). Mitj√† per a corporatius. Alt per a high yield.' : idioma === 'es' ? 'Bajo para bonos de gobiernos solventes (Alemania, EEUU). Medio para corporativos. Alto para high yield.' : 'Low for solvent government bonds (Germany, USA). Medium for corporate. High for high yield.',
                    ventajas: idioma === 'val' ? ['Rendibilitat m√©s predictible', 'Menor volatilitat que accions', 'Ingressos regulars (cupons)', 'Diversificador en cartera'] : idioma === 'es' ? ['Rentabilidad m√°s predecible', 'Menor volatilidad que acciones', 'Ingresos regulares (cupones)', 'Diversificador en cartera'] : ['More predictable returns', 'Lower volatility than stocks', 'Regular income (coupons)', 'Portfolio diversifier'],
                    desventajas: idioma === 'val' ? ['Rendibilitat real baixa (a vegades negativa despr√©s d\'inflaci√≥)', 'Sensibles a pujades de tipus d\'inter√®s', 'Risc d\'impagament en bons corporatius'] : idioma === 'es' ? ['Rentabilidad real baja (a veces negativa tras inflaci√≥n)', 'Sensibles a subidas de tipos de inter√©s', 'Riesgo de impago en bonos corporativos'] : ['Low real returns (sometimes negative after inflation)', 'Sensitive to interest rate rises', 'Default risk in corporate bonds'],
                    ejemplos: idioma === 'val' ? ['Lletres del Tresor espanyol', 'Bons de l\'Estat 10 anys', 'iShares Core Euro Government Bond'] : idioma === 'es' ? ['Letras del Tesoro espa√±ol', 'Bonos del Estado 10 a√±os', 'iShares Core Euro Government Bond'] : ['Spanish Treasury Bills', '10-year Government Bonds', 'iShares Core Euro Government Bond'],
                    idealPara: idioma === 'val' ? 'Perfils conservadors o com a part estabilitzadora d\'una cartera diversificada.' : idioma === 'es' ? 'Perfiles conservadores o como parte estabilizadora de una cartera diversificada.' : 'Conservative profiles or as a stabilizing part of a diversified portfolio.',
                    comoInvertir: idioma === 'val' ? 'Directament a tesoro.es (Lletres, Bons) o a trav√©s de fons/ETFs de renda fixa.' : idioma === 'es' ? 'Directamente en tesoro.es (Letras, Bonos) o a trav√©s de fondos/ETFs de renta fija.' : 'Directly at tesoro.es (Bills, Bonds) or through fixed income funds/ETFs.'
                },
                { 
                    id: 'oro', 
                    nombre: idioma === 'val' ? 'Or' : idioma === 'es' ? 'Oro' : 'Gold', 
                    icon: Gem, color: 'amber',
                    queEs: idioma === 'val' ? "Metall preci√≥s usat com a reserva de valor durant milers d'anys. Oferta limitada (no es pot 'imprimir' or) i demanda constant." : idioma === 'es' ? 'Metal precioso usado como reserva de valor durante miles de a√±os. Oferta limitada (no se puede "imprimir" oro) y demanda constante.' : "Precious metal used as a store of value for thousands of years. Limited supply (can't 'print' gold) and constant demand.",
                    comoFunciona: idioma === 'val' ? "Pots comprar or f√≠sic (lingots, monedes) o 'paper' (ETCs que posseeixen or f√≠sic). El preu fluctua segons oferta/demanda global." : idioma === 'es' ? 'Puedes comprar oro f√≠sico (lingotes, monedas) o "papel" (ETCs que poseen oro f√≠sico). El precio fluct√∫a seg√∫n oferta/demanda global.' : "You can buy physical gold (bars, coins) or 'paper' (ETCs that hold physical gold). Price fluctuates based on global supply/demand.",
                    rentabilidad: idioma === 'val' ? '~5-7% anual a molt llarg termini. No genera rendes (no paga dividends ni interessos).' : idioma === 'es' ? '~5-7% anual a muy largo plazo. No genera rentas (no paga dividendos ni intereses).' : "~5-7% annual very long-term. Doesn't generate income (no dividends or interest).",
                    riesgo: idioma === 'val' ? 'Moderat. Pot caure 30-40% per√≤ hist√≤ricament sempre ha recuperat. No t√© risc de contrapart.' : idioma === 'es' ? 'Moderado. Puede caer 30-40% pero hist√≥ricamente siempre ha recuperado. No tiene riesgo de contraparte.' : 'Moderate. Can fall 30-40% but has historically always recovered. No counterparty risk.',
                    ventajas: idioma === 'val' ? ['Refugi en crisis econ√≤miques/geopol√≠tiques', 'Protecci√≥ contra inflaci√≥ a llarg termini', 'Diversificador: baixa correlaci√≥ amb accions', 'Actiu tangible i universal'] : idioma === 'es' ? ['Refugio en crisis econ√≥micas/geopol√≠ticas', 'Protecci√≥n contra inflaci√≥n a largo plazo', 'Diversificador: baja correlaci√≥n con acciones', 'Activo tangible y universal'] : ['Safe haven in economic/geopolitical crises', 'Long-term inflation protection', 'Diversifier: low correlation with stocks', 'Tangible and universal asset'],
                    desventajas: idioma === 'val' ? ['No genera ingressos passius', 'Emmagatzematge si √©s f√≠sic', 'Volatilitat a curt termini', 'No produeix res (nom√©s val el que altre pague)'] : idioma === 'es' ? ['No genera ingresos pasivos', 'Almacenamiento si es f√≠sico', 'Volatilidad a corto plazo', 'No produce nada (solo vale lo que otro pague)'] : ["Doesn't generate passive income", 'Storage if physical', 'Short-term volatility', "Produces nothing (only worth what others pay)"],
                    ejemplos: ['iShares Physical Gold (IGLN)', 'Invesco Physical Gold', 'Krugerrand/Maple Leaf coins'],
                    idealPara: idioma === 'val' ? '5-15% de la cartera com a diversificador i asseguran√ßa contra crisis.' : idioma === 'es' ? '5-15% de la cartera como diversificador y seguro contra crisis.' : '5-15% of portfolio as diversifier and insurance against crises.',
                    comoInvertir: idioma === 'val' ? "ETCs d'or f√≠sic (m√©s pr√†ctic) o or f√≠sic en botigues especialitzades (Degussa, Coininvest)." : idioma === 'es' ? 'ETCs de oro f√≠sico (m√°s pr√°ctico) o oro f√≠sico en tiendas especializadas (Degussa, Coininvest).' : 'Physical gold ETCs (more practical) or physical gold at specialized stores (Degussa, Coininvest).'
                },
                { 
                    id: 'inmobiliario', 
                    nombre: idioma === 'val' ? 'Immobiliari' : idioma === 'es' ? 'Inmobiliario' : 'Real Estate', 
                    icon: Home, color: 'orange',
                    queEs: idioma === 'val' ? "Inversi√≥ en b√©ns immobles: vivendes, locals, oficines, naus. Pot ser inversi√≥ directa (comprar un pis) o indirecta (REITs/SOCIMIs)." : idioma === 'es' ? 'Inversi√≥n en bienes inmuebles: viviendas, locales, oficinas, naves. Puede ser inversi√≥n directa (comprar un piso) o indirecta (REITs/SOCIMIs).' : 'Investment in real estate: homes, retail, offices, warehouses. Can be direct (buy a property) or indirect (REITs).',
                    comoFunciona: idioma === 'val' ? "Directe: compres, reformes si cal, lloguers, cobres renda mensual. Indirecte: compres accions d'empreses que posseeixen immobles (REITs)." : idioma === 'es' ? 'Directo: compras, reformas si hace falta, alquilas, cobras renta mensual. Indirecto: compras acciones de empresas que poseen inmuebles (REITs).' : 'Direct: buy, renovate if needed, rent out, collect monthly income. Indirect: buy shares of companies that own properties (REITs).',
                    rentabilidad: idioma === 'val' ? "Lloguer directe: 3-6% net (despr√©s de despeses). REITs: 7-10% total hist√≤ric (dividends + revaloraci√≥)." : idioma === 'es' ? 'Alquiler directo: 3-6% neto (despu√©s de gastos). REITs: 7-10% total hist√≥rico (dividendos + revalorizaci√≥n).' : 'Direct rental: 3-6% net (after expenses). REITs: 7-10% total historical (dividends + appreciation).',
                    riesgo: idioma === 'val' ? 'Mitj√†-alt directe (concentraci√≥, il¬∑liquiditat). Mitj√† REITs (diversificats, l√≠quids).' : idioma === 'es' ? 'Medio-alto directo (concentraci√≥n, iliquidez). Medio REITs (diversificados, l√≠quidos).' : 'Medium-high direct (concentration, illiquidity). Medium REITs (diversified, liquid).',
                    ventajas: idioma === 'val' ? ["Actiu tangible que pots 'tocar'", 'Ingressos recurrents (lloguers)', 'Protecci√≥ contra inflaci√≥', 'Palanquejament amb hipoteca'] : idioma === 'es' ? ['Activo tangible que puedes "tocar"', 'Ingresos recurrentes (alquileres)', 'Protecci√≥n contra inflaci√≥n', 'Apalancamiento con hipoteca'] : ["Tangible asset you can 'touch'", 'Recurring income (rents)', 'Inflation protection', 'Leverage with mortgage'],
                    desventajas: idioma === 'val' ? ['Molt il¬∑l√≠quid si √©s directe', 'Gesti√≥ i manteniment', 'Concentraci√≥ geogr√†fica', 'Capital inicial alt'] : idioma === 'es' ? ['Muy il√≠quido si es directo', 'Gesti√≥n y mantenimiento', 'Concentraci√≥n geogr√°fica', 'Capital inicial alto'] : ['Very illiquid if direct', 'Management and maintenance', 'Geographic concentration', 'High initial capital'],
                    ejemplos: idioma === 'val' ? ['Vivenda per a llogar', 'Merlin Properties (SOCIMI)', 'iShares Developed Markets Property Yield'] : idioma === 'es' ? ['Vivienda para alquilar', 'Merlin Properties (SOCIMI)', 'iShares Developed Markets Property Yield'] : ['Rental property', 'Merlin Properties (REIT)', 'iShares Developed Markets Property Yield'],
                    idealPara: idioma === 'val' ? 'Capital alt (directe) o 5-10% de cartera en REITs per a diversificar.' : idioma === 'es' ? 'Capital alto (directo) o 5-10% de cartera en REITs para diversificar.' : 'High capital (direct) or 5-10% of portfolio in REITs to diversify.',
                    comoInvertir: idioma === 'val' ? "Directe: compra d'immoble. Indirecte: REITs/SOCIMIs en borsa o ETFs immobiliaris." : idioma === 'es' ? 'Directo: compra de inmueble. Indirecto: REITs/SOCIMIs en bolsa o ETFs inmobiliarios.' : 'Direct: property purchase. Indirect: REITs on exchange or real estate ETFs.'
                },
                { 
                    id: 'cripto', 
                    nombre: 'Bitcoin / Cripto', 
                    icon: Coins, color: 'yellow',
                    queEs: idioma === 'val' ? "Actius digitals descentralitzats basats en blockchain. Bitcoin: la primera i m√©s coneguda, amb oferta limitada a 21 milions d'unitats." : idioma === 'es' ? 'Activos digitales descentralizados basados en blockchain. Bitcoin: la primera y m√°s conocida, con oferta limitada a 21 millones de unidades.' : 'Decentralized digital assets based on blockchain. Bitcoin: the first and most known, with supply limited to 21 million units.',
                    comoFunciona: idioma === 'val' ? "Es compren en exchanges (Coinbase, Kraken) o brokers. Funcionen 24/7. Preu determinat per oferta/demanda pura." : idioma === 'es' ? 'Se compran en exchanges (Coinbase, Kraken) o brokers. Funcionan 24/7. Precio determinado por oferta/demanda pura.' : 'Bought on exchanges (Coinbase, Kraken) or brokers. Work 24/7. Price determined by pure supply/demand.',
                    rentabilidad: idioma === 'val' ? "Bitcoin: +100% anual de mitjana des de 2010. PER√í amb caigudes del 80% en alguns anys. Extremadament vol√†til." : idioma === 'es' ? 'Bitcoin: +100% anual de media desde 2010. PERO con ca√≠das del 80% en algunos a√±os. Extremadamente vol√°til.' : 'Bitcoin: +100% annual average since 2010. BUT with 80% drops in some years. Extremely volatile.',
                    riesgo: idioma === 'val' ? 'Molt alt. Pot perdre 50-80% del seu valor en mesos. Regulaci√≥ incerta. Risc tecnol√≤gic.' : idioma === 'es' ? 'Muy alto. Puede perder 50-80% de su valor en meses. Regulaci√≥n incierta. Riesgo tecnol√≥gico.' : 'Very high. Can lose 50-80% of value in months. Uncertain regulation. Technology risk.',
                    ventajas: idioma === 'val' ? ['Descentralitzat: sense control governamental', 'Oferta limitada (Bitcoin)', 'Alta rendibilitat potencial', 'Accessible globalment 24/7'] : idioma === 'es' ? ['Descentralizado: sin control gubernamental', 'Oferta limitada (Bitcoin)', 'Alta rentabilidad potencial', 'Accesible globalmente 24/7'] : ['Decentralized: no government control', 'Limited supply (Bitcoin)', 'High potential returns', 'Globally accessible 24/7'],
                    desventajas: idioma === 'val' ? ['Volatilitat extrema', 'Regulaci√≥ incerta i canviant', 'No genera rendes', 'Risc de hackejats/p√®rdua de claus', 'Moltes criptos s√≥n estafes'] : idioma === 'es' ? ['Volatilidad extrema', 'Regulaci√≥n incierta y cambiante', 'No genera rentas', 'Riesgo de hackeos/p√©rdida de claves', 'Muchas criptos son estafas'] : ['Extreme volatility', 'Uncertain and changing regulation', "Doesn't generate income", 'Risk of hacks/key loss', 'Many cryptos are scams'],
                    ejemplos: ['Bitcoin (BTC)', 'Ethereum (ETH)', 'ETFs de Bitcoin (IBIT, FBTC)'],
                    idealPara: idioma === 'val' ? "M√†xim 1-5% de la cartera per a qui entenga i accepte el risc extrem." : idioma === 'es' ? 'M√°ximo 1-5% de la cartera para quien entienda y acepte el riesgo extremo.' : 'Maximum 1-5% of portfolio for those who understand and accept extreme risk.',
                    comoInvertir: idioma === 'val' ? "Exchanges (Coinbase, Kraken) o ETFs de Bitcoin en brokers tradicionals (m√©s segur)." : idioma === 'es' ? 'Exchanges (Coinbase, Kraken) o ETFs de Bitcoin en brokers tradicionales (m√°s seguro).' : 'Exchanges (Coinbase, Kraken) or Bitcoin ETFs at traditional brokers (safer).'
                }
            ];

            const activos = getActivos();

            const carteras = [
                { nombre: 'Conservadora', rv: 30, rf: 50, oro: 10, cash: 10, rent: '4-5%', volatilidad: 'Baja', horizonte: '3-5 a√±os' },
                { nombre: 'Moderada', rv: 60, rf: 30, oro: 5, cash: 5, rent: '6-7%', volatilidad: 'Media', horizonte: '7-10 a√±os' },
                { nombre: 'Agresiva', rv: 90, rf: 5, oro: 5, cash: 0, rent: '8-9%', volatilidad: 'Alta', horizonte: '15+ a√±os' },
                { nombre: 'Permanente', rv: 25, rf: 25, oro: 25, cash: 25, rent: '5-6%', volatilidad: 'Baja', horizonte: 'Cualquiera' }
            ];

            const getBrokers = () => [
                { name: 'MyInvestor', tipo: 'fondos', desc: idioma === 'val' ? "El millor per a fons indexats Vanguard/iShares. Compte remunerat al 2% TAE. Sense comissions de cust√≤dia." : idioma === 'es' ? 'El mejor para fondos indexados Vanguard/iShares. Cuenta remunerada al 2% TAE. Sin comisiones de custodia.' : 'Best for Vanguard/iShares index funds. 2% APY savings account. No custody fees.', rating: 5, pais: 'üá™üá∏', productos: idioma === 'val' ? 'Fons, ETFs, Accions' : idioma === 'es' ? 'Fondos, ETFs, Acciones' : 'Funds, ETFs, Stocks', comision: 'gratis' },
                { name: 'Indexa Capital', tipo: 'robo', desc: idioma === 'val' ? "Robo-advisor l√≠der a Espanya. Gesti√≥ 100% automatitzada. Cartera diversificada global. Ideal si no vols fer res." : idioma === 'es' ? 'Robo-advisor l√≠der en Espa√±a. Gesti√≥n 100% automatizada. Cartera diversificada global. Ideal si no quieres hacer nada.' : "Spain's leading robo-advisor. 100% automated management. Global diversified portfolio. Ideal if you don't want to do anything.", rating: 5, pais: 'üá™üá∏', productos: idioma === 'val' ? 'Gesti√≥ delegada' : idioma === 'es' ? 'Gesti√≥n delegada' : 'Managed portfolios', comision: 'baja' },
                { name: 'Trade Republic', tipo: 'app', desc: idioma === 'val' ? "App molt senzilla. Plans d'inversi√≥ gratis. Compte remunerat al 3% TAE. Popular entre joves." : idioma === 'es' ? 'App muy sencilla. Planes de inversi√≥n gratis. Cuenta remunerada al 3% TAE. Popular entre j√≥venes.' : 'Very simple app. Free investment plans. 3% APY savings account. Popular among young people.', rating: 4, pais: 'üá©üá™', productos: idioma === 'val' ? 'Accions, ETFs, Cripto' : idioma === 'es' ? 'Acciones, ETFs, Cripto' : 'Stocks, ETFs, Crypto', comision: 'gratis' },
                { name: 'DEGIRO', tipo: 'broker', desc: idioma === 'val' ? "Gran varietat de mercats globals. ETFs selecci√≥ core gratis. Interf√≠cie una mica complexa." : idioma === 'es' ? 'Gran variedad de mercados globales. ETFs selecci√≥n core gratis. Interfaz algo compleja.' : 'Wide variety of global markets. Free core ETF selection. Somewhat complex interface.', rating: 4, pais: 'üá≥üá±', productos: idioma === 'val' ? 'Tot tipus' : idioma === 'es' ? 'Todo tipo' : 'All types', comision: 'baja' },
                { name: 'Interactive Brokers', tipo: 'broker', desc: idioma === 'val' ? "El m√©s complet del m√≥n. Per a inversors avan√ßats. Acc√©s a tots els mercats. Comissions molt baixes." : idioma === 'es' ? 'El m√°s completo del mundo. Para inversores avanzados. Acceso a todos los mercados. Comisiones muy bajas.' : "World's most complete. For advanced investors. Access to all markets. Very low fees.", rating: 5, pais: 'üá∫üá∏', productos: idioma === 'val' ? 'Professional' : idioma === 'es' ? 'Profesional' : 'Professional', comision: 'baja' },
                { name: 'XTB', tipo: 'broker', desc: idioma === 'val' ? "Sense comissions en accions/ETFs fins a 100k‚Ç¨/mes. Bona plataforma i formaci√≥. CFDs disponibles (compte)." : idioma === 'es' ? 'Sin comisiones en acciones/ETFs hasta 100k‚Ç¨/mes. Buena plataforma y formaci√≥n. CFDs disponibles (cuidado).' : 'No commissions on stocks/ETFs up to ‚Ç¨100k/month. Good platform and education. CFDs available (be careful).', rating: 4, pais: 'üáµüá±', productos: idioma === 'val' ? 'Accions, ETFs, CFDs' : idioma === 'es' ? 'Acciones, ETFs, CFDs' : 'Stocks, ETFs, CFDs', comision: 'gratis' },
                { name: 'Revolut', tipo: 'app', desc: idioma === 'val' ? "Tot en un: banc + inversions + cripto. C√≤mode per√≤ limitat. Bo per comen√ßar amb poc." : idioma === 'es' ? 'Todo en uno: banco + inversiones + cripto. C√≥modo pero limitado. Bueno para empezar con poco.' : 'All in one: bank + investments + crypto. Convenient but limited. Good for starting small.', rating: 3, pais: 'üá¨üáß', productos: idioma === 'val' ? 'Accions, ETFs, Cripto' : idioma === 'es' ? 'Acciones, ETFs, Cripto' : 'Stocks, ETFs, Crypto', comision: 'gratis' }
            ];

            const brokers = getBrokers();

            const quizPreguntas = [
                { pregunta: '¬øQu√© significa TER en un fondo de inversi√≥n?', opciones: ['Tasa de √âxito Rentable', 'Total Expense Ratio (coste anual)', 'Tipo de Inter√©s Europeo', 'Tiempo Estimado de Retorno'], correcta: 1 },
                { pregunta: '¬øCu√°ntos meses de gastos deber√≠a tener el fondo de emergencia?', opciones: ['1-2 meses', '3-4 meses', '6-12 meses', 'No es necesario tener fondo de emergencia'], correcta: 2 },
                { pregunta: '¬øQu√© porcentaje de gestores profesionales NO consigue batir al √≠ndice a largo plazo?', opciones: ['Aproximadamente el 50%', 'Aproximadamente el 70%', 'M√°s del 90%', 'Solo el 30%'], correcta: 2 },
                { pregunta: '¬øCu√°l es la principal ventaja fiscal de los fondos de inversi√≥n en Espa√±a?', opciones: ['No pagan ning√∫n impuesto', 'Traspasos entre fondos sin tributar', 'Deducci√≥n en el IRPF', 'Exenci√≥n total a partir de 10 a√±os'], correcta: 1 },
                { pregunta: '¬øQu√© es la estrategia DCA (Dollar Cost Averaging)?', opciones: ['Comprar solo cuando el mercado baja', 'Invertir una cantidad fija de forma peri√≥dica', 'Vender siempre en m√°ximos hist√≥ricos', 'Diversificar en muchos activos'], correcta: 1 },
                { pregunta: '¬øQu√© deuda deber√≠as eliminar ANTES de empezar a invertir?', opciones: ['Hipoteca al 2%', 'Pr√©stamo coche al 5%', 'Tarjeta de cr√©dito al 20%', 'Todas las deudas sin excepci√≥n'], correcta: 2 },
                { pregunta: '¬øQu√© es un Bear Market?', opciones: ['Mercado alcista con subidas sostenidas', 'Ca√≠da de m√°s del 20% desde m√°ximos', 'Mercado lateral sin tendencia', 'Subida del precio del oro'], correcta: 1 },
                { pregunta: '¬øQu√© sesgo psicol√≥gico te hace comprar porque "todos lo est√°n haciendo"?', opciones: ['Aversi√≥n a la p√©rdida', 'Sesgo de anclaje', 'FOMO (Fear Of Missing Out)', 'Sesgo de confirmaci√≥n'], correcta: 2 },
                { pregunta: '¬øCu√°l es la rentabilidad media hist√≥rica del S&P 500?', opciones: ['3-4% anual', '5-6% anual', '9-10% anual', '15-20% anual'], correcta: 2 },
                { pregunta: '¬øQu√© es mejor para hacer DCA mensual en Espa√±a?', opciones: ['ETFs', 'Fondos indexados', 'Acciones individuales', 'Da igual, es lo mismo'], correcta: 1 }
            ];

            const testPreguntas = {
                fase1: [
                    { id: 'presupuesto', texto: '¬øTienes un presupuesto de ingresos y gastos?' },
                    { id: 'superavit', texto: '¬øTus ingresos superan consistentemente tus gastos?' },
                    { id: 'emergencia', texto: '¬øTienes un fondo de emergencia de 6-12 meses de gastos?' },
                    { id: 'deudas', texto: '¬øHas eliminado todas las deudas con TAE superior al 6-7%?' },
                    { id: 'riesgo', texto: '¬øEntiendes y aceptas el riesgo de perder parte del capital?' }
                ],
                fase2: [
                    { id: 'horizonte', texto: '¬øCu√°nto tiempo puedes mantener el dinero invertido?', opciones: ['M√°s de 15 a√±os', '7-15 a√±os', '3-7 a√±os', 'Menos de 3 a√±os'] },
                    { id: 'caida', texto: 'Si tu cartera cae un 40%, ¬øqu√© har√≠as?', opciones: ['Comprar m√°s (oportunidad)', 'Mantener sin tocar nada', 'Esperar nervioso', 'Vender todo'] },
                    { id: 'gestion', texto: '¬øCu√°nto tiempo quieres dedicar a gestionar inversiones?', opciones: ['Cero (que sea autom√°tico)', 'Poco (revisi√≥n trimestral)', 'Algo (seguimiento mensual)', 'Mucho (an√°lisis frecuente)'] }
                ],
                fase3: [
                    { id: 'plan', texto: '¬øTe comprometes a escribir un plan de inversi√≥n y seguirlo?' },
                    { id: 'paciencia', texto: '¬øPuedes comprometerte a no tocar la inversi√≥n durante 10+ a√±os?' },
                    { id: 'formacion', texto: '¬øEst√°s dispuesto a seguir aprendiendo sobre inversi√≥n?' }
                ]
            };

            const sesgos = [
                { nombre: 'FOMO', icono: TrendingUp, descripcion: 'Compras porque "todos lo est√°n haciendo" y tienes miedo de perderte la subida.', solucion: 'Sigue tu plan. Si no estaba en tu estrategia, no compres por impulso.', ejemplo: 'Comprar Bitcoin en m√°ximos porque tu vecino gan√≥ dinero.' },
                { nombre: 'Aversi√≥n a la p√©rdida', icono: TrendingDown, descripcion: 'El dolor de perder 100‚Ç¨ es el doble que la alegr√≠a de ganar 100‚Ç¨.', solucion: 'No mires la cartera constantemente. Establece revisiones peri√≥dicas (trimestral).', ejemplo: 'Vender en p√°nico cuando cae un 20%.' },
                { nombre: 'Sesgo de confirmaci√≥n', icono: Eye, descripcion: 'Solo buscas informaci√≥n que confirma lo que ya crees.', solucion: 'Busca activamente argumentos en contra de tu posici√≥n.', ejemplo: 'Leer solo noticias positivas sobre una acci√≥n que tienes.' },
                { nombre: 'Exceso de confianza', icono: Award, descripcion: 'Crees que puedes batir al mercado o que eres mejor que la media.', solucion: 'Recuerda: el 90%+ de profesionales no baten al √≠ndice. T√∫ tampoco lo har√°s.', ejemplo: 'Pensar que puedes hacer timing del mercado.' },
                { nombre: 'Anclaje', icono: Target, descripcion: 'Te fijas en el precio al que compraste y tomas decisiones basadas en eso.', solucion: 'Preg√∫ntate: ¬øcomprar√≠a HOY a este precio? El precio de compra es irrelevante.', ejemplo: 'No vender una mala inversi√≥n porque "ya subir√° al precio que pagu√©".' },
                { nombre: 'Efecto manada', icono: Users, descripcion: 'Sigues a la mayor√≠a sin pensar. Si todos compran/venden, t√∫ tambi√©n.', solucion: 'S√© temeroso cuando otros son codiciosos, y codicioso cuando otros son temerosos.', ejemplo: 'Vender todo en marzo 2020 porque "todos vend√≠an".' }
            ];

            const datosCalculadora = useMemo(() => {
                const datos = [];
                let capital = calcCapital;
                const tasaMensual = calcRent / 100 / 12;
                for (let a√±o = 0; a√±o <= calcAnios; a√±o++) {
                    datos.push({ a√±o, capital: Math.round(capital), aportado: calcCapital + (calcMensual * 12 * a√±o) });
                    for (let mes = 0; mes < 12; mes++) { capital = capital * (1 + tasaMensual) + calcMensual; }
                }
                return datos;
            }, [calcCapital, calcMensual, calcRent, calcAnios]);

            const capitalFinal = datosCalculadora[datosCalculadora.length - 1]?.capital || 0;
            const totalAportado = calcCapital + (calcMensual * 12 * calcAnios);
            const gananciaTotal = capitalFinal - totalAportado;
            const multiplicador = totalAportado > 0 ? (capitalFinal / totalAportado).toFixed(2) : 0;

            const rentabilidadCartera = useMemo(() => {
                const rentabilidades = { rv: 8, rf: 3, oro: 5, cash: 1 };
                return Object.entries(cartera).reduce((acc, [k, v]) => acc + (rentabilidades[k] * v / 100), 0).toFixed(1);
            }, [cartera]);

            const totalCartera = Object.values(cartera).reduce((a, b) => a + b, 0);
            const quizPuntuacion = Object.entries(quizRespuestas).filter(([i, r]) => quizPreguntas[parseInt(i)].correcta === r).length;
            const puedePasarFase1 = () => testPreguntas.fase1.every(q => testRespuestas[q.id] === true);
            
            const obtenerRecomendacion = () => {
                const { horizonte, caida, gestion } = testRespuestas;
                let perfil = 'Moderado';
                let carteraRec = carteras[1];
                let brokersRec = ['MyInvestor'];
                if (caida === 'Vender todo' || horizonte === 'Menos de 3 a√±os') { perfil = 'Conservador'; carteraRec = carteras[0]; }
                else if ((caida === 'Comprar m√°s (oportunidad)' || caida === 'Mantener sin tocar nada') && horizonte === 'M√°s de 15 a√±os') { perfil = 'Agresivo'; carteraRec = carteras[2]; }
                if (gestion === 'Cero (que sea autom√°tico)') { brokersRec = ['Indexa Capital', 'MyInvestor']; }
                else if (gestion === 'Mucho (an√°lisis frecuente)') { brokersRec = ['Interactive Brokers', 'DEGIRO']; }
                else { brokersRec = ['MyInvestor', 'Trade Republic']; }
                return { perfil, carteraRec, brokersRec };
            };

            const NavBtn = ({ sec, icono: Icono, label }) => (
                <button onClick={() => { setSection(sec); setMenuOpen(false); }} className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-all ${section === sec ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg' : 'text-gray-500 hover:text-gray-800 hover:bg-pink-50'}`}>
                    <Icono size={16} /><span className="font-medium">{label}</span>
                </button>
            );

            const filteredGlosario = glosario.filter(g => g.term.toLowerCase().includes(searchTerm.toLowerCase()) || g.def.toLowerCase().includes(searchTerm.toLowerCase()));
            const filteredBrokers = brokers.filter(b => brokerFiltro === 'todos' || b.tipo === brokerFiltro);

            const colores = {
                emerald: { bg: 'bg-emerald-50', border: 'border-emerald-200', text: 'text-emerald-600' },
                blue: { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-600' },
                purple: { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-600' },
                cyan: { bg: 'bg-cyan-50', border: 'border-cyan-200', text: 'text-cyan-600' },
                amber: { bg: 'bg-amber-50', border: 'border-amber-200', text: 'text-amber-600' },
                orange: { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-600' },
                yellow: { bg: 'bg-yellow-50', border: 'border-yellow-200', text: 'text-yellow-600' }
            };

            // Component Disclaimer reutilitzable
            const Disclaimer = ({ compact = false }) => (
                <div className={`bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200 ${compact ? 'p-3' : 'p-4'}`}>
                    <div className="flex items-start gap-3">
                        <span className={`${compact ? 'text-lg' : 'text-2xl'}`}>‚ö†Ô∏è</span>
                        <div>
                            <p className={`font-bold text-red-700 ${compact ? 'text-sm' : ''}`}>{t('disclaimer', 'title')}</p>
                            <p className={`text-red-600 ${compact ? 'text-xs' : 'text-sm'}`}>{t('disclaimer', 'text')}</p>
                        </div>
                    </div>
                </div>
            );

            const Inicio = () => (
                <div className="space-y-8">
                    {/* Disclaimer destacat */}
                    <Disclaimer />
                    
                    <div className="text-center py-8">
                        <div className="inline-flex items-center gap-2 px-4 py-2 bg-pink-100 rounded-full text-pink-500 text-sm font-medium mb-6 border border-pink-200">
                            <Zap size={16} /> {t('subtitle')}
                        </div>
                        <h1 className="text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-rose-500 to-amber-500 mb-4">{t('inicio', 'heroTitle')}</h1>
                        <p className="text-lg text-gray-500 max-w-xl mx-auto mb-8">{t('inicio', 'heroSubtitle')}</p>
                        <div className="flex flex-wrap justify-center gap-3">
                            <button onClick={() => setSection('test')} className="px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl font-bold text-white shadow-lg shadow-pink-300/50 hover:scale-105 transition-all flex items-center gap-2"><Target size={18} /> {t('test', 'title')}</button>
                            <button onClick={() => setSection('calc')} className="px-6 py-3 bg-pink-50 rounded-xl font-bold text-gray-800 border border-pink-200 hover:bg-pink-100 transition-all flex items-center gap-2"><Calculator size={18} /> {t('nav', 'calc')}</button>
                            <button onClick={() => setSection('bitcoin')} className="px-6 py-3 bg-amber-50 rounded-xl font-bold text-amber-700 border border-amber-200 hover:bg-amber-100 transition-all flex items-center gap-2"><Icon name="Bitcoin" size={18} /> Bitcoin</button>
                        </div>
                    </div>
                    
                    {/* Per qu√® √©s important? */}
                    <div className="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-200">
                        <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">üí° {idioma === 'val' ? "Per qu√® √©s important aprendre finances personals?" : idioma === 'es' ? "¬øPor qu√© es importante aprender finanzas personales?" : "Why is it important to learn personal finance?"}</h3>
                        <div className="grid md:grid-cols-3 gap-4">
                            <div className="p-4 bg-white/70 rounded-xl">
                                <p className="font-bold text-blue-700 mb-2">üéì {idioma === 'val' ? "No t'ho ensenyen a l'escola" : idioma === 'es' ? "No te lo ense√±an en la escuela" : "They don't teach you in school"}</p>
                                <p className="text-sm text-gray-600">{idioma === 'val' ? "La majoria de persones arriba a l'edat adulta sense saber com funcionen els diners, els impostos o la inversi√≥." : idioma === 'es' ? "La mayor√≠a de personas llega a la edad adulta sin saber c√≥mo funcionan el dinero, los impuestos o la inversi√≥n." : "Most people reach adulthood without knowing how money, taxes or investing work."}</p>
                            </div>
                            <div className="p-4 bg-white/70 rounded-xl">
                                <p className="font-bold text-blue-700 mb-2">üìâ {idioma === 'val' ? "La inflaci√≥ et roba silenciosament" : idioma === 'es' ? "La inflaci√≥n te roba silenciosamente" : "Inflation steals from you silently"}</p>
                                <p className="text-sm text-gray-600">{idioma === 'val' ? "Amb una inflaci√≥ del 3% anual, 10.000‚Ç¨ avui valdran nom√©s 7.400‚Ç¨ en 10 anys. Els diners perden valor si no els fas treballar." : idioma === 'es' ? "Con una inflaci√≥n del 3% anual, 10.000‚Ç¨ hoy valdr√°n solo 7.400‚Ç¨ en 10 a√±os. El dinero pierde valor si no lo haces trabajar." : "With 3% annual inflation, ‚Ç¨10,000 today will be worth only ‚Ç¨7,400 in 10 years. Money loses value if you don't make it work."}</p>
                            </div>
                            <div className="p-4 bg-white/70 rounded-xl">
                                <p className="font-bold text-blue-700 mb-2">‚è∞ {idioma === 'val' ? "El temps √©s el teu aliat" : idioma === 'es' ? "El tiempo es tu aliado" : "Time is your ally"}</p>
                                <p className="text-sm text-gray-600">{idioma === 'val' ? "Gr√†cies a l'inter√®s compost, 100‚Ç¨/mes durant 30 anys al 7% es converteixen en 122.000‚Ç¨. Comen√ßar avui √©s el m√©s important." : idioma === 'es' ? "Gracias al inter√©s compuesto, 100‚Ç¨/mes durante 30 a√±os al 7% se convierten en 122.000‚Ç¨. Empezar hoy es lo m√°s importante." : "Thanks to compound interest, ‚Ç¨100/month for 30 years at 7% becomes ‚Ç¨122,000. Starting today is the most important thing."}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200">
                        <div className="flex items-center gap-4">
                            <AlertTriangle className="text-amber-600 flex-shrink-0" size={40} />
                            <div><p className="text-xl font-bold text-gray-800">{idioma === 'val' ? "Invertir no √©s per fer-se ric r√†pid" : idioma === 'es' ? "Invertir no es para hacerse rico r√°pido" : "Investing is not for getting rich quick"}</p><p className="text-gray-600">{idioma === 'val' ? "√âs per " : idioma === 'es' ? "Es para " : "It's to "}<span className="text-amber-600 font-bold">{idioma === 'val' ? "protegir el teu patrimoni" : idioma === 'es' ? "proteger tu patrimonio" : "protect your wealth"}</span> {idioma === 'val' ? "de la inflaci√≥ i fer-lo cr√©ixer a llarg termini." : idioma === 'es' ? "de la inflaci√≥n y hacerlo crecer a largo plazo." : "from inflation and grow it long term."}</p></div>
                        </div>
                    </div>
                    
                    {/* Seccions principals */}
                    <div>
                        <h3 className="text-lg font-bold text-gray-800 mb-4">üìö {idioma === 'val' ? "Fonaments" : idioma === 'es' ? "Fundamentos" : "Fundamentals"}</h3>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                            {[
                                { icono: Wallet, titulo: t('nav', 'gestion'), sec: 'gestion', desc: idioma === 'val' ? 'Pressupost i estalvi' : idioma === 'es' ? 'Presupuesto y ahorro' : 'Budget and savings', color: 'emerald' },
                                { icono: BarChart3, titulo: t('nav', 'activos'), sec: 'activos', desc: idioma === 'val' ? 'Tipus d\'inversi√≥' : idioma === 'es' ? 'Tipos de inversi√≥n' : 'Investment types', color: 'blue' },
                                { icono: Calculator, titulo: t('nav', 'calc'), sec: 'calc', desc: idioma === 'val' ? 'Inter√®s compost' : idioma === 'es' ? 'Inter√©s compuesto' : 'Compound interest', color: 'violet' },
                                { icono: PieChartIcon, titulo: t('nav', 'cartera'), sec: 'cartera', desc: idioma === 'val' ? 'Simulador cartera' : idioma === 'es' ? 'Simulador cartera' : 'Portfolio simulator', color: 'pink' },
                            ].map((item, i) => (
                                <button key={i} onClick={() => setSection(item.sec)} className="p-4 bg-white rounded-xl border border-gray-200 hover:border-pink-300 hover:shadow-md transition-all text-left group">
                                    <item.icono className="text-pink-500 mb-2 group-hover:scale-110 transition-transform" size={28} />
                                    <p className="font-bold text-gray-800">{item.titulo}</p>
                                    <p className="text-xs text-gray-500">{item.desc}</p>
                                </button>
                            ))}
                        </div>
                    </div>
                    
                    {/* Estrat√®gia i psicologia */}
                    <div>
                        <h3 className="text-lg font-bold text-gray-800 mb-4">üß† {idioma === 'val' ? "Estrat√®gia i Psicologia" : idioma === 'es' ? "Estrategia y Psicolog√≠a" : "Strategy & Psychology"}</h3>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                            {[
                                { icono: Target, titulo: t('nav', 'estrategias'), sec: 'estrategias', desc: idioma === 'val' ? 'DCA, Buy & Hold...' : idioma === 'es' ? 'DCA, Buy & Hold...' : 'DCA, Buy & Hold...' },
                                { icono: Brain, titulo: t('nav', 'psicologia'), sec: 'psicologia', desc: idioma === 'val' ? 'Biaixos cognitius' : idioma === 'es' ? 'Sesgos cognitivos' : 'Cognitive biases' },
                                { icono: Building, titulo: t('nav', 'brokers'), sec: 'brokers', desc: idioma === 'val' ? 'On invertir' : idioma === 'es' ? 'D√≥nde invertir' : 'Where to invest' },
                                { icono: GraduationCap, titulo: t('nav', 'quiz'), sec: 'quiz', desc: idioma === 'val' ? 'Posa\'t a prova' : idioma === 'es' ? 'Ponte a prueba' : 'Test yourself' },
                            ].map((item, i) => (
                                <button key={i} onClick={() => setSection(item.sec)} className="p-4 bg-white rounded-xl border border-gray-200 hover:border-pink-300 hover:shadow-md transition-all text-left group">
                                    <item.icono className="text-pink-500 mb-2 group-hover:scale-110 transition-transform" size={28} />
                                    <p className="font-bold text-gray-800">{item.titulo}</p>
                                    <p className="text-xs text-gray-500">{item.desc}</p>
                                </button>
                            ))}
                        </div>
                    </div>
                    
                    {/* Temes avan√ßats */}
                    <div>
                        <h3 className="text-lg font-bold text-gray-800 mb-4">üöÄ {idioma === 'val' ? "Temes Avan√ßats" : idioma === 'es' ? "Temas Avanzados" : "Advanced Topics"}</h3>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                            {[
                                { icono: () => <span className="text-2xl">‚Çø</span>, titulo: 'Bitcoin', sec: 'bitcoin', desc: idioma === 'val' ? 'Qu√® √©s realment' : idioma === 'es' ? 'Qu√© es realmente' : 'What it really is', highlight: true },
                                { icono: () => <span className="text-2xl">üßæ</span>, titulo: t('nav', 'fiscalitat'), sec: 'fiscalitat', desc: idioma === 'val' ? 'Impostos Espanya' : idioma === 'es' ? 'Impuestos Espa√±a' : 'Spain taxes' },
                                { icono: () => <span className="text-2xl">üìä</span>, titulo: t('nav', 'analisi'), sec: 'analisi', desc: idioma === 'val' ? 'An√†lisi d\'actius' : idioma === 'es' ? 'An√°lisis de activos' : 'Asset analysis' },
                                { icono: () => <span className="text-2xl">‚öñÔ∏è</span>, titulo: t('nav', 'derivats'), sec: 'derivats', desc: idioma === 'val' ? 'Futurs, opcions...' : idioma === 'es' ? 'Futuros, opciones...' : 'Futures, options...' },
                            ].map((item, i) => (
                                <button key={i} onClick={() => setSection(item.sec)} className={`p-4 rounded-xl border transition-all text-left group ${item.highlight ? 'bg-gradient-to-br from-amber-50 to-orange-50 border-amber-300 hover:border-amber-400' : 'bg-white border-gray-200 hover:border-pink-300'} hover:shadow-md`}>
                                    <item.icono className="text-pink-500 mb-2 group-hover:scale-110 transition-transform" size={28} />
                                    <p className="font-bold text-gray-800">{item.titulo}</p>
                                    <p className="text-xs text-gray-500">{item.desc}</p>
                                </button>
                            ))}
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-2xl p-6 border border-gray-200">
                        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"><TrendingUp className="text-pink-500" /> {idioma === 'val' ? "Rendibilitat hist√≤rica real" : idioma === 'es' ? "Rentabilidad hist√≥rica real" : "Real historical returns"}</h3>
                        <p className="text-sm text-gray-500 mb-4">{idioma === 'val' ? "Aquestes dades s√≥n rendibilitats nominals anualitzades. Recorda que rendiments passats no garanteixen rendiments futurs." : idioma === 'es' ? "Estos datos son rentabilidades nominales anualizadas. Recuerda que rendimientos pasados no garantizan rendimientos futuros." : "These are annualized nominal returns. Remember that past performance does not guarantee future returns."}</p>
                        
                        {/* √çndexs borsaris */}
                        <h4 className="font-bold text-gray-700 text-sm mb-2 mt-4">üìà {idioma === 'val' ? "√çndexs borsaris" : idioma === 'es' ? "√çndices burs√°tiles" : "Stock indices"}</h4>
                        <div className="space-y-2 mb-4">
                            {[
                                { indice: 'S&P 500', periodo: '1928-2024 (96 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '10.1%', nota: idioma === 'val' ? 'Les 500 majors empreses dels EUA' : idioma === 'es' ? 'Las 500 mayores empresas de EEUU' : 'Top 500 US companies', color: 'emerald' },
                                { indice: 'MSCI World', periodo: '1970-2024 (54 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '8.5%', nota: idioma === 'val' ? '1.500+ empreses de 23 pa√Øsos desenvolupats' : idioma === 'es' ? '1.500+ empresas de 23 pa√≠ses desarrollados' : '1,500+ companies from 23 developed countries', color: 'blue' },
                                { indice: 'MSCI Emerging Markets', periodo: '1988-2024 (36 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '9.2%', nota: idioma === 'val' ? 'Mercats emergents: Xina, √çndia, Brasil...' : idioma === 'es' ? 'Mercados emergentes: China, India, Brasil...' : 'Emerging markets: China, India, Brazil...', color: 'violet' },
                                { indice: 'NASDAQ 100', periodo: '1985-2024 (39 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '12.4%', nota: idioma === 'val' ? '100 majors tecnol√≤giques dels EUA' : idioma === 'es' ? '100 mayores tecnol√≥gicas de EEUU' : 'Top 100 US tech companies', color: 'cyan' },
                                { indice: 'Euro Stoxx 50', periodo: '1987-2024 (37 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '6.8%', nota: idioma === 'val' ? '50 majors empreses de la zona euro' : idioma === 'es' ? '50 mayores empresas de la zona euro' : 'Top 50 eurozone companies', color: 'blue' },
                                { indice: 'IBEX 35', periodo: '1992-2024 (32 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '4.8%', nota: idioma === 'val' ? 'Les 35 majors empreses d\'Espanya' : idioma === 'es' ? 'Las 35 mayores empresas de Espa√±a' : 'Top 35 Spanish companies', color: 'red' },
                                { indice: 'Nikkei 225', periodo: '1950-2024 (74 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '7.2%', nota: idioma === 'val' ? '225 majors empreses del Jap√≥' : idioma === 'es' ? '225 mayores empresas de Jap√≥n' : 'Top 225 Japanese companies', color: 'pink' },
                            ].map((d, i) => (
                                <div key={i} className="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                                    <div><p className="font-bold text-gray-800">{d.indice}</p><p className="text-xs text-gray-500">{d.periodo}</p><p className="text-xs text-gray-400">{d.nota}</p></div>
                                    <p className={`text-lg font-black text-${d.color}-500`}>{d.rent}</p>
                                </div>
                            ))}
                        </div>
                        
                        {/* Altres actius */}
                        <h4 className="font-bold text-gray-700 text-sm mb-2">üè¶ {idioma === 'val' ? "Altres actius" : idioma === 'es' ? "Otros activos" : "Other assets"}</h4>
                        <div className="space-y-2 mb-4">
                            {[
                                { indice: idioma === 'val' ? 'Or' : idioma === 'es' ? 'Oro' : 'Gold', periodo: '1971-2024 (53 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '7.8%', nota: idioma === 'val' ? 'Refugi en crisi, cobertura contra inflaci√≥' : idioma === 'es' ? 'Refugio en crisis, cobertura contra inflaci√≥n' : 'Crisis refuge, inflation hedge', color: 'amber' },
                                { indice: idioma === 'val' ? 'Bons EUA 10 anys' : idioma === 'es' ? 'Bonos EEUU 10 a√±os' : 'US 10Y Bonds', periodo: '1928-2024 (96 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '4.9%', nota: idioma === 'val' ? 'Renda fixa, menor volatilitat' : idioma === 'es' ? 'Renta fija, menor volatilidad' : 'Fixed income, lower volatility', color: 'blue' },
                                { indice: idioma === 'val' ? 'Immobiliari EUA (REITs)' : idioma === 'es' ? 'Inmobiliario EEUU (REITs)' : 'US Real Estate (REITs)', periodo: '1972-2024 (52 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '9.5%', nota: idioma === 'val' ? 'Fons immobiliaris cotitzats' : idioma === 'es' ? 'Fondos inmobiliarios cotizados' : 'Listed real estate funds', color: 'orange' },
                                { indice: idioma === 'val' ? 'Inflaci√≥ EUA' : idioma === 'es' ? 'Inflaci√≥n EEUU' : 'US Inflation', periodo: '1928-2024 (96 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '3.0%', nota: idioma === 'val' ? '‚ö†Ô∏è Si no superes a√ß√≤, perds poder adquisitiu' : idioma === 'es' ? '‚ö†Ô∏è Si no superas esto, pierdes poder adquisitivo' : '‚ö†Ô∏è If you don\'t beat this, you lose purchasing power', color: 'red' },
                            ].map((d, i) => (
                                <div key={i} className="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                                    <div><p className="font-bold text-gray-800">{d.indice}</p><p className="text-xs text-gray-500">{d.periodo}</p><p className="text-xs text-gray-400">{d.nota}</p></div>
                                    <p className={`text-lg font-black text-${d.color}-500`}>{d.rent}</p>
                                </div>
                            ))}
                        </div>
                        
                        {/* Cripto */}
                        <h4 className="font-bold text-gray-700 text-sm mb-2">‚Çø Bitcoin</h4>
                        <div className="space-y-2 mb-4">
                            <div className="flex items-center justify-between p-3 bg-amber-50 rounded-xl border border-amber-200">
                                <div>
                                    <p className="font-bold text-gray-800">Bitcoin</p>
                                    <p className="text-xs text-gray-500">2010-2024 (14 {idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os'})</p>
                                    <p className="text-xs text-amber-600">{idioma === 'val' ? '‚ö†Ô∏è Volatilitat extrema, caigudes del 80%+. CAGR des de 2010.' : idioma === 'es' ? '‚ö†Ô∏è Volatilidad extrema, ca√≠das del 80%+. CAGR desde 2010.' : '‚ö†Ô∏è Extreme volatility, 80%+ drops. CAGR since 2010.'}</p>
                                </div>
                                <p className="text-lg font-black text-amber-500">~150%</p>
                            </div>
                        </div>
                        
                        {/* Inflaci√≥ per monedes */}
                        <h4 className="font-bold text-gray-700 text-sm mb-2">üí∏ {idioma === 'val' ? "Inflaci√≥ per moneda (p√®rdua de poder adquisitiu)" : idioma === 'es' ? "Inflaci√≥n por moneda (p√©rdida de poder adquisitivo)" : "Inflation by currency (purchasing power loss)"}</h4>
                        <p className="text-xs text-gray-400 mb-2">{idioma === 'val' ? "Si els teus diners no rendeixen m√©s que la inflaci√≥, est√†s perdent poder adquisitiu cada any." : idioma === 'es' ? "Si tu dinero no rinde m√°s que la inflaci√≥n, est√°s perdiendo poder adquisitivo cada a√±o." : "If your money doesn't return more than inflation, you're losing purchasing power each year."}</p>
                        <div className="space-y-2">
                            {[
                                { moneda: idioma === 'val' ? 'D√≤lar EUA üá∫üá∏' : idioma === 'es' ? 'D√≥lar EEUU üá∫üá∏' : 'US Dollar üá∫üá∏', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '2.5%', nota: idioma === 'val' ? '100$ del 2000 = ~55$ avui' : idioma === 'es' ? '100$ del 2000 = ~55$ hoy' : '$100 in 2000 = ~$55 today' },
                                { moneda: idioma === 'val' ? 'D√≤lar EUA üá∫üá∏' : idioma === 'es' ? 'D√≥lar EEUU üá∫üá∏' : 'US Dollar üá∫üá∏', periodo: '1928-2024 (96 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '3.0%', nota: idioma === 'val' ? 'Hist√≤ric llarg termini' : idioma === 'es' ? 'Hist√≥rico largo plazo' : 'Long-term historical' },
                                { moneda: 'Euro üá™üá∫', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '2.2%', nota: idioma === 'val' ? '100‚Ç¨ del 2000 = ~60‚Ç¨ avui' : idioma === 'es' ? '100‚Ç¨ del 2000 = ~60‚Ç¨ hoy' : '‚Ç¨100 in 2000 = ~‚Ç¨60 today' },
                                { moneda: idioma === 'val' ? 'Lliura esterlina üá¨üáß' : idioma === 'es' ? 'Libra esterlina üá¨üáß' : 'British Pound üá¨üáß', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '2.7%', nota: idioma === 'val' ? '100¬£ del 2000 = ~52¬£ avui' : idioma === 'es' ? '100¬£ del 2000 = ~52¬£ hoy' : '¬£100 in 2000 = ~¬£52 today' },
                                { moneda: idioma === 'val' ? 'Ien japon√®s üáØüáµ' : idioma === 'es' ? 'Yen japon√©s üáØüáµ' : 'Japanese Yen üáØüáµ', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '0.4%', nota: idioma === 'val' ? 'Deflaci√≥/baixa inflaci√≥ durant d√®cades' : idioma === 'es' ? 'Deflaci√≥n/baja inflaci√≥n durante d√©cadas' : 'Deflation/low inflation for decades' },
                                { moneda: idioma === 'val' ? 'Franc su√≠s üá®üá≠' : idioma === 'es' ? 'Franco suizo üá®üá≠' : 'Swiss Franc üá®üá≠', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '0.6%', nota: idioma === 'val' ? 'Moneda refugi, baixa inflaci√≥' : idioma === 'es' ? 'Moneda refugio, baja inflaci√≥n' : 'Safe haven currency, low inflation' },
                                { moneda: idioma === 'val' ? 'Peso argent√≠ üá¶üá∑' : idioma === 'es' ? 'Peso argentino üá¶üá∑' : 'Argentine Peso üá¶üá∑', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '~50%', nota: idioma === 'val' ? '‚ö†Ô∏è Hiperinflaci√≥. Exemple extrem.' : idioma === 'es' ? '‚ö†Ô∏è Hiperinflaci√≥n. Ejemplo extremo.' : '‚ö†Ô∏è Hyperinflation. Extreme example.' },
                                { moneda: idioma === 'val' ? 'Lira turca üáπüá∑' : idioma === 'es' ? 'Lira turca üáπüá∑' : 'Turkish Lira üáπüá∑', periodo: '2000-2024 (24 ' + (idioma === 'en' ? 'years' : idioma === 'val' ? 'anys' : 'a√±os') + ')', rent: '~25%', nota: idioma === 'val' ? '‚ö†Ô∏è Alta inflaci√≥ recent' : idioma === 'es' ? '‚ö†Ô∏è Alta inflaci√≥n reciente' : '‚ö†Ô∏è High recent inflation' },
                            ].map((d, i) => (
                                <div key={i} className={`flex items-center justify-between p-3 rounded-xl ${parseFloat(d.rent) > 10 ? 'bg-red-50 border border-red-200' : 'bg-gray-50'}`}>
                                    <div><p className="font-bold text-gray-800">{d.moneda}</p><p className="text-xs text-gray-500">{d.periodo}</p><p className={`text-xs ${parseFloat(d.rent) > 10 ? 'text-red-500' : 'text-gray-400'}`}>{d.nota}</p></div>
                                    <p className={`text-lg font-black ${parseFloat(d.rent) > 10 ? 'text-red-500' : parseFloat(d.rent) < 1 ? 'text-emerald-500' : 'text-amber-500'}`}>{d.rent}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Gestion = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Wallet className="text-pink-500" /> {idioma === 'val' ? 'Gesti√≥ del Diner' : idioma === 'es' ? 'Gesti√≥n del Dinero' : 'Money Management'}</h2>
                    
                    {/* Per qu√® √©s important */}
                    <div className="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200">
                        <h3 className="font-bold text-blue-700 mb-3">üí° {idioma === 'val' ? "Per qu√® √©s tan important?" : idioma === 'es' ? "¬øPor qu√© es tan importante?" : "Why is this so important?"}</h3>
                        <p className="text-sm text-blue-600">{idioma === 'val' ? "No importa quant guanyes, importa quant GUARDES. Persones amb sous de 100.000‚Ç¨/any poden estar endeutades, mentre que altres amb 30.000‚Ç¨/any acumulen patrimoni. La difer√®ncia: gesti√≥ del diner. Sense una base s√≤lida (pressupost, fons emerg√®ncia, zero deute dolent), invertir √©s construir sobre arena." : idioma === 'es' ? "No importa cu√°nto ganes, importa cu√°nto GUARDAS. Personas con sueldos de 100.000‚Ç¨/a√±o pueden estar endeudadas, mientras que otras con 30.000‚Ç¨/a√±o acumulan patrimonio. La diferencia: gesti√≥n del dinero. Sin una base s√≥lida (presupuesto, fondo emergencia, cero deuda mala), invertir es construir sobre arena." : "It doesn't matter how much you earn, it matters how much you KEEP. People earning ‚Ç¨100,000/year can be in debt, while others with ‚Ç¨30,000/year build wealth. The difference: money management. Without a solid foundation (budget, emergency fund, zero bad debt), investing is building on sand."}</p>
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">{idioma === 'val' ? 'Regla 50/30/20' : idioma === 'es' ? 'Regla 50/30/20' : '50/30/20 Rule'}</h3>
                            <div className="h-48">
                                <ResponsiveContainer><PieChart><Pie data={[{name: idioma === 'val' ? 'Necessitats' : idioma === 'es' ? 'Necesidades' : 'Needs', value:50},{name: idioma === 'val' ? 'Oci' : idioma === 'es' ? 'Ocio' : 'Wants', value:30},{name: idioma === 'val' ? 'Estalvi' : idioma === 'es' ? 'Ahorro' : 'Savings', value:20}]} cx="50%" cy="50%" innerRadius={45} outerRadius={75} dataKey="value" stroke="none"><Cell fill="#10b981" /><Cell fill="#3b82f6" /><Cell fill="#f59e0b" /></Pie><Tooltip /></PieChart></ResponsiveContainer>
                            </div>
                            <div className="space-y-2 text-sm mt-4">
                                <div className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-emerald-500"></span><span className="font-medium">50% {idioma === 'val' ? 'Necessitats' : idioma === 'es' ? 'Necesidades' : 'Needs'}:</span><span className="text-gray-500">{idioma === 'val' ? 'Lloguer, menjar, transport, serveis' : idioma === 'es' ? 'Alquiler, comida, transporte, servicios' : 'Rent, food, transport, utilities'}</span></div>
                                <div className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-blue-500"></span><span className="font-medium">30% {idioma === 'val' ? 'Oci/Desitjos' : idioma === 'es' ? 'Ocio/Deseos' : 'Wants'}:</span><span className="text-gray-500">{idioma === 'val' ? 'Restaurants, viatges, entreteniment' : idioma === 'es' ? 'Restaurantes, viajes, entretenimiento' : 'Restaurants, travel, entertainment'}</span></div>
                                <div className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-amber-500"></span><span className="font-medium">20% {idioma === 'val' ? 'Estalvi/Inversi√≥' : idioma === 'es' ? 'Ahorro/Inversi√≥n' : 'Savings/Investment'}:</span><span className="text-gray-500">{idioma === 'val' ? 'Fons emerg√®ncia + inversions' : idioma === 'es' ? 'Fondo emergencia + inversiones' : 'Emergency fund + investments'}</span></div>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2"><Shield className="text-blue-600" /> {idioma === 'val' ? "Fons d'Emerg√®ncia" : idioma === 'es' ? "Fondo de Emergencia" : "Emergency Fund"}</h3>
                            <div className="flex items-center gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200 mb-4">
                                <span className="text-5xl font-black text-blue-600">6-12</span>
                                <div><p className="text-gray-800 font-bold text-lg">{idioma === 'val' ? 'mesos de despeses' : idioma === 'es' ? 'meses de gastos' : 'months of expenses'}</p><p className="text-sm text-gray-500">{idioma === 'val' ? 'en compte d\'alta disponibilitat' : idioma === 'es' ? 'en cuenta de alta disponibilidad' : 'in high availability account'}</p></div>
                            </div>
                            <div className="space-y-2 text-sm text-gray-600">
                                <p>‚úÖ {idioma === 'val' ? "Et protegeix d'imprevistos: atur, malaltia, reparacions" : idioma === 'es' ? "Te protege de imprevistos: paro, enfermedad, reparaciones" : "Protects from emergencies: unemployment, illness, repairs"}</p>
                                <p>‚úÖ {idioma === 'val' ? "Et permet invertir sense necessitar eixos diners" : idioma === 'es' ? "Te permite invertir sin necesitar ese dinero" : "Lets you invest without needing that money"}</p>
                                <p>‚úÖ {idioma === 'val' ? "Redueix l'estr√®s financer dr√†sticament" : idioma === 'es' ? "Reduce el estr√©s financiero dr√°sticamente" : "Dramatically reduces financial stress"}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üìã {idioma === 'val' ? "Ordre de prioritats financeres" : idioma === 'es' ? "Orden de prioridades financieras" : "Financial priorities order"}</h3>
                        <div className="space-y-3">
                            <div className="flex items-center gap-4 p-4 bg-red-50 rounded-xl border border-red-200">
                                <div className="w-12 h-12 rounded-full bg-red-500 text-white flex items-center justify-center font-bold text-xl flex-shrink-0">1</div>
                                <div className="flex-1">
                                    <p className="text-gray-800 font-bold">{idioma === 'val' ? "Eliminar deute dolent" : idioma === 'es' ? "Eliminar deuda mala" : "Eliminate bad debt"}</p>
                                    <p className="text-sm text-gray-500">{idioma === 'val' ? "Prioritza deutes amb TAE > 6-7% (targetes de cr√®dit, cr√®dits al consum). Cada euro que pagues d'inter√®s √©s un euro que no pots invertir." : idioma === 'es' ? "Prioriza deudas con TAE > 6-7% (tarjetas de cr√©dito, cr√©ditos al consumo). Cada euro que pagas de inter√©s es un euro que no puedes invertir." : "Prioritize debts with APR > 6-7% (credit cards, consumer loans). Every euro paid in interest is a euro you can't invest."}</p>
                                </div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-amber-50 rounded-xl border border-amber-200">
                                <div className="w-12 h-12 rounded-full bg-amber-500 text-white flex items-center justify-center font-bold text-xl flex-shrink-0">2</div>
                                <div className="flex-1">
                                    <p className="text-gray-800 font-bold">{idioma === 'val' ? "Construir fons d'emerg√®ncia" : idioma === 'es' ? "Construir fondo de emergencia" : "Build emergency fund"}</p>
                                    <p className="text-sm text-gray-500">{idioma === 'val' ? "6-12 mesos de despeses en compte remunerat accessible (MyInvestor, Trade Republic). Sense a√ß√≤, qualsevol imprevist t'obligar√† a vendre inversions o endeutar-te." : idioma === 'es' ? "6-12 meses de gastos en cuenta remunerada accesible (MyInvestor, Trade Republic). Sin esto, cualquier imprevisto te obligar√° a vender inversiones o endeudarte." : "6-12 months expenses in accessible interest account (MyInvestor, Trade Republic). Without this, any emergency forces selling investments or borrowing."}</p>
                                </div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                                <div className="w-12 h-12 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold text-xl flex-shrink-0">3</div>
                                <div className="flex-1">
                                    <p className="text-gray-800 font-bold">{idioma === 'val' ? "Invertir l'excedent" : idioma === 'es' ? "Invertir el excedente" : "Invest the surplus"}</p>
                                    <p className="text-sm text-gray-500">{idioma === 'val' ? "Ara s√≠: tot el que sobre despr√©s de despeses i estalvi d'emerg√®ncia. Configura aportacions autom√†tiques per no haver de pensar-ho cada mes." : idioma === 'es' ? "Ahora s√≠: todo lo que sobre despu√©s de gastos y ahorro de emergencia. Configura aportaciones autom√°ticas para no tener que pensarlo cada mes." : "Now yes: everything left after expenses and emergency savings. Set up automatic contributions so you don't have to think about it monthly."}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-emerald-50 rounded-xl p-6 border border-emerald-200">
                            <h3 className="font-bold text-emerald-700 mb-4">‚úÖ {idioma === 'val' ? "Deute 'bo'" : idioma === 'es' ? "Deuda 'buena'" : "'Good' debt"}</h3>
                            <div className="space-y-2 text-sm text-emerald-600">
                                <p>‚Ä¢ <strong>{idioma === 'val' ? "Hipoteca" : idioma === 'es' ? "Hipoteca" : "Mortgage"}:</strong> {idioma === 'val' ? "1-4% TAE, compres un actiu que s'aprecia" : idioma === 'es' ? "1-4% TAE, compras un activo que se aprecia" : "1-4% APR, you buy an appreciating asset"}</p>
                                <p>‚Ä¢ <strong>{idioma === 'val' ? "Pr√©stec estudis" : idioma === 'es' ? "Pr√©stamo estudios" : "Student loan"}:</strong> {idioma === 'val' ? "Si augmenta el teu potencial de guanys" : idioma === 'es' ? "Si aumenta tu potencial de ganancias" : "If it increases your earning potential"}</p>
                            </div>
                        </div>
                        <div className="bg-red-50 rounded-xl p-6 border border-red-200">
                            <h3 className="font-bold text-red-700 mb-4">‚ùå {idioma === 'val' ? "Deute 'dolent'" : idioma === 'es' ? "Deuda 'mala'" : "'Bad' debt"}</h3>
                            <div className="space-y-2 text-sm text-red-600">
                                <p>‚Ä¢ <strong>{idioma === 'val' ? "Targetes de cr√®dit" : idioma === 'es' ? "Tarjetas de cr√©dito" : "Credit cards"}:</strong> 18-25% TAE</p>
                                <p>‚Ä¢ <strong>{idioma === 'val' ? "Pr√©stecs al consum" : idioma === 'es' ? "Pr√©stamos al consumo" : "Consumer loans"}:</strong> {idioma === 'val' ? "Per a coses que perden valor (cotxe, electr√≤nica)" : idioma === 'es' ? "Para cosas que pierden valor (coche, electr√≥nica)" : "For things that lose value (car, electronics)"}</p>
                                <p>‚Ä¢ <strong>{idioma === 'val' ? "Microcr√®dits" : idioma === 'es' ? "Microcr√©ditos" : "Payday loans"}:</strong> {idioma === 'val' ? "TAE astron√≤mic, EVITAR sempre" : idioma === 'es' ? "TAE astron√≥mico, EVITAR siempre" : "Astronomical APR, ALWAYS avoid"}</p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const Activos = () => (
                <div className="space-y-6">
                    <div>
                        <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><BarChart3 className="text-pink-500" /> {idioma === 'val' ? "Tipus d'Actius" : idioma === 'es' ? "Tipos de Activos" : "Asset Types"}</h2>
                        <p className="text-gray-500">{idioma === 'val' ? "Fes clic en cada actiu per veure informaci√≥ detallada sobre qu√® √©s, com funciona, avantatges, desavantatges i com invertir." : idioma === 'es' ? "Haz clic en cada activo para ver informaci√≥n detallada sobre qu√© es, c√≥mo funciona, ventajas, desventajas y c√≥mo invertir." : "Click on each asset to see detailed information about what it is, how it works, advantages, disadvantages and how to invest."}</p>
                    </div>
                    
                    {/* Per qu√® √©s important diversificar */}
                    <div className="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200">
                        <h3 className="font-bold text-blue-700 mb-3">üéØ {idioma === 'val' ? "Per qu√® diversificar?" : idioma === 'es' ? "¬øPor qu√© diversificar?" : "Why diversify?"}</h3>
                        <p className="text-sm text-blue-600">{idioma === 'val' ? "No poseu tots els ous en la mateixa cistella. Cada tipus d'actiu es comporta diferent en diferents condicions econ√≤miques: les accions pugen en creixement, l'or puja en crisi, els bons donen estabilitat. Una cartera diversificada redueix el risc sense sacrificar gaire rendibilitat." : idioma === 'es' ? "No pongas todos los huevos en la misma cesta. Cada tipo de activo se comporta diferente en distintas condiciones econ√≥micas: las acciones suben en crecimiento, el oro sube en crisis, los bonos dan estabilidad. Una cartera diversificada reduce el riesgo sin sacrificar mucha rentabilidad." : "Don't put all eggs in one basket. Each asset type behaves differently in different economic conditions: stocks rise in growth, gold rises in crisis, bonds provide stability. A diversified portfolio reduces risk without sacrificing much return."}</p>
                    </div>
                    
                    <div className="space-y-3">
                        {activos.map((activo) => {
                            const expanded = activoExpandido === activo.id;
                            const colorClasses = colores[activo.color];
                            return (
                                <div key={activo.id} className={`bg-white rounded-xl border transition-all duration-300 overflow-hidden ${expanded ? 'border-pink-300' : 'border-gray-200 hover:border-gray-300'}`}>
                                    <button onClick={() => setActivoExpandido(expanded ? null : activo.id)} className="w-full p-5 text-left flex items-center justify-between">
                                        <div className="flex items-center gap-4">
                                            <div className={`p-3 ${colorClasses.bg} rounded-xl border ${colorClasses.border}`}><activo.icon className={colorClasses.text} size={28} /></div>
                                            <div><p className="font-bold text-gray-800 text-lg">{activo.nombre}</p><p className="text-sm text-gray-500">{activo.queEs.substring(0, 60)}...</p></div>
                                        </div>
                                        {expanded ? <ChevronUp className="text-gray-500" size={24} /> : <ChevronDown className="text-gray-500" size={24} />}
                                    </button>
                                    {expanded && (
                                        <div className="px-5 pb-6 space-y-5 border-t border-gray-200 pt-5">
                                            <div className="grid md:grid-cols-2 gap-6">
                                                <div><h4 className="font-bold text-gray-800 mb-2 flex items-center gap-2">üí° {idioma === 'val' ? "Qu√® √©s?" : idioma === 'es' ? "¬øQu√© es?" : "What is it?"}</h4><p className="text-gray-600 text-sm leading-relaxed">{activo.queEs}</p></div>
                                                <div><h4 className="font-bold text-gray-800 mb-2 flex items-center gap-2">‚öôÔ∏è {idioma === 'val' ? "Com funciona?" : idioma === 'es' ? "¬øC√≥mo funciona?" : "How does it work?"}</h4><p className="text-gray-600 text-sm leading-relaxed">{activo.comoFunciona}</p></div>
                                            </div>
                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üìà {idioma === 'val' ? "Rendibilitat" : idioma === 'es' ? "Rentabilidad" : "Return"}</p><p className="text-sm text-gray-800 font-medium">{activo.rentabilidad}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">‚ö†Ô∏è {idioma === 'val' ? "Risc" : idioma === 'es' ? "Riesgo" : "Risk"}</p><p className="text-sm text-gray-800 font-medium">{activo.riesgo}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üë§ {idioma === 'val' ? "Ideal per a" : idioma === 'es' ? "Ideal para" : "Ideal for"}</p><p className="text-sm text-gray-800 font-medium">{activo.idealPara}</p></div>
                                                <div className="p-3 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">üõí {idioma === 'val' ? "Com invertir" : idioma === 'es' ? "C√≥mo invertir" : "How to invest"}</p><p className="text-sm text-gray-800 font-medium">{activo.comoInvertir}</p></div>
                                            </div>
                                            <div className="grid md:grid-cols-2 gap-6">
                                                <div><h4 className="font-bold text-emerald-600 mb-3">‚úì {idioma === 'val' ? "Avantatges" : idioma === 'es' ? "Ventajas" : "Advantages"}</h4><ul className="space-y-2">{activo.ventajas.map((v, i) => (<li key={i} className="flex items-start gap-2 text-sm text-gray-600"><Check size={16} className="text-emerald-500 mt-0.5 flex-shrink-0" />{v}</li>))}</ul></div>
                                                <div><h4 className="font-bold text-red-500 mb-3">‚úó {idioma === 'val' ? "Desavantatges" : idioma === 'es' ? "Desventajas" : "Disadvantages"}</h4><ul className="space-y-2">{activo.desventajas.map((d, i) => (<li key={i} className="flex items-start gap-2 text-sm text-gray-600"><X size={16} className="text-red-400 mt-0.5 flex-shrink-0" />{d}</li>))}</ul></div>
                                            </div>
                                            <div><h4 className="font-bold text-gray-800 mb-3">üìå {idioma === 'val' ? "Exemples concrets" : idioma === 'es' ? "Ejemplos concretos" : "Concrete examples"}</h4><div className="flex flex-wrap gap-2">{activo.ejemplos.map((e, i) => (<span key={i} className={`px-4 py-2 ${colorClasses.bg} rounded-full text-sm ${colorClasses.text} border ${colorClasses.border}`}>{e}</span>))}</div></div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            const Calculadora = () => (
                <div className="space-y-6">
                    <div><h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><Calculator className="text-pink-500" /> {t('calc', 'title')}</h2><p className="text-gray-500">{idioma === 'val' ? "Modifica els valors per veure com creixen els teus diners amb el temps. L'inter√®s compost √©s la vuitena meravella del m√≥n." : idioma === 'es' ? "Modifica los valores para ver c√≥mo crece tu dinero con el tiempo. El inter√©s compuesto es la octava maravilla del mundo." : "Modify the values to see how your money grows over time. Compound interest is the eighth wonder of the world."}</p></div>
                    <div className="grid lg:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200 space-y-6">
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üí∞ {t('calc', 'capitalInicial')}</span><span className="text-gray-800 font-bold text-lg">{calcCapital.toLocaleString()}‚Ç¨</span></label><input type="range" min="0" max="100000" step="1000" value={calcCapital} onChange={(e) => setCalcCapital(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>0‚Ç¨</span><span>100.000‚Ç¨</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üìÖ {t('calc', 'aportacionMensual')}</span><span className="text-gray-800 font-bold text-lg">{calcMensual}‚Ç¨/{idioma === 'en' ? 'month' : 'mes'}</span></label><input type="range" min="0" max="2000" step="50" value={calcMensual} onChange={(e) => setCalcMensual(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>0‚Ç¨</span><span>2.000‚Ç¨</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">üìà {t('calc', 'rentabilidadAnual')}</span><span className="text-gray-800 font-bold text-lg">{calcRent}%</span></label><input type="range" min="1" max="15" step="0.5" value={calcRent} onChange={(e) => setCalcRent(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>1%</span><span>15%</span></div></div>
                            <div><label className="flex justify-between text-sm mb-3"><span className="text-gray-500">‚è±Ô∏è {t('calc', 'plazo')}</span><span className="text-gray-800 font-bold text-lg">{calcAnios} {t('calc', 'anos')}</span></label><input type="range" min="1" max="40" step="1" value={calcAnios} onChange={(e) => setCalcAnios(Number(e.target.value))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /><div className="flex justify-between text-xs text-gray-400 mt-1"><span>1 {idioma === 'en' ? 'year' : 'a√±o'}</span><span>40 {t('calc', 'anos')}</span></div></div>
                            <div className="grid grid-cols-2 gap-3 pt-4 border-t border-gray-200">
                                <div className="text-center p-4 bg-gray-50 rounded-xl"><p className="text-xs text-gray-500 mb-1">{t('calc', 'aportado')}</p><p className="text-xl font-bold text-gray-600">{totalAportado.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-pink-50 rounded-xl border border-pink-200"><p className="text-xs text-gray-500 mb-1">{t('calc', 'totalFinal')}</p><p className="text-xl font-bold text-pink-500">{capitalFinal.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-purple-50 rounded-xl border border-purple-200"><p className="text-xs text-gray-500 mb-1">{t('calc', 'beneficios')}</p><p className="text-xl font-bold text-purple-600">+{gananciaTotal.toLocaleString()}‚Ç¨</p></div>
                                <div className="text-center p-4 bg-amber-50 rounded-xl border border-amber-200"><p className="text-xs text-gray-500 mb-1">{idioma === 'val' ? 'Multiplicador' : idioma === 'es' ? 'Multiplicador' : 'Multiplier'}</p><p className="text-xl font-bold text-amber-600">x{multiplicador}</p></div>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">üìä {idioma === 'val' ? 'Evoluci√≥ del capital' : idioma === 'es' ? 'Evoluci√≥n del capital' : 'Capital evolution'}</h3>
                            <div className="h-72">
                                <ResponsiveContainer>
                                    <AreaChart data={datosCalculadora}>
                                        <defs><linearGradient id="colorCapital" x1="0" y1="0" x2="0" y2="1"><stop offset="5%" stopColor="#10b981" stopOpacity={0.3}/><stop offset="95%" stopColor="#10b981" stopOpacity={0}/></linearGradient><linearGradient id="colorAportado" x1="0" y1="0" x2="0" y2="1"><stop offset="5%" stopColor="#9ca3af" stopOpacity={0.3}/><stop offset="95%" stopColor="#9ca3af" stopOpacity={0}/></linearGradient></defs>
                                        <CartesianGrid strokeDasharray="3 3" stroke="#fce7f3" />
                                        <XAxis dataKey="a√±o" stroke="#9ca3af" tick={{fill: '#6b7280'}} tickFormatter={(v) => `${v}a`} />
                                        <YAxis stroke="#9ca3af" tick={{fill: '#6b7280'}} tickFormatter={(v) => `${(v/1000).toFixed(0)}k`} />
                                        <Tooltip contentStyle={{backgroundColor: '#fff', border: '1px solid #fce7f3', borderRadius: '8px'}} labelStyle={{color: '#374151'}} formatter={(value) => [`${value.toLocaleString()}‚Ç¨`]} />
                                        <Area type="monotone" dataKey="aportado" stroke="#9ca3af" fill="url(#colorAportado)" name={t('calc', 'aportado')} />
                                        <Area type="monotone" dataKey="capital" stroke="#10b981" fill="url(#colorCapital)" name="Capital" strokeWidth={2} />
                                    </AreaChart>
                                </ResponsiveContainer>
                            </div>
                            <p className="text-sm text-gray-500 mt-4 p-4 bg-pink-50 rounded-xl border border-pink-200">üí° {idioma === 'val' ? 'Amb' : idioma === 'es' ? 'Con' : 'With'} <strong className="text-gray-800">{calcCapital.toLocaleString()}‚Ç¨</strong> {idioma === 'val' ? 'inicials i aportacions de' : idioma === 'es' ? 'iniciales y aportaciones de' : 'initial and contributions of'} <strong className="text-gray-800">{calcMensual}‚Ç¨/{idioma === 'en' ? 'month' : 'mes'}</strong> {idioma === 'val' ? 'al' : idioma === 'es' ? 'al' : 'at'} <strong className="text-gray-800">{calcRent}%</strong> {idioma === 'val' ? 'durant' : idioma === 'es' ? 'durante' : 'for'} <strong className="text-gray-800">{calcAnios} {t('calc', 'anos')}</strong>, {idioma === 'val' ? 'els teus diners es multipliquen per' : idioma === 'es' ? 'tu dinero se multiplica por' : 'your money multiplies by'} <strong className="text-pink-500">{multiplicador}x</strong>.</p>
                        </div>
                    </div>
                </div>
            );

            const Cartera = () => (
                <div className="space-y-6">
                    <div><h2 className="text-2xl font-black text-gray-800 flex items-center gap-3 mb-2"><PieChartIcon className="text-pink-500" /> Simulador de Cartera</h2><p className="text-gray-500">Ajusta la distribuci√≥n de tu cartera y ve la rentabilidad esperada. Prueba las carteras modelo.</p></div>
                    <div className="grid lg:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200 space-y-5">
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üìà Renta Variable (Acciones/ETFs)</span><span className="text-pink-500 font-bold">{cartera.rv}%</span></label><input type="range" min="0" max="100" value={cartera.rv} onChange={(e) => setCartera(p => ({...p, rv: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üîí Renta Fija (Bonos)</span><span className="text-blue-600 font-bold">{cartera.rf}%</span></label><input type="range" min="0" max="100" value={cartera.rf} onChange={(e) => setCartera(p => ({...p, rf: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">ü•á Oro</span><span className="text-amber-600 font-bold">{cartera.oro}%</span></label><input type="range" min="0" max="100" value={cartera.oro} onChange={(e) => setCartera(p => ({...p, oro: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div><label className="flex justify-between text-sm mb-2"><span className="text-gray-500">üíµ Efectivo</span><span className="text-gray-500 font-bold">{cartera.cash}%</span></label><input type="range" min="0" max="100" value={cartera.cash} onChange={(e) => setCartera(p => ({...p, cash: Number(e.target.value)}))} className="w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer" /></div>
                            <div className="pt-4 border-t border-gray-200 space-y-3">
                                <div className="flex justify-between items-center"><span className="text-gray-500">Total</span><span className={`text-xl font-bold ${totalCartera === 100 ? 'text-pink-500' : 'text-red-400'}`}>{totalCartera}% {totalCartera !== 100 && '‚ö†Ô∏è'}</span></div>
                                <div className="flex justify-between items-center"><span className="text-gray-500">Rentabilidad esperada</span><span className="text-xl font-bold text-pink-500">~{rentabilidadCartera}% anual</span></div>
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">Tu distribuci√≥n</h3>
                            <div className="h-56">
                                <ResponsiveContainer><PieChart><Pie data={[{ name: 'Renta Variable', value: cartera.rv, fill: '#10b981' },{ name: 'Renta Fija', value: cartera.rf, fill: '#3b82f6' },{ name: 'Oro', value: cartera.oro, fill: '#f59e0b' },{ name: 'Efectivo', value: cartera.cash, fill: '#9ca3af' }].filter(d => d.value > 0)} cx="50%" cy="50%" innerRadius={55} outerRadius={85} dataKey="value" stroke="none" /><Tooltip formatter={(v) => [`${v}%`]} /></PieChart></ResponsiveContainer>
                            </div>
                            <div className="flex flex-wrap justify-center gap-4 text-sm">
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-emerald-500"></span>RV {cartera.rv}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-blue-500"></span>RF {cartera.rf}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-amber-500"></span>Oro {cartera.oro}%</span>
                                <span className="flex items-center gap-2"><span className="w-3 h-3 rounded-full bg-slate-500"></span>Cash {cartera.cash}%</span>
                            </div>
                        </div>
                    </div>
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üìã Carteras modelo (haz clic para aplicar)</h3>
                        <div className="grid md:grid-cols-4 gap-4">
                            {carteras.map((c, i) => (
                                <button key={i} onClick={() => setCartera({ rv: c.rv, rf: c.rf, oro: c.oro, cash: c.cash })} className="p-4 bg-gray-50 rounded-xl hover:bg-gray-50 transition-all text-left border border-transparent hover:border-pink-200">
                                    <p className="font-bold text-gray-800 mb-2">{c.nombre}</p>
                                    <div className="flex gap-0.5 mb-3 h-3 rounded-full overflow-hidden">{c.rv > 0 && <div className="bg-emerald-500" style={{width: `${c.rv}%`}}></div>}{c.rf > 0 && <div className="bg-blue-500" style={{width: `${c.rf}%`}}></div>}{c.oro > 0 && <div className="bg-amber-500" style={{width: `${c.oro}%`}}></div>}{c.cash > 0 && <div className="bg-slate-500" style={{width: `${c.cash}%`}}></div>}</div>
                                    <p className="text-sm text-pink-500 font-medium">Rent: {c.rent}</p><p className="text-xs text-gray-400">Horizonte: {c.horizonte}</p>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Estrategias = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Target className="text-pink-500" /> {idioma === 'val' ? "Estrat√®gies d'Inversi√≥" : idioma === 'es' ? "Estrategias de Inversi√≥n" : "Investment Strategies"}</h2>
                    
                    {/* Per qu√® √©s important */}
                    <div className="bg-gradient-to-r from-emerald-50 to-cyan-50 rounded-xl p-6 border border-emerald-200">
                        <h3 className="font-bold text-emerald-700 mb-3">üí° {idioma === 'val' ? "La clau de l'√®xit" : idioma === 'es' ? "La clave del √©xito" : "The key to success"}</h3>
                        <p className="text-sm text-emerald-600">{idioma === 'val' ? "La majoria d'inversors fracassen no per triar els actius equivocats, sin√≥ per NO TENIR ESTRAT√àGIA. Compren quan tot puja (car), venen quan tot baixa (barat), i es deixen portar per les emocions. Una estrat√®gia simple per√≤ consistent bateix a la majoria de 'professionals' a llarg termini." : idioma === 'es' ? "La mayor√≠a de inversores fracasan no por elegir los activos equivocados, sino por NO TENER ESTRATEGIA. Compran cuando todo sube (caro), venden cuando todo baja (barato), y se dejan llevar por las emociones. Una estrategia simple pero consistente bate a la mayor√≠a de 'profesionales' a largo plazo." : "Most investors fail not by picking wrong assets, but by HAVING NO STRATEGY. They buy when everything rises (expensive), sell when everything falls (cheap), and let emotions drive them. A simple but consistent strategy beats most 'professionals' long-term."}</p>
                    </div>
                    
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {[
                            { nombre: 'DCA', desc: idioma === 'val' ? 'Invertir quantitat fixa cada mes sense importar el preu' : idioma === 'es' ? 'Invertir cantidad fija cada mes sin importar el precio' : 'Invest fixed amount monthly regardless of price', riesgo: idioma === 'val' ? 'Baix-Mitj√†' : idioma === 'es' ? 'Bajo-Medio' : 'Low-Medium', esfuerzo: idioma === 'val' ? 'Molt baix' : idioma === 'es' ? 'Muy bajo' : 'Very low', best: true, explicacion: idioma === 'val' ? 'Comprant regularment, compres tant car com barat i fas la mitjana. Elimina l\'estr√®s de decidir "quan entrar".' : idioma === 'es' ? 'Comprando regularmente, compras tanto caro como barato y haces el promedio. Elimina el estr√©s de decidir "cu√°ndo entrar".' : 'By buying regularly, you buy both high and low, averaging out. Eliminates stress of deciding "when to enter".' },
                            { nombre: 'Buy & Hold', desc: idioma === 'val' ? 'Comprar i mantindre durant anys sense tocar' : idioma === 'es' ? 'Comprar y mantener durante a√±os sin tocar' : 'Buy and hold for years without touching', riesgo: idioma === 'val' ? 'Mitj√†' : idioma === 'es' ? 'Medio' : 'Medium', esfuerzo: idioma === 'val' ? 'Molt baix' : idioma === 'es' ? 'Muy bajo' : 'Very low', best: true, explicacion: idioma === 'val' ? 'El temps al mercat bateix a intentar predir el mercat. Hist√≤ricament, qui ha mantingut 15+ anys MAI ha perdut diners en √≠ndexs globals.' : idioma === 'es' ? 'El tiempo en el mercado bate a intentar predecir el mercado. Hist√≥ricamente, quien ha mantenido 15+ a√±os NUNCA ha perdido dinero en √≠ndices globales.' : 'Time in market beats timing the market. Historically, anyone who held 15+ years NEVER lost money in global indices.' },
                            { nombre: idioma === 'val' ? 'Indexaci√≥' : idioma === 'es' ? 'Indexaci√≥n' : 'Indexing', desc: idioma === 'val' ? 'Replicar √≠ndexs globals amb fons/ETFs' : idioma === 'es' ? 'Replicar √≠ndices globales con fondos/ETFs' : 'Replicate global indices with funds/ETFs', riesgo: idioma === 'val' ? 'Mitj√†' : idioma === 'es' ? 'Medio' : 'Medium', esfuerzo: idioma === 'val' ? 'Molt baix' : idioma === 'es' ? 'Muy bajo' : 'Very low', best: true, explicacion: idioma === 'val' ? 'El 90% de gestors professionals NO baten l\'√≠ndex a llarg termini. Per qu√® no simplement COMPRAR l\'√≠ndex? Menys costos, menys complicaci√≥, millors resultats.' : idioma === 'es' ? 'El 90% de gestores profesionales NO baten al √≠ndice a largo plazo. ¬øPor qu√© no simplemente COMPRAR el √≠ndice? Menos costes, menos complicaci√≥n, mejores resultados.' : '90% of professional managers DON\'T beat the index long-term. Why not just BUY the index? Lower costs, less complexity, better results.' },
                            { nombre: idioma === 'val' ? 'Cartera Permanent' : idioma === 'es' ? 'Cartera Permanente' : 'Permanent Portfolio', desc: idioma === 'val' ? '25% accions, 25% bons, 25% or, 25% efectiu' : idioma === 'es' ? '25% acciones, 25% bonos, 25% oro, 25% efectivo' : '25% stocks, 25% bonds, 25% gold, 25% cash', riesgo: idioma === 'val' ? 'Baix' : idioma === 'es' ? 'Bajo' : 'Low', esfuerzo: idioma === 'val' ? 'Baix' : idioma === 'es' ? 'Bajo' : 'Low', explicacion: idioma === 'val' ? 'Creada per Harry Browne. Dissenyada per funcionar en qualsevol escenari econ√≤mic: creixement, recessi√≥, inflaci√≥ o deflaci√≥. Baixa volatilitat.' : idioma === 'es' ? 'Creada por Harry Browne. Dise√±ada para funcionar en cualquier escenario econ√≥mico: crecimiento, recesi√≥n, inflaci√≥n o deflaci√≥n. Baja volatilidad.' : 'Created by Harry Browne. Designed to work in any economic scenario: growth, recession, inflation or deflation. Low volatility.' },
                            { nombre: 'Value Investing', desc: idioma === 'val' ? 'Buscar empreses infravalorades pel mercat' : idioma === 'es' ? 'Buscar empresas infravaloradas por el mercado' : 'Find companies undervalued by market', riesgo: idioma === 'val' ? 'Mitj√†-Alt' : idioma === 'es' ? 'Medio-Alto' : 'Medium-High', esfuerzo: idioma === 'val' ? 'Alt' : idioma === 'es' ? 'Alto' : 'High', explicacion: idioma === 'val' ? 'Estil de Warren Buffett. Requereix analitzar balan√ßos, entendre negocis i tindre paci√®ncia extrema. Per a la majoria, millor deixar-ho als fons value.' : idioma === 'es' ? 'Estilo de Warren Buffett. Requiere analizar balances, entender negocios y tener paciencia extrema. Para la mayor√≠a, mejor dejarlo a los fondos value.' : 'Warren Buffett\'s style. Requires analyzing balance sheets, understanding businesses and extreme patience. For most, better left to value funds.' },
                            { nombre: idioma === 'val' ? 'Dividends' : idioma === 'es' ? 'Dividendos' : 'Dividends', desc: idioma === 'val' ? 'Invertir en empreses que paguen dividends consistents' : idioma === 'es' ? 'Invertir en empresas que pagan dividendos consistentes' : 'Invest in companies paying consistent dividends', riesgo: idioma === 'val' ? 'Mitj√†' : idioma === 'es' ? 'Medio' : 'Medium', esfuerzo: idioma === 'val' ? 'Mitj√†' : idioma === 'es' ? 'Medio' : 'Medium', explicacion: idioma === 'val' ? 'Genera ingressos passius regulars. Empreses com Coca-Cola, P&G porten 50+ anys pujant dividends. Ideal per a qui vol "viure de les inversions".' : idioma === 'es' ? 'Genera ingresos pasivos regulares. Empresas como Coca-Cola, P&G llevan 50+ a√±os subiendo dividendos. Ideal para quien quiere "vivir de las inversiones".' : 'Generates regular passive income. Companies like Coca-Cola, P&G have raised dividends for 50+ years. Ideal for living off investments.' }
                        ].map((s, i) => (
                            <div key={i} className={`p-5 bg-white rounded-xl border ${s.best ? 'border-emerald-300 ring-1 ring-emerald-500/20' : 'border-gray-200'}`}>
                                {s.best && <span className="inline-block text-xs bg-emerald-500 text-white px-2 py-1 rounded-full mb-3">‚úì {idioma === 'val' ? 'Recomanada' : idioma === 'es' ? 'Recomendada' : 'Recommended'}</span>}
                                <h4 className="font-bold text-gray-800 text-lg">{s.nombre}</h4>
                                <p className="text-sm text-gray-500 my-2">{s.desc}</p>
                                <p className="text-xs text-gray-400 mb-3">{s.explicacion}</p>
                                <div className="space-y-1 text-xs">
                                    <p><span className="text-gray-400">{idioma === 'val' ? 'Risc:' : idioma === 'es' ? 'Riesgo:' : 'Risk:'}</span> <span className="text-gray-800">{s.riesgo}</span></p>
                                    <p><span className="text-gray-400">{idioma === 'val' ? 'Esfor√ß:' : idioma === 'es' ? 'Esfuerzo:' : 'Effort:'}</span> <span className="text-gray-800">{s.esfuerzo}</span></p>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="bg-red-50 rounded-xl p-6 border border-red-200">
                        <h3 className="font-bold text-red-700 mb-4 flex items-center gap-2"><XCircle /> {idioma === 'val' ? "El que NO funciona (estad√≠sticament)" : idioma === 'es' ? "Lo que NO funciona (estad√≠sticamente)" : "What does NOT work (statistically)"}</h3>
                        <div className="grid md:grid-cols-3 gap-4">
                            {[
                                { nombre: 'Day Trading', stat: idioma === 'val' ? '>80% perden diners' : idioma === 'es' ? '>80% pierden dinero' : '>80% lose money', desc: idioma === 'val' ? 'Comissions + emocions + temps = p√®rdues' : idioma === 'es' ? 'Comisiones + emociones + tiempo = p√©rdidas' : 'Fees + emotions + time = losses' },
                                { nombre: idioma === 'val' ? 'Apalancament' : idioma === 'es' ? 'Apalancamiento' : 'Leverage', stat: idioma === 'val' ? 'Risc de ru√Øna' : idioma === 'es' ? 'Riesgo de ruina' : 'Risk of ruin', desc: idioma === 'val' ? 'Pots perdre m√©s del 100% de la teua inversi√≥' : idioma === 'es' ? 'Puedes perder m√°s del 100% de tu inversi√≥n' : 'You can lose more than 100% of your investment' },
                                { nombre: idioma === 'val' ? 'Seguir rumors/tips' : idioma === 'es' ? 'Seguir rumores/tips' : 'Following rumors/tips', stat: idioma === 'val' ? 'Compres car, vens barat' : idioma === 'es' ? 'Compras caro, vendes barato' : 'Buy high, sell low', desc: idioma === 'val' ? 'El FOMO destrueix la rendibilitat' : idioma === 'es' ? 'El FOMO destruye la rentabilidad' : 'FOMO destroys returns' }
                            ].map((item, i) => (
                                <div key={i} className="p-4 bg-white rounded-xl border border-red-100"><p className="font-bold text-gray-800">{item.nombre}</p><p className="text-red-600 font-bold text-sm">{item.stat}</p><p className="text-xs text-gray-400 mt-1">{item.desc}</p></div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const Psicologia = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Brain className="text-pink-500" /> {idioma === 'val' ? "Psicologia de l'Inversor" : idioma === 'es' ? "Psicolog√≠a del Inversor" : "Investor Psychology"}</h2>
                    <div className="bg-gradient-to-r from-pink-500/10 to-purple-500/10 rounded-xl p-6 border border-pink-500/30 text-center">
                        <p className="text-xl text-gray-600">{idioma === 'val' ? '"El mercat transfereix diners dels ' : idioma === 'es' ? '"El mercado transfiere dinero de los ' : '"The market transfers money from the '}<span className="text-pink-400 font-bold">{idioma === 'val' ? 'impacients' : idioma === 'es' ? 'impacientes' : 'impatient'}</span>{idioma === 'val' ? ' als ' : idioma === 'es' ? ' a los ' : ' to the '}<span className="text-pink-500 font-bold">{idioma === 'val' ? 'pacients' : idioma === 'es' ? 'pacientes' : 'patient'}</span>"</p>
                        <p className="text-sm text-gray-400 mt-2">‚Äî Warren Buffett</p>
                    </div>
                    
                    {/* Per qu√® √©s important */}
                    <div className="bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-6 border border-violet-200">
                        <h3 className="font-bold text-violet-700 mb-3">üß† {idioma === 'val' ? "El teu pitjor enemic ets tu" : idioma === 'es' ? "Tu peor enemigo eres t√∫" : "Your worst enemy is yourself"}</h3>
                        <p className="text-sm text-violet-600">{idioma === 'val' ? "Estudis mostren que els inversors rendeixen 2-4% MENYS que els fons en qu√® inverteixen. Com √©s possible? Perqu√® compren despr√©s de les pujades (optimisme) i venen despr√©s de les caigudes (p√†nic). El cervell hum√† NO est√† dissenyat per invertir b√©: les emocions ens traeixen." : idioma === 'es' ? "Estudios muestran que los inversores rinden 2-4% MENOS que los fondos en los que invierten. ¬øC√≥mo es posible? Porque compran despu√©s de las subidas (optimismo) y venden despu√©s de las ca√≠das (p√°nico). El cerebro humano NO est√° dise√±ado para invertir bien: las emociones nos traicionan." : "Studies show investors earn 2-4% LESS than the funds they invest in. How? They buy after rises (optimism) and sell after falls (panic). The human brain is NOT designed to invest well: emotions betray us."}</p>
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-4">
                        {sesgos.map((s, i) => (
                            <div key={i} className="bg-white rounded-xl p-5 border border-gray-200">
                                <div className="flex items-center gap-3 mb-3"><div className="p-2 bg-pink-100 rounded-lg border border-pink-200"><s.icono className="text-pink-500" size={24} /></div><h4 className="font-bold text-gray-800 text-lg">{s.nombre}</h4></div>
                                <p className="text-sm text-gray-500 mb-3">{s.descripcion}</p>
                                <div className="p-3 bg-gray-50 rounded-lg mb-3"><p className="text-xs text-gray-400">{idioma === 'val' ? 'Exemple:' : idioma === 'es' ? 'Ejemplo:' : 'Example:'}</p><p className="text-sm text-gray-600">{s.ejemplo}</p></div>
                                <div className="p-3 bg-emerald-50 rounded-lg border border-emerald-200"><p className="text-xs text-emerald-600"><strong>‚úì {idioma === 'val' ? 'Soluci√≥:' : idioma === 'es' ? 'Soluci√≥n:' : 'Solution:'}</strong> {s.solucion}</p></div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const Brokers = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><Building className="text-pink-500" /> {idioma === 'val' ? "Comparador de Brokers" : idioma === 'es' ? "Comparador de Brokers" : "Broker Comparison"}</h2>
                    <div className="flex flex-wrap gap-2">
                        {['todos', 'fondos', 'broker', 'app', 'robo'].map((f) => (
                            <button key={f} onClick={() => setBrokerFiltro(f)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${brokerFiltro === f ? 'bg-pink-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>
                                {f === 'todos' ? (idioma === 'val' ? 'Tots' : idioma === 'es' ? 'Todos' : 'All') : f === 'fondos' ? (idioma === 'val' ? 'üìä Fons' : 'üìä Fondos') : f === 'broker' ? 'üìà Broker' : f === 'app' ? 'üì± App' : 'ü§ñ Robo-advisor'}
                            </button>
                        ))}
                    </div>
                    <div className="space-y-3">
                        {filteredBrokers.map((b, i) => (
                            <div key={i} className="bg-white rounded-xl p-5 border border-gray-200 hover:border-pink-200 transition-all">
                                <div className="flex items-center gap-3 mb-3"><span className="text-2xl">{b.pais}</span><h4 className="font-bold text-gray-800 text-lg">{b.name}</h4><div className="flex gap-0.5 ml-2">{[...Array(b.rating)].map((_, j) => <Star key={j} size={14} className="text-amber-500" />)}</div></div>
                                <p className="text-sm text-gray-500 mb-3">{b.desc}</p>
                                <div className="flex flex-wrap gap-2">
                                    <span className="px-3 py-1 bg-emerald-100 rounded-full text-xs text-emerald-600 border border-emerald-200">{b.comision === 'gratis' ? (idioma === 'val' ? '‚úì Sense comissions' : idioma === 'es' ? '‚úì Sin comisiones' : '‚úì No fees') : (idioma === 'val' ? 'üí∞ Comissions baixes' : idioma === 'es' ? 'üí∞ Comisiones bajas' : 'üí∞ Low fees')}</span>
                                    <span className="px-3 py-1 bg-blue-100 rounded-full text-xs text-blue-600 border border-blue-200">{b.productos}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="bg-white rounded-xl p-5 border border-gray-200"><p className="text-sm text-gray-500"><strong className="text-gray-800">üîí {idioma === 'val' ? 'Seguretat:' : idioma === 'es' ? 'Seguridad:' : 'Security:'}</strong> {idioma === 'val' ? "Tots els brokers llistats estan regulats i les teues inversions estan protegides fins a 100.000‚Ç¨ pel FOGAIN (Espanya) o sistemes equivalents (UE)." : idioma === 'es' ? "Todos los brokers listados est√°n regulados y tus inversiones est√°n protegidas hasta 100.000‚Ç¨ por el FOGAIN (Espa√±a) o sistemas equivalentes (UE)." : "All listed brokers are regulated and your investments are protected up to ‚Ç¨100,000 by FOGAIN (Spain) or equivalent EU systems."}</p></div>
                </div>
            );

            const Quiz = () => {
                if (!quizIniciado) {
                    return (
                        <div className="text-center py-16 space-y-6">
                            <GraduationCap className="mx-auto text-purple-600" size={80} />
                            <h2 className="text-3xl font-black text-gray-800">Quiz de Conocimientos</h2>
                            <p className="text-gray-500 max-w-md mx-auto">10 preguntas para poner a prueba lo que has aprendido sobre finanzas e inversi√≥n.</p>
                            <button onClick={() => { setQuizIniciado(true); setQuizPregunta(0); setQuizRespuestas({}); setQuizTerminado(false); }} className="px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl font-bold text-gray-800 text-lg hover:scale-105 transition-all shadow-lg shadow-purple-500/25">Empezar Quiz</button>
                        </div>
                    );
                }
                if (quizTerminado) {
                    return (
                        <div className="text-center py-8 space-y-6">
                            <div className="inline-flex items-center justify-center w-28 h-28 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-gray-800 text-4xl font-black shadow-lg">{quizPuntuacion}/10</div>
                            <h2 className="text-2xl font-black text-gray-800">{quizPuntuacion >= 8 ? '¬°Excelente! üèÜ' : quizPuntuacion >= 5 ? '¬°Bien hecho! üëç' : 'Sigue aprendiendo üìö'}</h2>
                            <p className="text-gray-500">{quizPuntuacion >= 8 ? 'Dominas los conceptos b√°sicos de inversi√≥n.' : quizPuntuacion >= 5 ? 'Tienes buena base, pero hay margen de mejora.' : 'Te recomiendo repasar las secciones de la gu√≠a.'}</p>
                            <div className="max-w-2xl mx-auto space-y-3 text-left">
                                {quizPreguntas.map((q, i) => (
                                    <div key={i} className={`p-4 rounded-xl ${quizRespuestas[i] === q.correcta ? 'bg-pink-50 border border-pink-200' : 'bg-red-50 border border-red-200'}`}>
                                        <p className="text-sm text-gray-800 mb-1">{q.pregunta}</p><p className="text-xs text-pink-500">‚úì {q.opciones[q.correcta]}</p>
                                    </div>
                                ))}
                            </div>
                            <button onClick={() => setQuizIniciado(false)} className="px-6 py-3 bg-pink-50 rounded-xl text-gray-800 hover:bg-pink-100 transition-all">Repetir Quiz</button>
                        </div>
                    );
                }
                const q = quizPreguntas[quizPregunta];
                return (
                    <div className="max-w-2xl mx-auto space-y-6">
                        <div className="flex items-center justify-between">
                            <span className="text-gray-500">Pregunta {quizPregunta + 1} de 10</span>
                            <div className="flex gap-1">{[...Array(10)].map((_, i) => (<div key={i} className={`w-3 h-3 rounded-full ${i < quizPregunta ? (quizRespuestas[i] === quizPreguntas[i].correcta ? 'bg-emerald-500' : 'bg-red-500') : i === quizPregunta ? 'bg-purple-500' : 'bg-gray-100'}`} />))}</div>
                        </div>
                        <div className="bg-white rounded-xl p-8 border border-gray-200">
                            <p className="text-xl font-bold text-gray-800 mb-8">{q.pregunta}</p>
                            <div className="space-y-3">
                                {q.opciones.map((opt, i) => {
                                    const respondido = quizRespuestas[quizPregunta] !== undefined;
                                    const esSeleccionada = quizRespuestas[quizPregunta] === i;
                                    const esCorrecta = i === q.correcta;
                                    let clases = "w-full p-4 rounded-xl text-left transition-all font-medium ";
                                    if (respondido) {
                                        if (esSeleccionada) { clases += esCorrecta ? "bg-emerald-500 text-white" : "bg-red-500 text-white"; }
                                        else if (esCorrecta) { clases += "bg-pink-100 border-2 border-emerald-500 text-emerald-600"; }
                                        else { clases += "bg-gray-50 text-gray-400"; }
                                    } else { clases += "bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-800"; }
                                    return (
                                        <button key={i} onClick={() => { if (!respondido) { setQuizRespuestas(p => ({...p, [quizPregunta]: i})); setTimeout(() => { if (quizPregunta < 9) { setQuizPregunta(quizPregunta + 1); } else { setQuizTerminado(true); } }, 1000); }}} disabled={respondido} className={clases}>{opt}</button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            };

            const Test = () => {
                if (testResultados) {
                    const rec = obtenerRecomendacion();
                    return (
                        <div className="space-y-6">
                            <Disclaimer compact={true} />
                            <div className="text-center"><Award className="mx-auto text-pink-500 mb-4" size={64} /><h2 className="text-3xl font-black text-gray-800">{idioma === 'val' ? 'El teu Perfil:' : idioma === 'es' ? 'Tu Perfil:' : 'Your Profile:'} <span className="text-pink-500">{rec.perfil}</span></h2></div>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="bg-pink-50 rounded-xl p-6 border border-pink-200">
                                    <h3 className="font-bold text-pink-500 text-lg mb-4">üìä {idioma === 'val' ? 'Cartera recomanada' : idioma === 'es' ? 'Cartera recomendada' : 'Recommended portfolio'}</h3>
                                    <div className="flex gap-1 mb-4 h-5 rounded-full overflow-hidden"><div className="bg-emerald-500" style={{width: `${rec.carteraRec.rv}%`}}></div><div className="bg-blue-500" style={{width: `${rec.carteraRec.rf}%`}}></div><div className="bg-amber-500" style={{width: `${rec.carteraRec.oro}%`}}></div><div className="bg-slate-500" style={{width: `${rec.carteraRec.cash}%`}}></div></div>
                                    <p className="text-gray-600">RV {rec.carteraRec.rv}% | RF {rec.carteraRec.rf}% | {idioma === 'val' ? 'Or' : idioma === 'es' ? 'Oro' : 'Gold'} {rec.carteraRec.oro}% | Cash {rec.carteraRec.cash}%</p><p className="text-emerald-600 font-medium mt-2">{idioma === 'val' ? 'Rendibilitat esperada:' : idioma === 'es' ? 'Rentabilidad esperada:' : 'Expected return:'} {rec.carteraRec.rent}</p>
                                </div>
                                <div className="bg-purple-50 rounded-xl p-6 border border-purple-200">
                                    <h3 className="font-bold text-purple-600 text-lg mb-4">üè¶ Brokers {idioma === 'val' ? 'recomanats' : idioma === 'es' ? 'recomendados' : 'recommended'}</h3>
                                    <div className="flex flex-wrap gap-2">{rec.brokersRec.map((b, i) => (<span key={i} className="px-4 py-2 bg-purple-50 rounded-full text-purple-600 border border-purple-200">{b}</span>))}</div>
                                </div>
                            </div>
                            <div className="bg-white rounded-xl p-6 border border-gray-200">
                                <h3 className="font-bold text-gray-800 mb-4">üìã {idioma === 'val' ? 'Pr√≤xims passos' : idioma === 'es' ? 'Pr√≥ximos pasos' : 'Next steps'}</h3>
                                <ol className="space-y-3">
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">1</span><span className="text-gray-600">{idioma === 'val' ? 'Obri compte en' : idioma === 'es' ? 'Abre cuenta en' : 'Open account at'} {rec.brokersRec[0]}</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">2</span><span className="text-gray-600">{idioma === 'val' ? 'Configura una aportaci√≥ mensual autom√†tica (DCA)' : idioma === 'es' ? 'Configura una aportaci√≥n mensual autom√°tica (DCA)' : 'Set up automatic monthly contribution (DCA)'}</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">3</span><span className="text-gray-600">Invierte en fondos/ETFs globales siguiendo tu distribuci√≥n</span></li>
                                    <li className="flex items-start gap-3"><span className="w-6 h-6 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold flex-shrink-0">4</span><span className="text-gray-600">Olv√≠date y deja que el tiempo haga su magia</span></li>
                                </ol>
                            </div>
                            <div className="flex justify-center gap-4">
                                <button onClick={() => { setTestRespuestas({}); setTestFase(0); setTestResultados(false); }} className="px-6 py-3 bg-pink-50 rounded-xl text-gray-800 hover:bg-pink-100 flex items-center gap-2"><RefreshCw size={18} /> Repetir test</button>
                                <button onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent(`üìä Mi perfil inversor: ${rec.perfil}\n\n‚úÖ Haz el test en la Gu√≠a de Finanzas e Inversi√≥n`)}`, '_blank')} className="px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 rounded-xl text-gray-800 flex items-center gap-2"><Share2 size={18} /> Compartir</button>
                            </div>
                        </div>
                    );
                }
                const fases = [{ nombre: 'Requisitos previos', preguntas: testPreguntas.fase1 },{ nombre: 'Tu perfil de riesgo', preguntas: testPreguntas.fase2 },{ nombre: 'Compromiso', preguntas: testPreguntas.fase3 }];
                const faseActual = fases[testFase];
                const todasRespondidas = faseActual.preguntas.every(q => testRespuestas[q.id] !== undefined);
                return (
                    <div className="max-w-2xl mx-auto space-y-6">
                        <h2 className="text-2xl font-black text-gray-800 text-center">üéØ Test de Perfil Inversor</h2>
                        <div className="flex justify-center gap-3">{fases.map((_, i) => (<div key={i} className={`w-10 h-10 rounded-full flex items-center justify-center font-bold ${i < testFase ? 'bg-emerald-500 text-white' : i === testFase ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white' : 'bg-gray-100 text-gray-500'}`}>{i < testFase ? <Check size={20} /> : i + 1}</div>))}</div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-2">Fase {testFase + 1}: {faseActual.nombre}</h3>
                            {testFase === 0 && (<div className="p-4 bg-amber-50 rounded-xl border border-amber-200 mb-6"><p className="text-sm text-amber-600">‚ö†Ô∏è Si respondes "No" a alguna pregunta, trabaja en ello antes de empezar a invertir.</p></div>)}
                            <div className="space-y-4">
                                {faseActual.preguntas.map((q) => {
                                    const respondida = testRespuestas[q.id] !== undefined;
                                    const esPositiva = testRespuestas[q.id] === true || typeof testRespuestas[q.id] === 'string';
                                    return (
                                        <div key={q.id} className={`p-4 rounded-xl border transition-all ${respondida ? (esPositiva ? 'bg-pink-50 border-pink-200' : 'bg-red-50 border-red-200') : 'bg-gray-50 border-gray-200'}`}>
                                            <p className="text-gray-800 mb-4">{q.texto}</p>
                                            {q.opciones ? (
                                                <div className="space-y-2">{q.opciones.map((opt, j) => (<button key={j} onClick={() => setTestRespuestas(p => ({...p, [q.id]: opt}))} className={`w-full p-3 rounded-lg text-left text-sm transition-all ${testRespuestas[q.id] === opt ? 'bg-pink-100 border border-pink-300 text-emerald-600' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>{opt}</button>))}</div>
                                            ) : (
                                                <div className="flex gap-3">
                                                    <button onClick={() => setTestRespuestas(p => ({...p, [q.id]: true}))} className={`flex-1 py-3 rounded-lg font-medium transition-all ${testRespuestas[q.id] === true ? 'bg-emerald-500 text-white' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>S√≠</button>
                                                    <button onClick={() => setTestRespuestas(p => ({...p, [q.id]: false}))} className={`flex-1 py-3 rounded-lg font-medium transition-all ${testRespuestas[q.id] === false ? 'bg-red-500 text-white' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>No</button>
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                            {testFase === 0 && !puedePasarFase1() && todasRespondidas && (<div className="mt-6 p-4 bg-red-50 rounded-xl border border-red-200"><p className="text-red-400 font-bold">‚ùå A√∫n no est√°s preparado para invertir</p><p className="text-sm text-gray-500 mt-1">Trabaja primero en los requisitos marcados en rojo.</p></div>)}
                            <div className="flex justify-between mt-6 pt-4 border-t border-gray-200">
                                <button onClick={() => testFase > 0 && setTestFase(testFase - 1)} disabled={testFase === 0} className={`px-5 py-2 rounded-xl ${testFase === 0 ? 'opacity-50 cursor-not-allowed' : 'bg-pink-50 text-gray-800 hover:bg-pink-100'}`}>‚Üê Anterior</button>
                                <button onClick={() => { if (testFase < 2) setTestFase(testFase + 1); else setTestResultados(true); }} disabled={!todasRespondidas || (testFase === 0 && !puedePasarFase1())} className={`px-5 py-2 rounded-xl flex items-center gap-2 ${todasRespondidas && (testFase !== 0 || puedePasarFase1()) ? 'bg-gradient-to-r from-pink-500 to-rose-500 text-white' : 'bg-gray-100 text-gray-500 cursor-not-allowed'}`}>{testFase === 2 ? 'Ver resultados' : 'Siguiente'} <ChevronRight size={18} /></button>
                            </div>
                        </div>
                    </div>
                );
            };

            // ========================================================================
            // BITCOIN SECTION
            // ========================================================================
            const Bitcoin = () => {
                const [btcTab, setBtcTab] = useState('intro');
                
                return (
                    <div className="space-y-6">
                        <div className="flex items-center justify-between flex-wrap gap-4">
                            <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3"><span className="text-3xl">‚Çø</span> Bitcoin</h2>
                            <div className="flex gap-1 flex-wrap">
                                {[
                                    { id: 'intro', label: idioma === 'val' ? 'üìñ Qu√® √©s?' : idioma === 'es' ? 'üìñ ¬øQu√© es?' : 'üìñ What is it?' },
                                    { id: 'satoshi', label: 'üë§ Satoshi' },
                                    { id: 'com', label: idioma === 'val' ? '‚öôÔ∏è Com funciona' : idioma === 'es' ? '‚öôÔ∏è C√≥mo funciona' : '‚öôÔ∏è How it works' },
                                    { id: 'maximalisme', label: idioma === 'val' ? 'üî∂ Maximalisme' : idioma === 'es' ? 'üî∂ Maximalismo' : 'üî∂ Maximalism' },
                                    { id: 'riscos', label: idioma === 'val' ? '‚ö†Ô∏è Riscos' : idioma === 'es' ? '‚ö†Ô∏è Riesgos' : '‚ö†Ô∏è Risks' },
                                ].map(tab => (
                                    <button key={tab.id} onClick={() => setBtcTab(tab.id)} className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${btcTab === tab.id ? 'bg-amber-500 text-white' : 'bg-amber-50 text-amber-700 hover:bg-amber-100'}`}>{tab.label}</button>
                                ))}
                            </div>
                        </div>
                        
                        {btcTab === 'intro' && (
                            <div className="space-y-6">
                                <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-200">
                                    <h3 className="text-xl font-bold text-gray-800 mb-4">üí° {idioma === 'val' ? "L'analogia de la llibreta del banc" : idioma === 'es' ? "La analog√≠a de la libreta del banco" : "The bank ledger analogy"}</h3>
                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div className="p-4 bg-white/70 rounded-xl">
                                            <p className="font-bold text-blue-700 mb-2">üè¶ {idioma === 'val' ? "Sistema tradicional (banc)" : idioma === 'es' ? "Sistema tradicional (banco)" : "Traditional system (bank)"}</p>
                                            <p className="text-sm text-gray-600 mb-3">{idioma === 'val' ? "Quan tens 1.000‚Ç¨ al banc, no hi ha un sobre amb bitllets amb el teu nom. El banc simplement t√© una LLIBRETA (base de dades) que diu: 'Maria: 1.000‚Ç¨'. Quan pagues 50‚Ç¨ a Joan, el banc edita:" : idioma === 'es' ? "Cuando tienes 1.000‚Ç¨ en el banco, no hay un sobre con billetes con tu nombre. El banco simplemente tiene una LIBRETA (base de datos) que dice: 'Mar√≠a: 1.000‚Ç¨'. Cuando pagas 50‚Ç¨ a Juan, el banco edita:" : "When you have ‚Ç¨1,000 in the bank, there's no envelope with bills with your name. The bank just has a LEDGER (database) saying: 'Maria: ‚Ç¨1,000'. When you pay ‚Ç¨50 to John, the bank edits:"}</p>
                                            <div className="bg-blue-50 p-3 rounded-lg text-sm font-mono">
                                                <p className="text-blue-700">Maria: 1.000‚Ç¨ ‚Üí 950‚Ç¨</p>
                                                <p className="text-blue-700">Joan: 500‚Ç¨ ‚Üí 550‚Ç¨</p>
                                            </div>
                                            <p className="text-xs text-red-600 mt-2">‚ö†Ô∏è {idioma === 'val' ? "Problema: HAS DE CONFIAR en el banc (que no et robi, que no falli, que el govern no congeli els teus diners...)" : idioma === 'es' ? "Problema: DEBES CONFIAR en el banco (que no te robe, que no falle, que el gobierno no congele tu dinero...)" : "Problem: YOU MUST TRUST the bank (not to steal, not to fail, government not to freeze your money...)"}</p>
                                        </div>
                                        <div className="p-4 bg-white/70 rounded-xl">
                                            <p className="font-bold text-amber-700 mb-2">‚Çø Bitcoin</p>
                                            <p className="text-sm text-gray-600 mb-3">{idioma === 'val' ? "Bitcoin √©s exactament el mateix concepte: una LLIBRETA que diu qui t√© quant. Per√≤ amb una difer√®ncia revolucion√†ria:" : idioma === 'es' ? "Bitcoin es exactamente el mismo concepto: una LIBRETA que dice qui√©n tiene cu√°nto. Pero con una diferencia revolucionaria:" : "Bitcoin is exactly the same concept: a LEDGER saying who has what. But with a revolutionary difference:"}</p>
                                            <div className="bg-amber-50 p-3 rounded-lg text-sm">
                                                <p className="text-amber-700 font-bold">{idioma === 'val' ? "La llibreta NO la controla ning√∫" : idioma === 'es' ? "La libreta NO la controla nadie" : "The ledger is NOT controlled by anyone"}</p>
                                                <p className="text-amber-600 text-xs mt-1">{idioma === 'val' ? "La tenen milers d'ordinadors al m√≥n simult√†niament. Tots han de concordar. Ning√∫ pot editar-la sol." : idioma === 'es' ? "La tienen miles de ordenadores en el mundo simult√°neamente. Todos deben concordar. Nadie puede editarla solo." : "Thousands of computers worldwide have it simultaneously. All must agree. No one can edit it alone."}</p>
                                            </div>
                                            <p className="text-xs text-emerald-600 mt-2">‚úÖ {idioma === 'val' ? "No necessites confiar en cap entitat. El sistema √©s matem√†tic i transparent." : idioma === 'es' ? "No necesitas confiar en ninguna entidad. El sistema es matem√°tico y transparente." : "You don't need to trust any entity. The system is mathematical and transparent."}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">üéØ {idioma === 'val' ? "Definici√≥ t√®cnica simple" : idioma === 'es' ? "Definici√≥n t√©cnica simple" : "Simple technical definition"}</h3>
                                    <div className="p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl mb-4">
                                        <p className="text-gray-700"><strong>Bitcoin</strong> {idioma === 'val' ? "√©s una base de dades distribu√Øda (blockchain) que registra qui posseeix quantes unitats d'una moneda digital escassa (m√†xim 21 milions de BTC), sense necessitat de cap autoritat central que la gestioni." : idioma === 'es' ? "es una base de datos distribuida (blockchain) que registra qui√©n posee cu√°ntas unidades de una moneda digital escasa (m√°ximo 21 millones de BTC), sin necesidad de ninguna autoridad central que la gestione." : "is a distributed database (blockchain) that records who owns how many units of a scarce digital currency (max 21 million BTC), without needing any central authority to manage it."}</p>
                                    </div>
                                    <div className="grid md:grid-cols-3 gap-4">
                                        <div className="p-4 bg-blue-50 rounded-xl">
                                            <p className="font-bold text-blue-700">üî¢ {idioma === 'val' ? "Escassetat" : idioma === 'es' ? "Escasez" : "Scarcity"}</p>
                                            <p className="text-sm text-blue-600">{idioma === 'val' ? "Nom√©s existiran 21 milions de BTC. Mai m√©s. Aix√≤ est√† escrit en el codi i √©s immutable." : idioma === 'es' ? "Solo existir√°n 21 millones de BTC. Nunca m√°s. Esto est√° escrito en el c√≥digo y es inmutable." : "Only 21 million BTC will ever exist. Never more. This is written in the code and is immutable."}</p>
                                        </div>
                                        <div className="p-4 bg-emerald-50 rounded-xl">
                                            <p className="font-bold text-emerald-700">üåê {idioma === 'val' ? "Descentralitzaci√≥" : idioma === 'es' ? "Descentralizaci√≥n" : "Decentralization"}</p>
                                            <p className="text-sm text-emerald-600">{idioma === 'val' ? "Milers de nodes (ordinadors) al m√≥n mantenen una c√≤pia id√®ntica. Ning√∫ pot censurar o modificar transaccions." : idioma === 'es' ? "Miles de nodos (ordenadores) en el mundo mantienen una copia id√©ntica. Nadie puede censurar o modificar transacciones." : "Thousands of nodes (computers) worldwide maintain an identical copy. No one can censor or modify transactions."}</p>
                                        </div>
                                        <div className="p-4 bg-violet-50 rounded-xl">
                                            <p className="font-bold text-violet-700">üîê {idioma === 'val' ? "Seguretat" : idioma === 'es' ? "Seguridad" : "Security"}</p>
                                            <p className="text-sm text-violet-600">{idioma === 'val' ? "Criptografia militar. En 15 anys, mai s'ha hackejat el protocol Bitcoin (s√≠ exchanges, per√≤ no Bitcoin en si)." : idioma === 'es' ? "Criptograf√≠a militar. En 15 a√±os, nunca se ha hackeado el protocolo Bitcoin (s√≠ exchanges, pero no Bitcoin en s√≠)." : "Military-grade cryptography. In 15 years, the Bitcoin protocol has never been hacked (exchanges yes, but not Bitcoin itself)."}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">üìä {idioma === 'val' ? "Per qu√® importa?" : idioma === 'es' ? "¬øPor qu√© importa?" : "Why does it matter?"}</h3>
                                    <div className="space-y-3">
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">üí∏ {idioma === 'val' ? "El problema del diner tradicional" : idioma === 'es' ? "El problema del dinero tradicional" : "The problem with traditional money"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "Els governs poden imprimir diners il¬∑limitadament. Des de 1971 (fi del patr√≥ or), l'euro/d√≤lar han perdut +85% del seu poder adquisitiu. 100‚Ç¨ del 2000 compren avui el que 60‚Ç¨ compraven llavors." : idioma === 'es' ? "Los gobiernos pueden imprimir dinero ilimitadamente. Desde 1971 (fin del patr√≥n oro), el euro/d√≥lar han perdido +85% de su poder adquisitivo. 100‚Ç¨ del 2000 compran hoy lo que 60‚Ç¨ compraban entonces." : "Governments can print unlimited money. Since 1971 (end of gold standard), euro/dollar have lost +85% of their purchasing power. ‚Ç¨100 from 2000 buys today what ‚Ç¨60 bought then."}</p>
                                        </div>
                                        <div className="p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                                            <p className="font-bold text-emerald-700 mb-2">‚úÖ {idioma === 'val' ? "La proposta de Bitcoin" : idioma === 'es' ? "La propuesta de Bitcoin" : "Bitcoin's proposal"}</p>
                                            <p className="text-sm text-emerald-600">{idioma === 'val' ? "Un diner que NING√ö pot devaluar imprimint m√©s. Oferta fixa, transparent i verificable per qualsevol. 'Ser el teu propi banc' sense dependre de tercers." : idioma === 'es' ? "Un dinero que NADIE puede devaluar imprimiendo m√°s. Oferta fija, transparente y verificable por cualquiera. 'Ser tu propio banco' sin depender de terceros." : "Money that NOBODY can devalue by printing more. Fixed, transparent supply verifiable by anyone. 'Be your own bank' without depending on third parties."}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {btcTab === 'satoshi' && (
                            <div className="space-y-6">
                                <div className="bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-6 text-white">
                                    <h3 className="text-xl font-bold mb-4">üë§ Satoshi Nakamoto</h3>
                                    <p className="text-gray-300 mb-4">{idioma === 'val' ? "Pseud√≤nim del creador (o creadors) de Bitcoin. La seva identitat real √©s desconeguda. Va publicar el white paper el 31 d'octubre de 2008 i va desapar√®ixer el 2011, deixant ~1 mili√≥ de BTC intocats (mai s'han mogut)." : idioma === 'es' ? "Pseud√≥nimo del creador (o creadores) de Bitcoin. Su identidad real es desconocida. Public√≥ el white paper el 31 de octubre de 2008 y desapareci√≥ en 2011, dejando ~1 mill√≥n de BTC intocados (nunca se han movido)." : "Pseudonym of Bitcoin's creator(s). Real identity unknown. Published the white paper on October 31, 2008 and disappeared in 2011, leaving ~1 million BTC untouched (never moved)."}</p>
                                    <div className="p-4 bg-white/10 rounded-xl">
                                        <p className="font-mono text-sm italic">"Bitcoin: A Peer-to-Peer Electronic Cash System"</p>
                                        <p className="text-xs text-gray-400 mt-1">‚Äî White paper, 31 octubre 2008</p>
                                    </div>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">üìú {idioma === 'val' ? "Context hist√≤ric: Per qu√® va n√†ixer Bitcoin?" : idioma === 'es' ? "Contexto hist√≥rico: ¬øPor qu√© naci√≥ Bitcoin?" : "Historical context: Why was Bitcoin born?"}</h3>
                                    <div className="space-y-4">
                                        <div className="flex gap-4 items-start">
                                            <div className="w-20 h-20 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                                <span className="text-3xl">üè¶</span>
                                            </div>
                                            <div>
                                                <p className="font-bold text-gray-800">2008: {idioma === 'val' ? "Crisi Financera Global" : idioma === 'es' ? "Crisis Financiera Global" : "Global Financial Crisis"}</p>
                                                <p className="text-sm text-gray-600">{idioma === 'val' ? "Lehman Brothers cau. Els bancs havien estat jugant amb els diners de tothom. Els governs els rescaten amb diners p√∫blics (rescats bancaris). La gent perd cases, estalvis i feines mentre els banquers cobren bonus." : idioma === 'es' ? "Lehman Brothers cae. Los bancos hab√≠an estado jugando con el dinero de todos. Los gobiernos los rescatan con dinero p√∫blico. La gente pierde casas, ahorros y trabajos mientras los banqueros cobran bonus." : "Lehman Brothers falls. Banks had been gambling with everyone's money. Governments bail them out with public money. People lose homes, savings and jobs while bankers collect bonuses."}</p>
                                            </div>
                                        </div>
                                        <div className="flex gap-4 items-start">
                                            <div className="w-20 h-20 bg-amber-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                                <span className="text-3xl">üìÑ</span>
                                            </div>
                                            <div>
                                                <p className="font-bold text-gray-800">31 Oct 2008: White Paper de Bitcoin</p>
                                                <p className="text-sm text-gray-600">{idioma === 'val' ? "Satoshi publica un document de 9 p√†gines descrivint un sistema de diner electr√≤nic que no necessita bancs ni governs. El primer bloc (Genesis Block) cont√© el missatge: 'The Times 03/Jan/2009 Chancellor on brink of second bailout for banks'." : idioma === 'es' ? "Satoshi publica un documento de 9 p√°ginas describiendo un sistema de dinero electr√≥nico que no necesita bancos ni gobiernos. El primer bloque (Genesis Block) contiene el mensaje: 'The Times 03/Jan/2009 Chancellor on brink of second bailout for banks'." : "Satoshi publishes a 9-page document describing an electronic money system that doesn't need banks or governments. The first block (Genesis Block) contains the message: 'The Times 03/Jan/2009 Chancellor on brink of second bailout for banks'."}</p>
                                            </div>
                                        </div>
                                        <div className="flex gap-4 items-start">
                                            <div className="w-20 h-20 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                                <span className="text-3xl">üöÄ</span>
                                            </div>
                                            <div>
                                                <p className="font-bold text-gray-800">3 Gen 2009: {idioma === 'val' ? "Neix la xarxa Bitcoin" : idioma === 'es' ? "Nace la red Bitcoin" : "Bitcoin network is born"}</p>
                                                <p className="text-sm text-gray-600">{idioma === 'val' ? "Es mina el primer bloc (bloc #0 o Genesis Block). El primer bitcoin es transfereix el 12 de gener de 2009. El 22 de maig de 2010, es fa la primera compra real: 2 pizzes per 10.000 BTC (~700 milions $ avui)." : idioma === 'es' ? "Se mina el primer bloque (bloque #0 o Genesis Block). El primer bitcoin se transfiere el 12 de enero de 2009. El 22 de mayo de 2010, se hace la primera compra real: 2 pizzas por 10.000 BTC (~700 millones $ hoy)." : "The first block is mined (block #0 or Genesis Block). First bitcoin transferred January 12, 2009. On May 22, 2010, first real purchase: 2 pizzas for 10,000 BTC (~$700 million today)."}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {btcTab === 'com' && (
                            <div className="space-y-6">
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">‚öôÔ∏è {idioma === 'val' ? "Com funciona Bitcoin (versi√≥ simple)" : idioma === 'es' ? "C√≥mo funciona Bitcoin (versi√≥n simple)" : "How Bitcoin works (simple version)"}</h3>
                                    <div className="space-y-4">
                                        <div className="grid md:grid-cols-3 gap-4">
                                            <div className="p-4 bg-blue-50 rounded-xl">
                                                <p className="font-bold text-blue-700 mb-2">1. üîë {idioma === 'val' ? "Claus p√∫bliques i privades" : idioma === 'es' ? "Claves p√∫blicas y privadas" : "Public and private keys"}</p>
                                                <p className="text-sm text-blue-600">{idioma === 'val' ? "Tens una 'adre√ßa' p√∫blica (com un IBAN) on rebre BTC, i una clau privada secreta (com un PIN) per gastar-los. Qui t√© la clau privada, controla els bitcoins." : idioma === 'es' ? "Tienes una 'direcci√≥n' p√∫blica (como un IBAN) donde recibir BTC, y una clave privada secreta (como un PIN) para gastarlos. Quien tiene la clave privada, controla los bitcoins." : "You have a public 'address' (like an IBAN) to receive BTC, and a secret private key (like a PIN) to spend them. Whoever has the private key controls the bitcoins."}</p>
                                            </div>
                                            <div className="p-4 bg-emerald-50 rounded-xl">
                                                <p className="font-bold text-emerald-700 mb-2">2. üì¶ Blockchain</p>
                                                <p className="text-sm text-emerald-600">{idioma === 'val' ? "Un llibre comptable p√∫blic on s'apunten TOTES les transaccions des de 2009. √âs immutable: una vegada apuntada, una transacci√≥ no es pot esborrar ni modificar." : idioma === 'es' ? "Un libro contable p√∫blico donde se apuntan TODAS las transacciones desde 2009. Es inmutable: una vez apuntada, una transacci√≥n no se puede borrar ni modificar." : "A public ledger where ALL transactions since 2009 are recorded. It's immutable: once recorded, a transaction cannot be deleted or modified."}</p>
                                            </div>
                                            <div className="p-4 bg-amber-50 rounded-xl">
                                                <p className="font-bold text-amber-700 mb-2">3. ‚õèÔ∏è {idioma === 'val' ? "Mineria" : idioma === 'es' ? "Miner√≠a" : "Mining"}</p>
                                                <p className="text-sm text-amber-600">{idioma === 'val' ? "Ordinadors competeixen per validar transaccions resolent problemes matem√†tics (Proof of Work). El guanyador afegeix un bloc i rep BTC nous com a recompensa." : idioma === 'es' ? "Ordenadores compiten por validar transacciones resolviendo problemas matem√°ticos (Proof of Work). El ganador a√±ade un bloque y recibe BTC nuevos como recompensa." : "Computers compete to validate transactions by solving math problems (Proof of Work). The winner adds a block and receives new BTC as reward."}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 border border-amber-200">
                                    <h3 className="font-bold text-gray-800 mb-4">üìâ {idioma === 'val' ? "El Halving: Per qu√® Bitcoin √©s esc√†s" : idioma === 'es' ? "El Halving: Por qu√© Bitcoin es escaso" : "The Halving: Why Bitcoin is scarce"}</h3>
                                    <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Cada ~4 anys (210.000 blocs), la recompensa als miners es redueix a la meitat. Aix√≤ fa que cada cop s'emetin menys BTC nous, fins arribar a 0 cap al 2140." : idioma === 'es' ? "Cada ~4 a√±os (210.000 bloques), la recompensa a los mineros se reduce a la mitad. Esto hace que cada vez se emitan menos BTC nuevos, hasta llegar a 0 hacia 2140." : "Every ~4 years (210,000 blocks), miner rewards are cut in half. This means fewer and fewer new BTC are issued, until reaching 0 around 2140."}</p>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-sm">
                                            <thead>
                                                <tr className="border-b border-amber-200">
                                                    <th className="text-left py-2 text-amber-700">{idioma === 'val' ? 'Any' : idioma === 'es' ? 'A√±o' : 'Year'}</th>
                                                    <th className="text-left py-2 text-amber-700">{idioma === 'val' ? 'Recompensa/bloc' : idioma === 'es' ? 'Recompensa/bloque' : 'Reward/block'}</th>
                                                    <th className="text-left py-2 text-amber-700">{idioma === 'val' ? 'BTC totals' : idioma === 'es' ? 'BTC totales' : 'Total BTC'}</th>
                                                </tr>
                                            </thead>
                                            <tbody className="text-gray-600">
                                                <tr className="border-b border-amber-100"><td className="py-2">2009</td><td>50 BTC</td><td>~10.5M</td></tr>
                                                <tr className="border-b border-amber-100"><td className="py-2">2012</td><td>25 BTC</td><td>~15.75M</td></tr>
                                                <tr className="border-b border-amber-100"><td className="py-2">2016</td><td>12.5 BTC</td><td>~18.375M</td></tr>
                                                <tr className="border-b border-amber-100"><td className="py-2">2020</td><td>6.25 BTC</td><td>~19.7M</td></tr>
                                                <tr className="border-b border-amber-100"><td className="py-2">2024</td><td>3.125 BTC</td><td>~19.85M</td></tr>
                                                <tr><td className="py-2 text-amber-700 font-bold">2140</td><td>0 BTC</td><td className="font-bold text-amber-700">21M (m√†xim)</td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">üåê {idioma === 'val' ? "Nodes: La descentralitzaci√≥ real" : idioma === 'es' ? "Nodos: La descentralizaci√≥n real" : "Nodes: Real decentralization"}</h3>
                                    <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Un node √©s un ordinador que t√© una c√≤pia completa de la blockchain i valida que totes les regles es compleixin. Qualsevol pot executar un node des de casa (nom√©s necessites un Raspberry Pi de 50‚Ç¨)." : idioma === 'es' ? "Un nodo es un ordenador que tiene una copia completa de la blockchain y valida que todas las reglas se cumplan. Cualquiera puede ejecutar un nodo desde casa (solo necesitas un Raspberry Pi de 50‚Ç¨)." : "A node is a computer that has a complete copy of the blockchain and validates that all rules are followed. Anyone can run a node from home (just need a ‚Ç¨50 Raspberry Pi)."}</p>
                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                        <div className="p-3 bg-emerald-50 rounded-xl text-center">
                                            <p className="text-2xl font-bold text-emerald-600">~18.000</p>
                                            <p className="text-xs text-emerald-700">{idioma === 'val' ? 'Nodes actius' : idioma === 'es' ? 'Nodos activos' : 'Active nodes'}</p>
                                        </div>
                                        <div className="p-3 bg-blue-50 rounded-xl text-center">
                                            <p className="text-2xl font-bold text-blue-600">100+</p>
                                            <p className="text-xs text-blue-700">{idioma === 'val' ? 'Pa√Øsos' : idioma === 'es' ? 'Pa√≠ses' : 'Countries'}</p>
                                        </div>
                                        <div className="p-3 bg-amber-50 rounded-xl text-center">
                                            <p className="text-2xl font-bold text-amber-600">~570 GB</p>
                                            <p className="text-xs text-amber-700">Blockchain size</p>
                                        </div>
                                        <div className="p-3 bg-violet-50 rounded-xl text-center">
                                            <p className="text-2xl font-bold text-violet-600">15 {idioma === 'val' ? 'anys' : idioma === 'es' ? 'a√±os' : 'years'}</p>
                                            <p className="text-xs text-violet-700">Uptime 99.99%</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {btcTab === 'maximalisme' && (
                            <div className="space-y-6">
                                <div className="bg-gradient-to-r from-amber-100 to-orange-100 rounded-2xl p-6 border border-amber-300">
                                    <h3 className="text-xl font-bold text-gray-800 mb-4">üî∂ {idioma === 'val' ? "Maximalisme de Bitcoin: Per qu√® 'nom√©s Bitcoin'?" : idioma === 'es' ? "Maximalismo de Bitcoin: ¬øPor qu√© 'solo Bitcoin'?" : "Bitcoin Maximalism: Why 'only Bitcoin'?"}</h3>
                                    <p className="text-gray-700">{idioma === 'val' ? "Els 'maximalistes' de Bitcoin argumenten que BTC √©s l'√∫nica criptomoneda que realment compleix les promeses de descentralitzaci√≥, escassetat i seguretat. Les altres (altcoins) tenen problemes fonamentals:" : idioma === 'es' ? "Los 'maximalistas' de Bitcoin argumentan que BTC es la √∫nica criptomoneda que realmente cumple las promesas de descentralizaci√≥n, escasez y seguridad. Las otras (altcoins) tienen problemas fundamentales:" : "Bitcoin 'maximalists' argue that BTC is the only cryptocurrency that truly delivers on promises of decentralization, scarcity and security. Others (altcoins) have fundamental problems:"}</p>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">‚ö†Ô∏è {idioma === 'val' ? "El problema de les altcoins" : idioma === 'es' ? "El problema de las altcoins" : "The problem with altcoins"}</h3>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">‚ùå {idioma === 'val' ? "NO s√≥n escasses" : idioma === 'es' ? "NO son escasas" : "NOT scarce"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "La majoria d'altcoins poden canviar la seva oferta monet√†ria. Ethereum no t√© l√≠mit m√†xim definit. Moltes tenen 'pre-mined' tokens pels fundadors." : idioma === 'es' ? "La mayor√≠a de altcoins pueden cambiar su oferta monetaria. Ethereum no tiene l√≠mite m√°ximo definido. Muchas tienen tokens 'pre-minados' para los fundadores." : "Most altcoins can change their money supply. Ethereum has no defined max limit. Many have 'pre-mined' tokens for founders."}</p>
                                        </div>
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">‚ùå {idioma === 'val' ? "NO s√≥n descentralitzades" : idioma === 'es' ? "NO son descentralizadas" : "NOT decentralized"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "La majoria tenen fundadors/empreses identificables que controlen el protocol. Ethereum t√© Vitalik Buterin i la Ethereum Foundation. Solana, Cardano, etc. tenen equips centrals." : idioma === 'es' ? "La mayor√≠a tienen fundadores/empresas identificables que controlan el protocolo. Ethereum tiene Vitalik Buterin y la Ethereum Foundation. Solana, Cardano, etc. tienen equipos centrales." : "Most have identifiable founders/companies controlling the protocol. Ethereum has Vitalik Buterin and Ethereum Foundation. Solana, Cardano, etc. have central teams."}</p>
                                        </div>
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">‚ùå {idioma === 'val' ? "Canvien les regles" : idioma === 'es' ? "Cambian las reglas" : "Rules change"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "Ethereum va fer un 'hard fork' el 2016 per revertir un hack (The DAO). Aix√≤ demostra que hi ha alg√∫ que POT canviar les regles quan vol. Bitcoin mai ha revertit cap transacci√≥." : idioma === 'es' ? "Ethereum hizo un 'hard fork' en 2016 para revertir un hack (The DAO). Esto demuestra que hay alguien que PUEDE cambiar las reglas cuando quiere. Bitcoin nunca ha revertido ninguna transacci√≥n." : "Ethereum did a 'hard fork' in 2016 to reverse a hack (The DAO). This shows someone CAN change the rules when they want. Bitcoin has never reversed any transaction."}</p>
                                        </div>
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">‚ùå {idioma === 'val' ? "S√≥n securities (valors)" : idioma === 'es' ? "Son securities (valores)" : "They're securities"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "La SEC dels EUA considera moltes altcoins com a 'securities' no registrades (valors financers). Bitcoin √©s l'√∫nica reconeguda com a 'commodity' (mercaderia). ETFs de BTC aprovats; ETFs d'ETH amb dubtes legals." : idioma === 'es' ? "La SEC de EEUU considera muchas altcoins como 'securities' no registradas (valores financieros). Bitcoin es la √∫nica reconocida como 'commodity' (mercanc√≠a). ETFs de BTC aprobados; ETFs de ETH con dudas legales." : "The US SEC considers many altcoins unregistered securities. Bitcoin is the only one recognized as a commodity. BTC ETFs approved; ETH ETFs have legal doubts."}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">‚öñÔ∏è Bitcoin vs Altcoins</h3>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-sm">
                                            <thead>
                                                <tr className="border-b border-gray-200">
                                                    <th className="text-left py-2 px-3">{idioma === 'val' ? 'Caracter√≠stica' : idioma === 'es' ? 'Caracter√≠stica' : 'Feature'}</th>
                                                    <th className="text-left py-2 px-3 bg-amber-50 text-amber-700">Bitcoin</th>
                                                    <th className="text-left py-2 px-3">Ethereum</th>
                                                    <th className="text-left py-2 px-3">{idioma === 'val' ? 'Altres' : idioma === 'es' ? 'Otras' : 'Others'}</th>
                                                </tr>
                                            </thead>
                                            <tbody className="text-gray-600">
                                                <tr className="border-b border-gray-100">
                                                    <td className="py-2 px-3 font-medium">{idioma === 'val' ? 'Oferta m√†xima' : idioma === 'es' ? 'Oferta m√°xima' : 'Max supply'}</td>
                                                    <td className="py-2 px-3 bg-amber-50 text-emerald-600 font-bold">21M (fix)</td>
                                                    <td className="py-2 px-3 text-red-600">{idioma === 'val' ? 'Il¬∑limitada' : idioma === 'es' ? 'Ilimitada' : 'Unlimited'}</td>
                                                    <td className="py-2 px-3 text-red-600">{idioma === 'val' ? 'Variable' : idioma === 'es' ? 'Variable' : 'Variable'}</td>
                                                </tr>
                                                <tr className="border-b border-gray-100">
                                                    <td className="py-2 px-3 font-medium">{idioma === 'val' ? 'Fundador conegut' : idioma === 'es' ? 'Fundador conocido' : 'Known founder'}</td>
                                                    <td className="py-2 px-3 bg-amber-50 text-emerald-600 font-bold">No (Satoshi desaparegut)</td>
                                                    <td className="py-2 px-3 text-red-600">S√≠ (Vitalik)</td>
                                                    <td className="py-2 px-3 text-red-600">S√≠</td>
                                                </tr>
                                                <tr className="border-b border-gray-100">
                                                    <td className="py-2 px-3 font-medium">Pre-mine</td>
                                                    <td className="py-2 px-3 bg-amber-50 text-emerald-600 font-bold">0%</td>
                                                    <td className="py-2 px-3 text-red-600">~70%</td>
                                                    <td className="py-2 px-3 text-red-600">20-90%</td>
                                                </tr>
                                                <tr className="border-b border-gray-100">
                                                    <td className="py-2 px-3 font-medium">{idioma === 'val' ? 'Transaccions revertides' : idioma === 'es' ? 'Transacciones revertidas' : 'Reversed transactions'}</td>
                                                    <td className="py-2 px-3 bg-amber-50 text-emerald-600 font-bold">0</td>
                                                    <td className="py-2 px-3 text-red-600">S√≠ (DAO 2016)</td>
                                                    <td className="py-2 px-3 text-red-600">{idioma === 'val' ? 'Varies' : idioma === 'es' ? 'Varias' : 'Several'}</td>
                                                </tr>
                                                <tr>
                                                    <td className="py-2 px-3 font-medium">{idioma === 'val' ? 'Estatus legal' : idioma === 'es' ? 'Estatus legal' : 'Legal status'}</td>
                                                    <td className="py-2 px-3 bg-amber-50 text-emerald-600 font-bold">Commodity</td>
                                                    <td className="py-2 px-3 text-amber-600">{idioma === 'val' ? 'Incert' : idioma === 'es' ? 'Incierto' : 'Uncertain'}</td>
                                                    <td className="py-2 px-3 text-red-600">{idioma === 'val' ? 'Securities?' : idioma === 'es' ? 'Securities?' : 'Securities?'}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div className="bg-blue-50 rounded-xl p-6 border border-blue-200">
                                    <h3 className="font-bold text-blue-700 mb-3">üí° {idioma === 'val' ? "Conclusi√≥ maximalista" : idioma === 'es' ? "Conclusi√≥n maximalista" : "Maximalist conclusion"}</h3>
                                    <p className="text-sm text-blue-600">{idioma === 'val' ? "El maximalisme no √©s un culte: √©s el reconeixement que crear 'diners durs' descentralitzats √©s un problema que nom√©s es resol UNA vegada. Bitcoin va resoldre'l. Les altcoins s√≥n experiments interessants, per√≤ no compleixen la funci√≥ de 'diner s√≤lid' perqu√® depenen de tercers de confian√ßa (els seus creadors/fundacions)." : idioma === 'es' ? "El maximalismo no es un culto: es el reconocimiento de que crear 'dinero duro' descentralizado es un problema que solo se resuelve UNA vez. Bitcoin lo resolvi√≥. Las altcoins son experimentos interesantes, pero no cumplen la funci√≥n de 'dinero s√≥lido' porque dependen de terceros de confianza (sus creadores/fundaciones)." : "Maximalism isn't a cult: it's recognizing that creating decentralized 'hard money' is a problem solved only ONCE. Bitcoin solved it. Altcoins are interesting experiments, but don't fulfill 'sound money' because they depend on trusted third parties (their creators/foundations)."}</p>
                                </div>
                            </div>
                        )}
                        
                        {btcTab === 'riscos' && (
                            <div className="space-y-6">
                                <Disclaimer />
                                
                                <div className="bg-white rounded-xl p-6 border border-gray-200">
                                    <h3 className="font-bold text-gray-800 mb-4">‚ö†Ô∏è {idioma === 'val' ? "Riscos de Bitcoin (molt reals)" : idioma === 'es' ? "Riesgos de Bitcoin (muy reales)" : "Bitcoin risks (very real)"}</h3>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">üìâ {idioma === 'val' ? "Volatilitat extrema" : idioma === 'es' ? "Volatilidad extrema" : "Extreme volatility"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "BTC pot caure 50-80% en mesos. Ha passat m√∫ltiples vegades: 2014 (-85%), 2018 (-84%), 2022 (-77%). No aptes per a necessitats a curt termini." : idioma === 'es' ? "BTC puede caer 50-80% en meses. Ha pasado m√∫ltiples veces: 2014 (-85%), 2018 (-84%), 2022 (-77%). No aptos para necesidades a corto plazo." : "BTC can fall 50-80% in months. Has happened multiple times: 2014 (-85%), 2018 (-84%), 2022 (-77%). Not suitable for short-term needs."}</p>
                                        </div>
                                        <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                            <p className="font-bold text-red-700 mb-2">üîí {idioma === 'val' ? "P√®rdua de claus" : idioma === 'es' ? "P√©rdida de claves" : "Key loss"}</p>
                                            <p className="text-sm text-red-600">{idioma === 'val' ? "Si perds la clau privada, perds els BTC per sempre. No hi ha 'recuperar contrasenya'. S'estima que 3-4 milions de BTC estan perduts per sempre." : idioma === 'es' ? "Si pierdes la clave privada, pierdes los BTC para siempre. No hay 'recuperar contrase√±a'. Se estima que 3-4 millones de BTC est√°n perdidos para siempre." : "If you lose the private key, you lose BTC forever. No 'forgot password'. Estimated 3-4 million BTC are lost forever."}</p>
                                        </div>
                                        <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                            <p className="font-bold text-amber-700 mb-2">üèõÔ∏è {idioma === 'val' ? "Risc regulatori" : idioma === 'es' ? "Riesgo regulatorio" : "Regulatory risk"}</p>
                                            <p className="text-sm text-amber-600">{idioma === 'val' ? "Els governs podrien prohibir o restringir-lo fortament. Xina ja ho ha fet. Tot i que √©s dif√≠cil 'matar' Bitcoin, podrien fer molt dif√≠cil el seu √∫s legal." : idioma === 'es' ? "Los gobiernos podr√≠an prohibirlo o restringirlo fuertemente. China ya lo ha hecho. Aunque es dif√≠cil 'matar' Bitcoin, podr√≠an hacer muy dif√≠cil su uso legal." : "Governments could ban or heavily restrict it. China already has. While hard to 'kill' Bitcoin, they could make legal use very difficult."}</p>
                                        </div>
                                        <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                            <p className="font-bold text-amber-700 mb-2">üíª {idioma === 'val' ? "Risc tecnol√≤gic" : idioma === 'es' ? "Riesgo tecnol√≥gico" : "Technological risk"}</p>
                                            <p className="text-sm text-amber-600">{idioma === 'val' ? "Computaci√≥ qu√†ntica podria trencar la criptografia (encara que es pot actualitzar). Bugs desconeguts en el codi. Atacs del 51% (te√≤ricament possibles per√≤ costosos)." : idioma === 'es' ? "Computaci√≥n cu√°ntica podr√≠a romper la criptograf√≠a (aunque se puede actualizar). Bugs desconocidos en el c√≥digo. Ataques del 51% (te√≥ricamente posibles pero costosos)." : "Quantum computing could break cryptography (though upgradeable). Unknown bugs in code. 51% attacks (theoretically possible but costly)."}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-emerald-50 rounded-xl p-6 border border-emerald-200">
                                    <h3 className="font-bold text-emerald-700 mb-4">‚úÖ {idioma === 'val' ? "Consells de seguretat" : idioma === 'es' ? "Consejos de seguridad" : "Safety tips"}</h3>
                                    <div className="grid md:grid-cols-2 gap-3">
                                        <div className="p-3 bg-white rounded-lg text-sm">
                                            <p className="font-bold text-emerald-700">1. {idioma === 'val' ? "Mai invertir m√©s del que pots perdre" : idioma === 'es' ? "Nunca invertir m√°s de lo que puedes perder" : "Never invest more than you can lose"}</p>
                                            <p className="text-emerald-600 text-xs">{idioma === 'val' ? "Recomanaci√≥ t√≠pica: 1-5% del patrimoni m√†xim" : idioma === 'es' ? "Recomendaci√≥n t√≠pica: 1-5% del patrimonio m√°ximo" : "Typical recommendation: 1-5% of assets max"}</p>
                                        </div>
                                        <div className="p-3 bg-white rounded-lg text-sm">
                                            <p className="font-bold text-emerald-700">2. Self-custody {idioma === 'val' ? "amb hardware wallet" : idioma === 'es' ? "con hardware wallet" : "with hardware wallet"}</p>
                                            <p className="text-emerald-600 text-xs">Ledger, Trezor, Coldcard</p>
                                        </div>
                                        <div className="p-3 bg-white rounded-lg text-sm">
                                            <p className="font-bold text-emerald-700">3. DCA {idioma === 'val' ? "en lloc de 'lump sum'" : idioma === 'es' ? "en lugar de 'lump sum'" : "instead of lump sum"}</p>
                                            <p className="text-emerald-600 text-xs">{idioma === 'val' ? "Comprar petites quantitats regularment" : idioma === 'es' ? "Comprar peque√±as cantidades regularmente" : "Buy small amounts regularly"}</p>
                                        </div>
                                        <div className="p-3 bg-white rounded-lg text-sm">
                                            <p className="font-bold text-emerald-700">4. {idioma === 'val' ? "Horitz√≥ llarg (+5 anys)" : idioma === 'es' ? "Horizonte largo (+5 a√±os)" : "Long horizon (+5 years)"}</p>
                                            <p className="text-emerald-600 text-xs">{idioma === 'val' ? "Hist√≤ricament, tenir 4+ anys ha estat profit√≥s" : idioma === 'es' ? "Hist√≥ricamente, tener 4+ a√±os ha sido rentable" : "Historically, holding 4+ years has been profitable"}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                );
            };

            // ========================================================================
            // FISCALITAT SECTION
            // ========================================================================
            const Fiscalitat = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3">üßæ {idioma === 'val' ? 'Fiscalitat de les Inversions (Espanya)' : idioma === 'es' ? 'Fiscalidad de las Inversiones (Espa√±a)' : 'Investment Taxation (Spain)'}</h2>
                    <Disclaimer />
                    
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üí∞ {idioma === 'val' ? "Impostos sobre guanys patrimonials (IRPF)" : idioma === 'es' ? "Impuestos sobre ganancias patrimoniales (IRPF)" : "Capital gains taxes (IRPF)"}</h3>
                        <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Quan vens un actiu per m√©s del que el vas comprar, la difer√®ncia (plusv√†lua) tributa aix√≠:" : idioma === 'es' ? "Cuando vendes un activo por m√°s de lo que lo compraste, la diferencia (plusval√≠a) tributa as√≠:" : "When you sell an asset for more than you paid, the difference (capital gain) is taxed as follows:"}</p>
                        <div className="grid md:grid-cols-4 gap-3 mb-4">
                            <div className="p-4 bg-emerald-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-emerald-600">19%</p>
                                <p className="text-sm text-emerald-700">{idioma === 'val' ? "Primers 6.000‚Ç¨" : idioma === 'es' ? "Primeros 6.000‚Ç¨" : "First ‚Ç¨6,000"}</p>
                            </div>
                            <div className="p-4 bg-blue-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-blue-600">21%</p>
                                <p className="text-sm text-blue-700">6.000‚Ç¨ - 50.000‚Ç¨</p>
                            </div>
                            <div className="p-4 bg-amber-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-amber-600">23%</p>
                                <p className="text-sm text-amber-700">50.000‚Ç¨ - 200.000‚Ç¨</p>
                            </div>
                            <div className="p-4 bg-red-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-red-600">28%</p>
                                <p className="text-sm text-red-700">{idioma === 'val' ? "M√©s de 200.000‚Ç¨" : idioma === 'es' ? "M√°s de 200.000‚Ç¨" : "Over ‚Ç¨200,000"}</p>
                            </div>
                        </div>
                        <div className="p-4 bg-violet-50 rounded-xl">
                            <p className="font-bold text-violet-700 mb-2">üí° {idioma === 'val' ? "Exemple pr√†ctic:" : idioma === 'es' ? "Ejemplo pr√°ctico:" : "Practical example:"}</p>
                            <p className="text-sm text-violet-600">{idioma === 'val' ? "Compres accions per 10.000‚Ç¨, vens per 15.000‚Ç¨. Guany: 5.000‚Ç¨. Impost: 5.000 √ó 19% = 950‚Ç¨." : idioma === 'es' ? "Compras acciones por 10.000‚Ç¨, vendes por 15.000‚Ç¨. Ganancia: 5.000‚Ç¨. Impuesto: 5.000 √ó 19% = 950‚Ç¨." : "Buy stocks for ‚Ç¨10,000, sell for ‚Ç¨15,000. Gain: ‚Ç¨5,000. Tax: 5,000 √ó 19% = ‚Ç¨950."}</p>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üîÑ {idioma === 'val' ? "Compensaci√≥ de p√®rdues" : idioma === 'es' ? "Compensaci√≥n de p√©rdidas" : "Loss compensation"}</h3>
                        <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Pots compensar p√®rdues amb guanys dins del mateix any. Si tens m√©s p√®rdues, pots arrossegar-les 4 anys." : idioma === 'es' ? "Puedes compensar p√©rdidas con ganancias dentro del mismo a√±o. Si tienes m√°s p√©rdidas, puedes arrastrarlas 4 a√±os." : "You can offset losses against gains within the same year. If you have more losses, you can carry them forward 4 years."}</p>
                        <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                            <p className="font-bold text-amber-700 mb-2">‚ö†Ô∏è {idioma === 'val' ? "Regla anti-aplicaci√≥ (2 mesos)" : idioma === 'es' ? "Regla anti-aplicaci√≥n (2 meses)" : "Anti-application rule (2 months)"}</p>
                            <p className="text-sm text-amber-600">{idioma === 'val' ? "No pots vendre amb p√®rdues i recomprar el mateix actiu en 2 mesos (abans o despr√©s). Si ho fas, no podr√†s compensar la p√®rdua." : idioma === 'es' ? "No puedes vender con p√©rdidas y recomprar el mismo activo en 2 meses (antes o despu√©s). Si lo haces, no podr√°s compensar la p√©rdida." : "You can't sell at a loss and rebuy the same asset within 2 months (before or after). If you do, you can't offset the loss."}</p>
                        </div>
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-emerald-50 rounded-xl p-6 border border-emerald-200">
                            <h3 className="font-bold text-emerald-700 mb-4">‚úÖ {idioma === 'val' ? "Avantatge fiscal dels fons" : idioma === 'es' ? "Ventaja fiscal de los fondos" : "Tax advantage of funds"}</h3>
                            <p className="text-sm text-emerald-600">{idioma === 'val' ? "A Espanya, traspassar entre fons d'inversi√≥ NO tributa. Pots moure diners de Fons A a Fons B sense pagar impostos fins que retires els diners del sistema de fons." : idioma === 'es' ? "En Espa√±a, traspasar entre fondos de inversi√≥n NO tributa. Puedes mover dinero de Fondo A a Fondo B sin pagar impuestos hasta que retires el dinero del sistema de fondos." : "In Spain, transfers between investment funds are NOT taxed. You can move money from Fund A to Fund B without paying taxes until you withdraw from the fund system."}</p>
                            <p className="text-xs text-emerald-500 mt-3">{idioma === 'val' ? "üí° Per aix√≤ els fons indexats s√≥n millors que ETFs per a DCA a Espanya." : idioma === 'es' ? "üí° Por eso los fondos indexados son mejores que ETFs para DCA en Espa√±a." : "üí° That's why index funds are better than ETFs for DCA in Spain."}</p>
                        </div>
                        <div className="bg-blue-50 rounded-xl p-6 border border-blue-200">
                            <h3 className="font-bold text-blue-700 mb-4">üìã {idioma === 'val' ? "Dividends" : idioma === 'es' ? "Dividendos" : "Dividends"}</h3>
                            <p className="text-sm text-blue-600">{idioma === 'val' ? "Els dividends tributen com a rendiments del capital mobiliari, als mateixos trams que les plusv√†lues (19-28%). El broker et ret√© autom√†ticament el 19%." : idioma === 'es' ? "Los dividendos tributan como rendimientos del capital mobiliario, a los mismos tramos que las plusval√≠as (19-28%). El broker te retiene autom√°ticamente el 19%." : "Dividends are taxed as investment income, at the same rates as capital gains (19-28%). The broker automatically withholds 19%."}</p>
                        </div>
                    </div>
                    
                    <div className="bg-amber-50 rounded-xl p-6 border border-amber-200">
                        <h3 className="font-bold text-amber-700 mb-4">‚Çø {idioma === 'val' ? "Cripto i Hisenda" : idioma === 'es' ? "Cripto y Hacienda" : "Crypto and Tax Authority"}</h3>
                        <div className="space-y-3">
                            <p className="text-sm text-amber-600">{idioma === 'val' ? "Les criptomonedes tributen com a guanys patrimonials. CADA intercanvi (fins i tot cripto a cripto) √©s un fet imposable." : idioma === 'es' ? "Las criptomonedas tributan como ganancias patrimoniales. CADA intercambio (incluso cripto a cripto) es un hecho imponible." : "Cryptocurrencies are taxed as capital gains. EVERY exchange (even crypto to crypto) is a taxable event."}</p>
                            <div className="grid md:grid-cols-2 gap-3">
                                <div className="p-3 bg-white rounded-lg text-sm">
                                    <p className="font-bold text-amber-700">{idioma === 'val' ? "Model 721" : idioma === 'es' ? "Modelo 721" : "Form 721"}</p>
                                    <p className="text-amber-600 text-xs">{idioma === 'val' ? "Obligatori si tens +50.000‚Ç¨ en cripto a l'estranger (exchanges)" : idioma === 'es' ? "Obligatorio si tienes +50.000‚Ç¨ en cripto en el extranjero (exchanges)" : "Required if you have +‚Ç¨50,000 in crypto abroad (exchanges)"}</p>
                                </div>
                                <div className="p-3 bg-white rounded-lg text-sm">
                                    <p className="font-bold text-amber-700">{idioma === 'val' ? "Cripto.info" : idioma === 'es' ? "Cripto.info" : "Crypto.info"}</p>
                                    <p className="text-amber-600 text-xs">{idioma === 'val' ? "Hisenda rep informaci√≥ dels exchanges espanyols" : idioma === 'es' ? "Hacienda recibe informaci√≥n de los exchanges espa√±oles" : "Tax authority receives info from Spanish exchanges"}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // ========================================================================
            // ANALISI SECTION
            // ========================================================================
            const Analisi = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3">üìä {idioma === 'val' ? "An√†lisi d'Actius" : idioma === 'es' ? "An√°lisis de Activos" : "Asset Analysis"}</h2>
                    <Disclaimer compact={true} />
                    
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">üìà {idioma === 'val' ? "An√†lisi Fonamental" : idioma === 'es' ? "An√°lisis Fundamental" : "Fundamental Analysis"}</h3>
                            <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Estudia el VALOR INTR√çNSEC d'una empresa: beneficis, deutes, creixement, avantatges competitius. Intenta respondre: 'Quant val realment aquesta empresa?'" : idioma === 'es' ? "Estudia el VALOR INTR√çNSECO de una empresa: beneficios, deudas, crecimiento, ventajas competitivas. Intenta responder: '¬øCu√°nto vale realmente esta empresa?'" : "Studies the INTRINSIC VALUE of a company: profits, debts, growth, competitive advantages. Tries to answer: 'What is this company really worth?'"}</p>
                            <div className="space-y-2">
                                {[
                                    { ratio: 'PER', desc: idioma === 'val' ? 'Preu / Beneficis. <15 barat, >25 car' : idioma === 'es' ? 'Precio / Beneficios. <15 barato, >25 caro' : 'Price / Earnings. <15 cheap, >25 expensive' },
                                    { ratio: 'P/B', desc: idioma === 'val' ? 'Preu / Valor comptable. <1 potencialment infravalorat' : idioma === 'es' ? 'Precio / Valor contable. <1 potencialmente infravalorado' : 'Price / Book value. <1 potentially undervalued' },
                                    { ratio: 'ROE', desc: idioma === 'val' ? 'Rendibilitat sobre patrimoni. >15% √©s bo' : idioma === 'es' ? 'Rentabilidad sobre patrimonio. >15% es bueno' : 'Return on Equity. >15% is good' },
                                    { ratio: 'Dividend Yield', desc: idioma === 'val' ? 'Dividend / Preu. 3-5% √©s atractiu' : idioma === 'es' ? 'Dividendo / Precio. 3-5% es atractivo' : 'Dividend / Price. 3-5% is attractive' },
                                ].map((r, i) => (
                                    <div key={i} className="p-2 bg-blue-50 rounded-lg">
                                        <p className="font-bold text-blue-700 text-sm">{r.ratio}</p>
                                        <p className="text-blue-600 text-xs">{r.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                        <div className="bg-white rounded-xl p-6 border border-gray-200">
                            <h3 className="font-bold text-gray-800 mb-4">üìâ {idioma === 'val' ? "An√†lisi T√®cnica" : idioma === 'es' ? "An√°lisis T√©cnico" : "Technical Analysis"}</h3>
                            <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "Estudia els GR√ÄFICS de preus i volum per predir moviments futurs. Es basa en patrons i tend√®ncies. Controvertida: molts acad√®mics la consideren pseudoci√®ncia." : idioma === 'es' ? "Estudia los GR√ÅFICOS de precios y volumen para predecir movimientos futuros. Se basa en patrones y tendencias. Controvertida: muchos acad√©micos la consideran pseudociencia." : "Studies price and volume CHARTS to predict future movements. Based on patterns and trends. Controversial: many academics consider it pseudoscience."}</p>
                            <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                <p className="font-bold text-red-700 mb-2">‚ö†Ô∏è {idioma === 'val' ? "Advert√®ncia" : idioma === 'es' ? "Advertencia" : "Warning"}</p>
                                <p className="text-sm text-red-600">{idioma === 'val' ? "Estudis acad√®mics mostren que l'an√†lisi t√®cnica no funciona millor que l'atzar a llarg termini. Els patrons que 'veiem' sovint s√≥n pareid√≤lia (veure formes on no n'hi ha)." : idioma === 'es' ? "Estudios acad√©micos muestran que el an√°lisis t√©cnico no funciona mejor que el azar a largo plazo. Los patrones que 'vemos' a menudo son pareidolia (ver formas donde no las hay)." : "Academic studies show technical analysis doesn't work better than random chance long-term. Patterns we 'see' are often pareidolia (seeing shapes where there are none)."}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-emerald-50 rounded-xl p-6 border border-emerald-200">
                        <h3 className="font-bold text-emerald-700 mb-4">üí° {idioma === 'val' ? "Consell per a principiants" : idioma === 'es' ? "Consejo para principiantes" : "Advice for beginners"}</h3>
                        <p className="text-sm text-emerald-600">{idioma === 'val' ? "No necessites saber analitzar empreses per invertir b√©. Amb fons indexats globals obtens la rendibilitat mitjana del mercat sense fer res. El 90% de professionals no superen aquesta mitjana a llarg termini. Per qu√® creus que tu s√≠ que ho far√†s?" : idioma === 'es' ? "No necesitas saber analizar empresas para invertir bien. Con fondos indexados globales obtienes la rentabilidad media del mercado sin hacer nada. El 90% de profesionales no superan esta media a largo plazo. ¬øPor qu√© crees que t√∫ s√≠ lo har√°s?" : "You don't need to analyze companies to invest well. With global index funds you get average market returns without doing anything. 90% of professionals don't beat this average long-term. Why do you think you will?"}</p>
                    </div>
                </div>
            );

            // ========================================================================
            // DERIVATS SECTION
            // ========================================================================
            const Derivats = () => (
                <div className="space-y-6">
                    <h2 className="text-2xl font-black text-gray-800 flex items-center gap-3">‚öñÔ∏è {idioma === 'val' ? "Derivats Financers" : idioma === 'es' ? "Derivados Financieros" : "Financial Derivatives"}</h2>
                    <Disclaimer />
                    
                    <div className="bg-red-50 rounded-xl p-6 border border-red-300">
                        <div className="flex items-start gap-4">
                            <span className="text-4xl">‚ö†Ô∏è</span>
                            <div>
                                <p className="font-bold text-red-700 text-lg mb-2">{idioma === 'val' ? "Av√≠s important per a principiants" : idioma === 'es' ? "Aviso importante para principiantes" : "Important notice for beginners"}</p>
                                <p className="text-sm text-red-600">{idioma === 'val' ? "Els derivats s√≥n instruments MOLT complexos dissenyats per a professionals. El 70-80% dels inversors minoristes perden diners amb CFDs. NO s√≥n adequats per a la majoria d'inversors particulars." : idioma === 'es' ? "Los derivados son instrumentos MUY complejos dise√±ados para profesionales. El 70-80% de los inversores minoristas pierden dinero con CFDs. NO son adecuados para la mayor√≠a de inversores particulares." : "Derivatives are VERY complex instruments designed for professionals. 70-80% of retail investors lose money with CFDs. NOT suitable for most individual investors."}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">üìö {idioma === 'val' ? "Qu√® s√≥n els derivats?" : idioma === 'es' ? "¬øQu√© son los derivados?" : "What are derivatives?"}</h3>
                        <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "S√≥n contractes financers el valor dels quals 'deriva' d'un actiu subjacent (accions, mat√®ries primeres, divises, etc.). Serveixen per a cobertura de riscos o especulaci√≥." : idioma === 'es' ? "Son contratos financieros cuyo valor 'deriva' de un activo subyacente (acciones, materias primas, divisas, etc.). Sirven para cobertura de riesgos o especulaci√≥n." : "They are financial contracts whose value 'derives' from an underlying asset (stocks, commodities, currencies, etc.). Used for hedging risks or speculation."}</p>
                        
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="p-4 bg-blue-50 rounded-xl">
                                <p className="font-bold text-blue-700 mb-2">üìú Futurs</p>
                                <p className="text-sm text-blue-600">{idioma === 'val' ? "Contracte per comprar/vendre un actiu a un preu fix en una data futura. Obligaci√≥ de complir el contracte." : idioma === 'es' ? "Contrato para comprar/vender un activo a un precio fijo en una fecha futura. Obligaci√≥n de cumplir el contrato." : "Contract to buy/sell an asset at a fixed price on a future date. Obligation to fulfill the contract."}</p>
                                <p className="text-xs text-blue-500 mt-2">{idioma === 'val' ? "Ex: Agricultor ven el blat de la collita a preu fix avui" : idioma === 'es' ? "Ej: Agricultor vende el trigo de la cosecha a precio fijo hoy" : "Ex: Farmer sells harvest wheat at fixed price today"}</p>
                            </div>
                            <div className="p-4 bg-emerald-50 rounded-xl">
                                <p className="font-bold text-emerald-700 mb-2">üé´ {idioma === 'val' ? "Opcions" : idioma === 'es' ? "Opciones" : "Options"}</p>
                                <p className="text-sm text-emerald-600">{idioma === 'val' ? "Dret (no obligaci√≥) a comprar (CALL) o vendre (PUT) un actiu a un preu determinat. Pagues una 'prima' per aquest dret." : idioma === 'es' ? "Derecho (no obligaci√≥n) a comprar (CALL) o vender (PUT) un activo a un precio determinado. Pagas una 'prima' por este derecho." : "Right (not obligation) to buy (CALL) or sell (PUT) an asset at a set price. You pay a 'premium' for this right."}</p>
                                <p className="text-xs text-emerald-500 mt-2">{idioma === 'val' ? "Ex: Asseguran√ßa - pagues prima per protegir-te" : idioma === 'es' ? "Ej: Seguro - pagas prima para protegerte" : "Ex: Insurance - pay premium to protect yourself"}</p>
                            </div>
                            <div className="p-4 bg-amber-50 rounded-xl">
                                <p className="font-bold text-amber-700 mb-2">üîÑ Swaps</p>
                                <p className="text-sm text-amber-600">{idioma === 'val' ? "Intercanvi de fluxos financers entre dues parts. Ex: canviar tipus d'inter√®s fix per variable." : idioma === 'es' ? "Intercambio de flujos financieros entre dos partes. Ej: cambiar tipo de inter√©s fijo por variable." : "Exchange of financial flows between two parties. Ex: swap fixed interest rate for variable."}</p>
                            </div>
                            <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                <p className="font-bold text-red-700 mb-2">‚ö†Ô∏è CFDs</p>
                                <p className="text-sm text-red-600">{idioma === 'val' ? "Contracte per Difer√®ncia. Apostes sobre el moviment del preu sense posseir l'actiu. AMB APALANCAMENT. Molt perillosos." : idioma === 'es' ? "Contrato por Diferencia. Apuestas sobre el movimiento del precio sin poseer el activo. CON APALANCAMIENTO. Muy peligrosos." : "Contract for Difference. Bet on price movement without owning asset. WITH LEVERAGE. Very dangerous."}</p>
                                <p className="text-xs text-red-500 mt-2 font-bold">{idioma === 'val' ? "76% d'inversors minoristes perden diners amb CFDs" : idioma === 'es' ? "76% de inversores minoristas pierden dinero con CFDs" : "76% of retail investors lose money with CFDs"}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-xl p-6 border border-gray-200">
                        <h3 className="font-bold text-gray-800 mb-4">‚ö° {idioma === 'val' ? "El perill de l'apalancament" : idioma === 'es' ? "El peligro del apalancamiento" : "The danger of leverage"}</h3>
                        <p className="text-sm text-gray-600 mb-4">{idioma === 'val' ? "L'apalancament et permet controlar posicions m√©s grans que els teus diners. Apalancament 10:1 significa que amb 100‚Ç¨ controles 1.000‚Ç¨. Multiplica guanys... i p√®rdues." : idioma === 'es' ? "El apalancamiento te permite controlar posiciones m√°s grandes que tu dinero. Apalancamiento 10:1 significa que con 100‚Ç¨ controlas 1.000‚Ç¨. Multiplica ganancias... y p√©rdidas." : "Leverage lets you control positions larger than your money. 10:1 leverage means with ‚Ç¨100 you control ‚Ç¨1,000. Multiplies gains... and losses."}</p>
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="p-4 bg-emerald-50 rounded-xl">
                                <p className="font-bold text-emerald-700">{idioma === 'val' ? "Si el preu puja 5%:" : idioma === 'es' ? "Si el precio sube 5%:" : "If price rises 5%:"}</p>
                                <p className="text-sm text-emerald-600">{idioma === 'val' ? "Sense apalancar: guanyes 5‚Ç¨ (5% de 100‚Ç¨)" : idioma === 'es' ? "Sin apalancar: ganas 5‚Ç¨ (5% de 100‚Ç¨)" : "Without leverage: gain ‚Ç¨5 (5% of ‚Ç¨100)"}</p>
                                <p className="text-sm text-emerald-600">{idioma === 'val' ? "Amb 10:1: guanyes 50‚Ç¨ (50% dels teus 100‚Ç¨!)" : idioma === 'es' ? "Con 10:1: ganas 50‚Ç¨ (50% de tus 100‚Ç¨!)" : "With 10:1: gain ‚Ç¨50 (50% of your ‚Ç¨100!)"}</p>
                            </div>
                            <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                <p className="font-bold text-red-700">{idioma === 'val' ? "Si el preu BAIXA 10%:" : idioma === 'es' ? "Si el precio BAJA 10%:" : "If price FALLS 10%:"}</p>
                                <p className="text-sm text-red-600">{idioma === 'val' ? "Sense apalancar: perds 10‚Ç¨" : idioma === 'es' ? "Sin apalancar: pierdes 10‚Ç¨" : "Without leverage: lose ‚Ç¨10"}</p>
                                <p className="text-sm text-red-600 font-bold">{idioma === 'val' ? "Amb 10:1: perds 100‚Ç¨ (TOT EL TEU CAPITAL!)" : idioma === 'es' ? "Con 10:1: pierdes 100‚Ç¨ (¬°TODO TU CAPITAL!)" : "With 10:1: lose ‚Ç¨100 (ALL YOUR CAPITAL!)"}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-violet-50 rounded-xl p-6 border border-violet-200">
                        <h3 className="font-bold text-violet-700 mb-4">üéØ {idioma === 'val' ? "Usos leg√≠tims dels derivats" : idioma === 'es' ? "Usos leg√≠timos de los derivados" : "Legitimate uses of derivatives"}</h3>
                        <div className="space-y-2 text-sm">
                            <p className="text-violet-600">‚úÖ <strong>{idioma === 'val' ? "Cobertura:" : idioma === 'es' ? "Cobertura:" : "Hedging:"}</strong> {idioma === 'val' ? "Un agricultor assegura el preu de la seva collita" : idioma === 'es' ? "Un agricultor asegura el precio de su cosecha" : "A farmer secures the price of their harvest"}</p>
                            <p className="text-violet-600">‚úÖ <strong>{idioma === 'val' ? "Cobertura divises:" : idioma === 'es' ? "Cobertura divisas:" : "Currency hedging:"}</strong> {idioma === 'val' ? "Una empresa es protegeix contra fluctuacions ‚Ç¨/$" : idioma === 'es' ? "Una empresa se protege contra fluctuaciones ‚Ç¨/$" : "A company protects against ‚Ç¨/$ fluctuations"}</p>
                            <p className="text-violet-600">‚úÖ <strong>{idioma === 'val' ? "Gesti√≥ professional:" : idioma === 'es' ? "Gesti√≥n profesional:" : "Professional management:"}</strong> {idioma === 'val' ? "Fons institucionals amb estrat√®gies sofisticades" : idioma === 'es' ? "Fondos institucionales con estrategias sofisticadas" : "Institutional funds with sophisticated strategies"}</p>
                        </div>
                        <div className="mt-4 p-3 bg-white rounded-lg">
                            <p className="text-sm text-violet-700">{idioma === 'val' ? "‚ùå NO s√≥n per a: especular sense coneixement, 'fer-se ric r√†pid', o el 99% d'inversors minoristes." : idioma === 'es' ? "‚ùå NO son para: especular sin conocimiento, 'hacerse rico r√°pido', o el 99% de inversores minoristas." : "‚ùå NOT for: speculating without knowledge, 'getting rich quick', or 99% of retail investors."}</p>
                        </div>
                    </div>
                </div>
            );

            const GlosarioModal = () => (
                <div className="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4" onClick={() => setShowGlosario(false)}>
                    <div className="bg-gradient-to-br from-amber-50 via-white to-pink-50 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden border border-gray-200" onClick={e => e.stopPropagation()}>
                        <div className="p-4 border-b border-gray-200 flex items-center justify-between"><h3 className="text-lg font-bold text-gray-800 flex items-center gap-2"><BookOpen className="text-pink-500" /> Glosario financiero</h3><button onClick={() => setShowGlosario(false)} className="p-2 hover:bg-white rounded-lg"><X className="text-gray-500" /></button></div>
                        <div className="p-4 border-b border-gray-200"><div className="relative"><Search className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" size={18} /><input type="text" placeholder="Buscar t√©rmino..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className="w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-800 focus:outline-none focus:border-emerald-500" /></div></div>
                        <div className="overflow-y-auto max-h-[50vh] p-4 space-y-2">{filteredGlosario.map((item, i) => (<div key={i} className="p-4 bg-white rounded-xl"><p className="font-bold text-pink-500">{item.term}</p><p className="text-sm text-gray-600 mt-1">{item.def}</p></div>))}</div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 via-white to-pink-50 text-gray-800">
                    <div className="fixed inset-0 overflow-hidden pointer-events-none"><div className="absolute top-0 left-1/4 w-96 h-96 bg-pink-200/30 rounded-full blur-3xl" /><div className="absolute bottom-0 right-1/4 w-96 h-96 bg-amber-200/30 rounded-full blur-3xl" /></div>
                    
                    {/* Header - estil economia */}
                    <header className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100 shadow-sm">
                        <div className="max-w-7xl mx-auto px-4">
                            <div className="flex items-center justify-between h-16">
                                <button onClick={() => setSection('inicio')} className="flex items-center gap-2">
                                    <div className="p-2 bg-pink-500 rounded-xl text-white"><TrendingUp size={20} /></div>
                                    <span className="font-bold text-lg text-gray-800 hidden sm:block">{t('title')}</span>
                                </button>
                                
                                <nav className="hidden xl:flex items-center gap-1">
                                    <NavBtn sec="inicio" icono={Zap} label={t('nav', 'inicio')} />
                                    <NavBtn sec="gestion" icono={Wallet} label={t('nav', 'gestion')} />
                                    <NavBtn sec="activos" icono={BarChart3} label={t('nav', 'activos')} />
                                    <NavBtn sec="calc" icono={Calculator} label={t('nav', 'calc')} />
                                    <NavBtn sec="cartera" icono={PieChartIcon} label={t('nav', 'cartera')} />
                                    <NavBtn sec="estrategias" icono={Target} label={t('nav', 'estrategias')} />
                                    <NavBtn sec="psicologia" icono={Brain} label={t('nav', 'psicologia')} />
                                    <NavBtn sec="brokers" icono={Building} label={t('nav', 'brokers')} />
                                    <NavBtn sec="bitcoin" icono={Coins} label="‚Çø BTC" />
                                    <NavBtn sec="fiscalitat" icono={() => <span>üßæ</span>} label={t('nav', 'fiscalitat')} />
                                    <NavBtn sec="analisi" icono={() => <span>üìà</span>} label={t('nav', 'analisi')} />
                                    <NavBtn sec="derivats" icono={() => <span>‚öñÔ∏è</span>} label={t('nav', 'derivats')} />
                                    <NavBtn sec="quiz" icono={GraduationCap} label={t('nav', 'quiz')} />
                                    <NavBtn sec="test" icono={Award} label={t('nav', 'test')} />
                                </nav>
                                
                                <div className="flex items-center gap-2">
                                    <a href="./index.html" className="p-2 text-gray-600 hover:text-pink-500 hover:bg-pink-50 rounded-lg" title={idioma === 'val' ? 'Tornar' : idioma === 'es' ? 'Volver' : 'Back'}>
                                        <Home size={20} />
                                    </a>
                                    <LanguageSelector />
                                    <button onClick={() => setMenuOpen(!menuOpen)} className="xl:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                                        {menuOpen ? <X size={24} /> : <Menu size={24} />}
                                    </button>
                                </div>
                            </div>
                            
                            {menuOpen && (
                                <div className="xl:hidden py-4 border-t border-gray-100">
                                    <div className="grid grid-cols-5 gap-2">
                                        {[
                                            { sec: 'inicio', icon: 'üè†', label: t('nav', 'inicio') },
                                            { sec: 'gestion', icon: 'üëõ', label: t('nav', 'gestion') },
                                            { sec: 'activos', icon: 'üìä', label: t('nav', 'activos') },
                                            { sec: 'calc', icon: 'üßÆ', label: t('nav', 'calc') },
                                            { sec: 'cartera', icon: 'ü•ß', label: t('nav', 'cartera') },
                                            { sec: 'estrategias', icon: 'üéØ', label: t('nav', 'estrategias') },
                                            { sec: 'psicologia', icon: 'üß†', label: t('nav', 'psicologia') },
                                            { sec: 'brokers', icon: 'üè¢', label: t('nav', 'brokers') },
                                            { sec: 'bitcoin', icon: '‚Çø', label: 'Bitcoin' },
                                            { sec: 'fiscalitat', icon: 'üßæ', label: t('nav', 'fiscalitat') },
                                            { sec: 'analisi', icon: 'üìà', label: t('nav', 'analisi') },
                                            { sec: 'derivats', icon: '‚öñÔ∏è', label: t('nav', 'derivats') },
                                            { sec: 'quiz', icon: 'üéì', label: t('nav', 'quiz') },
                                            { sec: 'test', icon: 'üèÜ', label: t('nav', 'test') },
                                        ].map(item => (
                                            <button key={item.sec} onClick={() => { setSection(item.sec); setMenuOpen(false); }} className={`p-3 rounded-lg text-center ${section === item.sec ? 'bg-pink-100 text-pink-700' : 'bg-gray-50 text-gray-600 hover:bg-gray-100'}`}>
                                                <span className="text-xl block mb-1">{item.icon}</span>
                                                <span className="text-xs font-medium">{item.label}</span>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                    </header>
                    
                    {/* Main */}
                    <main className="max-w-7xl mx-auto px-4 py-8">
                        {section === 'inicio' && <Inicio />}
                        {section === 'gestion' && <Gestion />}
                        {section === 'activos' && <Activos />}
                        {section === 'calc' && <Calculadora />}
                        {section === 'cartera' && <Cartera />}
                        {section === 'estrategias' && <Estrategias />}
                        {section === 'psicologia' && <Psicologia />}
                        {section === 'brokers' && <Brokers />}
                        {section === 'bitcoin' && <Bitcoin />}
                        {section === 'fiscalitat' && <Fiscalitat />}
                        {section === 'analisi' && <Analisi />}
                        {section === 'derivats' && <Derivats />}
                        {section === 'quiz' && <Quiz />}
                        {section === 'test' && <Test />}
                    </main>
                    <button onClick={() => window.open(`https://wa.me/?text=${encodeURIComponent('üìä ' + (idioma === 'val' ? 'Guia COMPLETA de Finances Personals' : idioma === 'es' ? 'Gu√≠a COMPLETA de Finanzas Personales' : 'Complete Personal Finance Guide') + '\n\n‚úÖ ' + t('nav', 'calc') + '\n‚úÖ ' + t('nav', 'cartera') + '\n‚úÖ ' + t('nav', 'test') + '\n‚úÖ ' + t('nav', 'quiz') + '\n‚úÖ ' + t('nav', 'brokers') + '\n\nüöÄ ' + (idioma === 'val' ? 'Tot interactiu!' : idioma === 'es' ? '¬°Todo interactivo!' : 'All interactive!'))}`, '_blank')} className="fixed bottom-6 right-6 p-4 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full shadow-lg shadow-emerald-500/25 hover:scale-110 transition-all z-50"><Smartphone size={24} /></button>
                    <button onClick={() => setShowGlosario(true)} className="fixed bottom-6 left-6 p-4 bg-white rounded-full shadow-lg hover:scale-110 transition-all z-50 border border-gray-200"><BookOpen size={24} /></button>
                    {showGlosario && <GlosarioModal />}
                </div>
            );
        }

        ReactDOM.render(<FinanzasApp />, document.getElementById('root'));
    </script>
</body>
</html>
