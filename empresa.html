<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empresa - Gesti√≥ Empresarial Completa | PDE</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.4s ease-out; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-white to-blue-50 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
const { useState, useMemo } = React;

function EmpresaApp() {
    const [section, setSection] = useState('inicio');
    const [menuOpen, setMenuOpen] = useState(false);
    const [idioma, setIdioma] = useState('val');

    const t = (val, es, en) => idioma === 'val' ? val : idioma === 'es' ? es : en;

    const Card = ({ children, className = "", title, icon }) => (
        <div className={`bg-white rounded-2xl shadow-sm border border-slate-200/60 p-6 hover:shadow-md transition-shadow ${className} animate-fade`}>
            {title && <div className="flex items-center gap-3 mb-5 pb-4 border-b border-slate-100"><span className="text-2xl">{icon}</span><h3 className="font-bold text-slate-800 text-lg">{title}</h3></div>}
            {children}
        </div>
    );
    
    const Slider = ({ label, value, onChange, min, max, step = 1, suffix = "" }) => (
        <div className="space-y-2">
            <div className="flex justify-between text-sm"><span className="text-slate-600 font-medium">{label}</span><span className="font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded">{typeof value === 'number' ? value.toLocaleString() : value}{suffix}</span></div>
            <input type="range" min={min} max={max} step={step} value={value} onChange={e => onChange(Number(e.target.value))} className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500" />
        </div>
    );
    
    const Tabs = ({ tabs, active, onChange }) => (
        <div className="flex flex-wrap gap-1 p-1.5 bg-slate-100 rounded-xl">
            {tabs.map(tab => (
                <button key={tab.id} onClick={() => onChange(tab.id)} className={`flex-1 min-w-fit py-2.5 px-4 rounded-lg text-sm font-semibold transition-all ${active === tab.id ? 'bg-white shadow-sm text-blue-600' : 'text-slate-600 hover:text-slate-800 hover:bg-white/50'}`}>
                    {tab.label}
                </button>
            ))}
        </div>
    );
    
    const FormulaBox = ({ formula, desc }) => (
        <div className="my-4 p-5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100">
            <p className="text-center font-mono text-lg text-blue-800 font-semibold">{formula}</p>
            {desc && <p className="text-center text-sm text-blue-600 mt-2">{desc}</p>}
        </div>
    );
    
    const TheoryBlock = ({ title, children, color = "slate" }) => {
        const colors = { slate: "border-slate-300 bg-slate-50", blue: "border-blue-300 bg-blue-50", green: "border-green-300 bg-green-50", amber: "border-amber-300 bg-amber-50", pink: "border-pink-300 bg-pink-50", violet: "border-violet-300 bg-violet-50", red: "border-red-300 bg-red-50", cyan: "border-cyan-300 bg-cyan-50", emerald: "border-emerald-300 bg-emerald-50" };
        return (
            <div className={`border-l-4 ${colors[color]} p-5 rounded-r-xl my-4`}>
                {title && <h4 className="font-bold text-slate-800 mb-3 text-base">{title}</h4>}
                <div className="text-slate-700 text-sm leading-relaxed space-y-2">{children}</div>
            </div>
        );
    };
    
    const ResultCard = ({ title, value, color = "gray", subtitle }) => {
        const colorClasses = { green: 'bg-green-50 border-green-200 text-green-700', red: 'bg-red-50 border-red-200 text-red-700', blue: 'bg-blue-50 border-blue-200 text-blue-700', amber: 'bg-amber-50 border-amber-200 text-amber-700', violet: 'bg-violet-50 border-violet-200 text-violet-700', gray: 'bg-slate-50 border-slate-200 text-slate-700' };
        return (
            <div className={`p-4 rounded-xl text-center border ${colorClasses[color]}`}>
                <p className="text-xs text-slate-500 mb-1 font-medium">{title}</p>
                <p className="text-xl font-black">{value}</p>
                {subtitle && <p className="text-xs mt-1 opacity-75">{subtitle}</p>}
            </div>
        );
    };

    const NavBtn = ({ sec, icon, label }) => (
        <button onClick={() => { setSection(sec); setMenuOpen(false); }} className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-semibold transition-all ${section === sec ? 'bg-blue-100 text-blue-700' : 'text-slate-600 hover:bg-slate-100'}`}>
            <span>{icon}</span><span className="hidden xl:inline">{label}</span>
        </button>
    );

    const SectionTitle = ({ icon, title, subtitle }) => (
        <div className="mb-8">
            <div className="flex items-center gap-3 mb-2"><span className="text-3xl">{icon}</span><h1 className="text-3xl font-black text-slate-800">{title}</h1></div>
            {subtitle && <p className="text-slate-500 ml-12">{subtitle}</p>}
        </div>
    );

    // SECCI√ì INICI
    const Inicio = () => {
        const sections = [
            { id: 'comptabilitat', name: t('Comptabilitat', 'Contabilidad', 'Accounting'), icon: 'üìí', color: 'from-blue-500 to-indigo-500', desc: t('Balan√ß, PiG, cicle comptable', 'Balance, PyG, ciclo contable', 'Balance, P&L, accounting cycle') },
            { id: 'analisi', name: t('An√†lisi Financera', 'An√°lisis Financiero', 'Financial Analysis'), icon: 'üìä', color: 'from-green-500 to-emerald-500', desc: t('R√†tios, fons maniobra', 'Ratios, fondo maniobra', 'Ratios, working capital') },
            { id: 'costos', name: t('Costos i Punt Mort', 'Costes y Umbral', 'Costs & Break-even'), icon: 'üí∞', color: 'from-amber-500 to-orange-500', desc: t('CF, CV, umbral rendibilitat', 'CF, CV, umbral rentabilidad', 'FC, VC, break-even point') },
            { id: 'inversio', name: t('Inversi√≥', 'Inversi√≥n', 'Investment'), icon: 'üìà', color: 'from-violet-500 to-purple-500', desc: 'VAN, TIR, Payback' },
            { id: 'fiscalitat', name: t('Fiscalitat', 'Fiscalidad', 'Taxation'), icon: 'üèõÔ∏è', color: 'from-red-500 to-rose-500', desc: 'IS, IVA, IRPF' },
            { id: 'produccio', name: t('Producci√≥', 'Producci√≥n', 'Production'), icon: 'üè≠', color: 'from-cyan-500 to-teal-500', desc: t('Productivitat, JIT, Lean, qualitat', 'Productividad, JIT, Lean, calidad', 'Productivity, JIT, Lean, quality') },
            { id: 'rrhh', name: t('Recursos Humans', 'Recursos Humanos', 'Human Resources'), icon: 'üë•', color: 'from-indigo-500 to-blue-500', desc: t('Motivaci√≥, lideratge, organitzaci√≥', 'Motivaci√≥n, liderazgo, organizaci√≥n', 'Motivation, leadership, organization') },
            { id: 'marketing', name: 'Marketing', icon: 'üì£', color: 'from-fuchsia-500 to-pink-500', desc: t('4Ps, BCG, cicle vida, investigaci√≥', '4Ps, BCG, ciclo vida, investigaci√≥n', '4Ps, BCG, life cycle, research') },
            { id: 'estrategia', name: t('Estrat√®gia', 'Estrategia', 'Strategy'), icon: 'üéØ', color: 'from-slate-600 to-slate-700', desc: t('DAFO, Porter, Canvas, Ansoff', 'DAFO, Porter, Canvas, Ansoff', 'SWOT, Porter, Canvas, Ansoff') },
            { id: 'formes', name: t('Formes Jur√≠diques', 'Formas Jur√≠dicas', 'Legal Forms'), icon: '‚öñÔ∏è', color: 'from-amber-600 to-yellow-500', desc: t('SA, SL, cooperatives, aut√≤noms', 'SA, SL, cooperativas, aut√≥nomos', 'Ltd, Corp, cooperatives') },
            { id: 'financament', name: t('Finan√ßament', 'Financiaci√≥n', 'Financing'), icon: 'üè¶', color: 'from-emerald-500 to-green-500', desc: t('Fonts, pr√©stecs, leasing', 'Fuentes, pr√©stamos, leasing', 'Sources, loans, leasing') },
            { id: 'emprenedoria', name: t('Emprenedoria', 'Emprendimiento', 'Entrepreneurship'), icon: 'üöÄ', color: 'from-orange-500 to-red-500', desc: t('Pla empresa, Lean Startup', 'Plan empresa, Lean Startup', 'Business plan, Lean Startup') },
        ];
        
        return (
            <div className="space-y-8 animate-fade">
                <div className="text-center py-10">
                    <div className="inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-4 py-1.5 rounded-full text-sm font-semibold mb-4">
                        <span>üéì</span> {t('Plataforma Did√†ctica', 'Plataforma Did√°ctica', 'Educational Platform')}
                    </div>
                    <h1 className="text-5xl md:text-6xl font-black text-slate-800 mb-4">{t("Economia de l'Empresa", 'Econom√≠a de la Empresa', 'Business Economics')}</h1>
                    <p className="text-xl text-slate-500 max-w-2xl mx-auto">{t('Gesti√≥ empresarial completa amb teoria i simuladors interactius', 'Gesti√≥n empresarial completa con teor√≠a y simuladores interactivos', 'Complete business management with theory and interactive simulators')}</p>
                </div>
                <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                    {sections.map(sec => (
                        <button key={sec.id} onClick={() => setSection(sec.id)} className="group text-left bg-white rounded-2xl border border-slate-200/60 overflow-hidden hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
                            <div className={`p-4 bg-gradient-to-r ${sec.color} text-white`}><span className="text-3xl">{sec.icon}</span></div>
                            <div className="p-4">
                                <h3 className="font-bold text-slate-800 group-hover:text-blue-600 transition-colors">{sec.name}</h3>
                                <p className="text-sm text-slate-500 mt-1">{sec.desc}</p>
                            </div>
                        </button>
                    ))}
                </div>
            </div>
        );
    };

    // SECCI√ì COMPTABILITAT
    const Comptabilitat = () => {
        const [tab, setTab] = useState('teoria');
        const [actNC, setActNC] = useState(50000);
        const [actC, setActC] = useState(30000);
        const [patrimoniNet, setPatrimoniNet] = useState(40000);
        const [passNC, setPassNC] = useState(25000);
        const [passC, setPassC] = useState(15000);
        const [vendes, setVendes] = useState(100000);
        const [costVendes, setCostVendes] = useState(60000);
        const [despesesOp, setDespesesOp] = useState(20000);
        const [impostos, setImpostos] = useState(25);
        
        const balans = useMemo(() => {
            const totalActiu = actNC + actC;
            const totalPassiuPN = patrimoniNet + passNC + passC;
            const quadra = totalActiu === totalPassiuPN;
            const fonsManiobra = actC - passC;
            return { totalActiu, totalPassiuPN, quadra, fonsManiobra };
        }, [actNC, actC, patrimoniNet, passNC, passC]);
        
        const pig = useMemo(() => {
            const margeB = vendes - costVendes;
            const EBITDA = margeB - despesesOp;
            const beneficiNet = EBITDA * (1 - impostos/100);
            return { margeB, EBITDA, beneficiNet: beneficiNet.toFixed(0), margeNet: ((beneficiNet/vendes)*100).toFixed(1) };
        }, [vendes, costVendes, despesesOp, impostos]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìí" title={t('Comptabilitat', 'Contabilidad', 'Accounting')} subtitle={t("Registre sistem√†tic de l'activitat econ√≤mica", 'Registro sistem√°tico de la actividad econ√≥mica', 'Systematic recording of economic activity')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'balans', label: t('üìí Balan√ß', 'üìí Balance', 'üìí Balance Sheet') },
                    { id: 'pig', label: t('üìä Compte PiG', 'üìä PyG', 'üìä P&L') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Qu√® √©s la Comptabilitat?", "¬øQu√© es la Contabilidad?", "What is Accounting?")} icon="üìö">
                            <TheoryBlock title={t("Definici√≥", "Definici√≥n", "Definition")} color="blue">
                                <p>{t("La comptabilitat √©s la ci√®ncia econ√≤mica que estudia el patrimoni empresarial, les normes i fonaments que regulen el seu registre i els m√®todes per analitzar i interpretar la informaci√≥ econ√≤mico-financera.", "La contabilidad es la ciencia econ√≥mica que estudia el patrimonio empresarial, las normas y fundamentos que regulan su registro y los m√©todos para analizar e interpretar la informaci√≥n econ√≥mico-financiera.", "Accounting is the economic science that studies business assets, the rules and fundamentals that regulate their recording, and the methods to analyze and interpret economic-financial information.")}</p>
                            </TheoryBlock>
                            
                            <TheoryBlock title={t("El Patrimoni Empresarial", "El Patrimonio Empresarial", "Business Equity")} color="green">
                                <p><strong>{t("B√©ns", "Bienes", "Assets")}:</strong> {t("Elements materials o immaterials que posseeix l'empresa (edificis, maquin√†ria, patents)", "Elementos materiales o inmateriales que posee la empresa (edificios, maquinaria, patentes)", "Material or immaterial elements owned by the company")}</p>
                                <p><strong>{t("Drets", "Derechos", "Rights")}:</strong> {t("Imports que tercers deuen a l'empresa (clients, efectes a cobrar)", "Importes que terceros deben a la empresa (clientes, efectos a cobrar)", "Amounts owed to the company by third parties")}</p>
                                <p><strong>{t("Obligacions", "Obligaciones", "Liabilities")}:</strong> {t("Deutes que l'empresa t√© amb tercers (prove√Ødors, pr√©stecs)", "Deudas que la empresa tiene con terceros (proveedores, pr√©stamos)", "Debts the company has with third parties")}</p>
                            </TheoryBlock>
                            
                            <FormulaBox formula={t("PATRIMONI NET = B√âNS + DRETS - OBLIGACIONS", "PATRIMONIO NETO = BIENES + DERECHOS - OBLIGACIONES", "NET WORTH = ASSETS + RIGHTS - LIABILITIES")} />
                        </Card>
                        
                        <Card title={t("El Balan√ß de Situaci√≥", "El Balance de Situaci√≥n", "The Balance Sheet")} icon="üìã">
                            <TheoryBlock color="violet">
                                <p>{t("El balan√ß de situaci√≥ √©s un document comptable que reflecteix la situaci√≥ patrimonial de l'empresa en un moment determinat.", "El balance de situaci√≥n es un documento contable que refleja la situaci√≥n patrimonial de la empresa en un momento determinado.", "The balance sheet is an accounting document that reflects the company's financial position at a specific moment.")}</p>
                            </TheoryBlock>
                            
                            <div className="grid md:grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <h4 className="font-bold text-blue-700 mb-3">üì• {t("ACTIU (Inversions)", "ACTIVO (Inversiones)", "ASSETS")}</h4>
                                    <div className="space-y-2 text-sm">
                                        <div className="p-2 bg-white rounded-lg">
                                            <p className="font-semibold text-blue-600">{t("Actiu No Corrent (ANC)", "Activo No Corriente", "Non-Current Assets")}</p>
                                            <p className="text-slate-600">{t("B√©ns que romanen > 1 any: immobilitzat material, intangible, financer", "Bienes que permanecen > 1 a√±o", "Assets remaining > 1 year")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded-lg">
                                            <p className="font-semibold text-blue-600">{t("Actiu Corrent (AC)", "Activo Corriente", "Current Assets")}</p>
                                            <p className="text-slate-600">{t("B√©ns < 1 any: exist√®ncies, clients, tresoreria", "Bienes < 1 a√±o: existencias, clientes, tesorer√≠a", "Assets < 1 year: inventory, receivables, cash")}</p>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700 mb-3">üì§ PN + PASSIU</h4>
                                    <div className="space-y-2 text-sm">
                                        <div className="p-2 bg-white rounded-lg">
                                            <p className="font-semibold text-green-600">{t("Patrimoni Net", "Patrimonio Neto", "Net Equity")}</p>
                                            <p className="text-slate-600">{t("Capital social, reserves, resultat", "Capital social, reservas, resultado", "Share capital, reserves, profit")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded-lg">
                                            <p className="font-semibold text-green-600">{t("Passiu No Corrent", "Pasivo No Corriente", "Non-Current Liabilities")}</p>
                                            <p className="text-slate-600">{t("Deutes > 1 any: pr√©stecs, hipoteques", "Deudas > 1 a√±o", "Debts > 1 year")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded-lg">
                                            <p className="font-semibold text-green-600">{t("Passiu Corrent", "Pasivo Corriente", "Current Liabilities")}</p>
                                            <p className="text-slate-600">{t("Deutes < 1 any: prove√Ødors", "Deudas < 1 a√±o: proveedores", "Debts < 1 year: suppliers")}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <FormulaBox formula="ACTIU = PATRIMONI NET + PASSIU" desc={t("Equaci√≥ fonamental del patrimoni", "Ecuaci√≥n fundamental del patrimonio", "Fundamental equity equation")} />
                        </Card>
                    </div>
                )}
                
                {tab === 'balans' && (
                    <Card title={t("üìí Simulador de Balan√ß", "üìí Simulador de Balance", "üìí Balance Sheet Simulator")} icon="üìí">
                        <FormulaBox formula="ACTIU = PATRIMONI NET + PASSIU" />
                        <div className="grid md:grid-cols-2 gap-6 mt-6">
                            <div>
                                <h4 className="font-bold text-blue-600 mb-4 text-lg">üì• ACTIU</h4>
                                <div className="space-y-4">
                                    <Slider label={t("Actiu No Corrent", "Activo No Corriente", "Non-Current Assets")} value={actNC} onChange={setActNC} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                    <Slider label={t("Actiu Corrent", "Activo Corriente", "Current Assets")} value={actC} onChange={setActC} min={0} max={100000} step={5000} suffix="‚Ç¨" />
                                    <ResultCard title="TOTAL ACTIU" value={balans.totalActiu.toLocaleString() + "‚Ç¨"} color="blue" />
                                </div>
                            </div>
                            <div>
                                <h4 className="font-bold text-green-600 mb-4 text-lg">üì§ PN + PASSIU</h4>
                                <div className="space-y-4">
                                    <Slider label="Patrimoni Net" value={patrimoniNet} onChange={setPatrimoniNet} min={0} max={150000} step={5000} suffix="‚Ç¨" />
                                    <Slider label={t("Passiu No Corrent", "Pasivo No Corriente", "Non-Current Liabilities")} value={passNC} onChange={setPassNC} min={0} max={100000} step={5000} suffix="‚Ç¨" />
                                    <Slider label={t("Passiu Corrent", "Pasivo Corriente", "Current Liabilities")} value={passC} onChange={setPassC} min={0} max={50000} step={5000} suffix="‚Ç¨" />
                                    <ResultCard title="TOTAL PN+PASSIU" value={balans.totalPassiuPN.toLocaleString() + "‚Ç¨"} color="green" />
                                </div>
                            </div>
                        </div>
                        <div className={`mt-6 p-4 rounded-xl text-center ${balans.quadra ? 'bg-green-100 border border-green-300' : 'bg-red-100 border border-red-300'}`}>
                            <p className={`font-bold text-lg ${balans.quadra ? 'text-green-700' : 'text-red-700'}`}>
                                {balans.quadra ? '‚úì BALAN√á QUADRAT' : '‚úó EL BALAN√á NO QUADRA'}
                            </p>
                            <p className="text-sm mt-2">{t('Fons de Maniobra', 'Fondo de Maniobra', 'Working Capital')}: <strong className={balans.fonsManiobra >= 0 ? 'text-green-600' : 'text-red-600'}>{balans.fonsManiobra.toLocaleString()}‚Ç¨</strong></p>
                        </div>
                    </Card>
                )}
                
                {tab === 'pig' && (
                    <Card title={t("üìä Simulador Compte de PiG", "üìä Simulador Cuenta PyG", "üìä P&L Simulator")} icon="üìä">
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Vendes", "Ventas", "Sales")} value={vendes} onChange={setVendes} min={0} max={500000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Cost de Vendes", "Coste de Ventas", "COGS")} value={costVendes} onChange={setCostVendes} min={0} max={400000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Despeses Operatives", "Gastos Operativos", "Operating Expenses")} value={despesesOp} onChange={setDespesesOp} min={0} max={100000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Tipus Impositiu", "Tipo Impositivo", "Tax Rate")} value={impostos} onChange={setImpostos} min={0} max={50} suffix="%" />
                            </div>
                            <div className="grid grid-cols-2 gap-3">
                                <ResultCard title={t("Marge Brut", "Margen Bruto", "Gross Margin")} value={pig.margeB.toLocaleString() + "‚Ç¨"} color="blue" />
                                <ResultCard title="EBITDA" value={pig.EBITDA.toLocaleString() + "‚Ç¨"} color="amber" />
                                <ResultCard title={t("Benefici Net", "Beneficio Neto", "Net Profit")} value={parseInt(pig.beneficiNet).toLocaleString() + "‚Ç¨"} color={parseInt(pig.beneficiNet) >= 0 ? "green" : "red"} />
                                <ResultCard title={t("Marge Net", "Margen Neto", "Net Margin")} value={pig.margeNet + "%"} color={parseFloat(pig.margeNet) > 0 ? "green" : "red"} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì AN√ÄLISI FINANCERA
    const AnalisiFinancera = () => {
        const [tab, setTab] = useState('teoria');
        const [actC, setActC] = useState(50000);
        const [existencies, setExistencies] = useState(15000);
        const [disponible, setDisponible] = useState(10000);
        const [passC, setPassC] = useState(30000);
        const [actiu, setActiu] = useState(120000);
        const [passiu, setPassiu] = useState(70000);
        const [benefici, setBenefici] = useState(15000);
        const [pn, setPN] = useState(50000);
        
        const ratios = useMemo(() => ({
            liquiditat: (actC / passC).toFixed(2),
            acidTest: ((actC - existencies) / passC).toFixed(2),
            disponibilitat: (disponible / passC).toFixed(2),
            endeutament: ((passiu / (passiu + pn)) * 100).toFixed(1),
            autonomia: ((pn / (passiu + pn)) * 100).toFixed(1),
            ROA: ((benefici / actiu) * 100).toFixed(1),
            ROE: ((benefici / pn) * 100).toFixed(1),
            fonsManiobra: actC - passC,
        }), [actC, existencies, disponible, passC, actiu, passiu, benefici, pn]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìä" title={t('An√†lisi Financera', 'An√°lisis Financiero', 'Financial Analysis')} subtitle={t("Diagn√≤stic de la salut econ√≤mica de l'empresa", 'Diagn√≥stico de la salud econ√≥mica', 'Diagnosis of economic health')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'simulador', label: t('üßÆ Simulador', 'üßÆ Simulador', 'üßÆ Simulator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("R√†tios de Liquiditat", "Ratios de Liquidez", "Liquidity Ratios")} icon="üíß">
                            <TheoryBlock color="blue">
                                <p>{t("Mesuren la capacitat de l'empresa per fer front als seus pagaments a curt termini.", "Miden la capacidad de la empresa para hacer frente a sus pagos a corto plazo.", "They measure the company's ability to meet its short-term payments.")}</p>
                            </TheoryBlock>
                            
                            <div className="grid md:grid-cols-3 gap-4 mt-4">
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">{t("R√†tio de Liquiditat", "Ratio de Liquidez", "Current Ratio")}</h4>
                                    <FormulaBox formula="AC / PC" />
                                    <p className="text-sm text-slate-600">{t("Ideal: 1,5 - 2", "Ideal: 1,5 - 2", "Ideal: 1.5 - 2")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl">
                                    <h4 className="font-bold text-green-700">{t("Test √Äcid", "Test √Åcido", "Acid Test")}</h4>
                                    <FormulaBox formula="(AC - Exist.) / PC" />
                                    <p className="text-sm text-slate-600">{t("Ideal: ‚âà 1", "Ideal: ‚âà 1", "Ideal: ‚âà 1")}</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl">
                                    <h4 className="font-bold text-amber-700">{t("Disponibilitat", "Disponibilidad", "Cash Ratio")}</h4>
                                    <FormulaBox formula="Disponible / PC" />
                                    <p className="text-sm text-slate-600">{t("Ideal: 0,1 - 0,3", "Ideal: 0,1 - 0,3", "Ideal: 0.1 - 0.3")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("R√†tios d'Endeutament", "Ratios de Endeudamiento", "Leverage Ratios")} icon="‚öñÔ∏è">
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="p-4 bg-red-50 rounded-xl">
                                    <h4 className="font-bold text-red-700">{t("Endeutament", "Endeudamiento", "Debt Ratio")}</h4>
                                    <FormulaBox formula="Passiu / (PN + Passiu)" />
                                    <p className="text-sm text-slate-600">{t("Ideal: 40% - 60%", "Ideal: 40% - 60%", "Ideal: 40% - 60%")}</p>
                                </div>
                                <div className="p-4 bg-emerald-50 rounded-xl">
                                    <h4 className="font-bold text-emerald-700">{t("Autonomia Financera", "Autonom√≠a Financiera", "Financial Autonomy")}</h4>
                                    <FormulaBox formula="PN / (PN + Passiu)" />
                                    <p className="text-sm text-slate-600">{t("Ideal: 40% - 60%", "Ideal: 40% - 60%", "Ideal: 40% - 60%")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("R√†tios de Rendibilitat", "Ratios de Rentabilidad", "Profitability Ratios")} icon="üìà">
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="p-4 bg-green-50 rounded-xl">
                                    <h4 className="font-bold text-green-700">ROA (Return on Assets)</h4>
                                    <FormulaBox formula="Benefici Net / Actiu √ó 100" />
                                    <p className="text-sm text-slate-600">{t("Rendibilitat econ√≤mica. Ideal: > 5%", "Rentabilidad econ√≥mica. Ideal: > 5%", "Economic profitability. Ideal: > 5%")}</p>
                                </div>
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">ROE (Return on Equity)</h4>
                                    <FormulaBox formula="Benefici Net / PN √ó 100" />
                                    <p className="text-sm text-slate-600">{t("Rendibilitat financera. Ideal: > 10%", "Rentabilidad financiera. Ideal: > 10%", "Financial profitability. Ideal: > 10%")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Fons de Maniobra", "Fondo de Maniobra", "Working Capital")} icon="üîÑ">
                            <FormulaBox formula="FM = Actiu Corrent - Passiu Corrent" />
                            <div className="grid md:grid-cols-3 gap-4 mt-4">
                                <div className="p-4 bg-green-100 rounded-xl border border-green-300">
                                    <h4 className="font-bold text-green-700">FM &gt; 0 ‚úì</h4>
                                    <p className="text-sm text-green-600 mt-2">{t("Situaci√≥ d'equilibri", "Situaci√≥n de equilibrio", "Balanced situation")}</p>
                                </div>
                                <div className="p-4 bg-amber-100 rounded-xl border border-amber-300">
                                    <h4 className="font-bold text-amber-700">FM = 0 ‚ö†Ô∏è</h4>
                                    <p className="text-sm text-amber-600 mt-2">{t("Situaci√≥ l√≠mit", "Situaci√≥n l√≠mite", "Borderline situation")}</p>
                                </div>
                                <div className="p-4 bg-red-100 rounded-xl border border-red-300">
                                    <h4 className="font-bold text-red-700">FM &lt; 0 ‚úó</h4>
                                    <p className="text-sm text-red-600 mt-2">{t("Desequilibri financer", "Desequilibrio financiero", "Financial imbalance")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <Card title={t("üßÆ Calculadora de R√†tios", "üßÆ Calculadora de Ratios", "üßÆ Ratio Calculator")} icon="üìä">
                        <div className="grid lg:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Actiu Corrent", "Activo Corriente", "Current Assets")} value={actC} onChange={setActC} min={10000} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Exist√®ncies", "Existencias", "Inventory")} value={existencies} onChange={setExistencies} min={0} max={actC} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Disponible", "Disponible", "Cash")} value={disponible} onChange={setDisponible} min={0} max={actC - existencies} step={1000} suffix="‚Ç¨" />
                                <Slider label={t("Passiu Corrent", "Pasivo Corriente", "Current Liabilities")} value={passC} onChange={setPassC} min={10000} max={100000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Actiu Total", "Activo Total", "Total Assets")} value={actiu} onChange={setActiu} min={50000} max={500000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Passiu Total", "Pasivo Total", "Total Liabilities")} value={passiu} onChange={setPassiu} min={10000} max={300000} step={10000} suffix="‚Ç¨" />
                                <Slider label="Patrimoni Net" value={pn} onChange={setPN} min={10000} max={200000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Benefici Net", "Beneficio Neto", "Net Profit")} value={benefici} onChange={setBenefici} min={-50000} max={100000} step={5000} suffix="‚Ç¨" />
                            </div>
                            <div className="grid grid-cols-2 gap-3">
                                <ResultCard title={t("Liquiditat", "Liquidez", "Current Ratio")} value={ratios.liquiditat} color={parseFloat(ratios.liquiditat) >= 1.5 ? "green" : parseFloat(ratios.liquiditat) >= 1 ? "amber" : "red"} subtitle={t("Ideal: 1,5-2", "Ideal: 1,5-2", "Ideal: 1.5-2")} />
                                <ResultCard title="Acid Test" value={ratios.acidTest} color={parseFloat(ratios.acidTest) >= 1 ? "green" : "amber"} subtitle={t("Ideal: ‚âà 1", "Ideal: ‚âà 1", "Ideal: ‚âà 1")} />
                                <ResultCard title={t("Disponibilitat", "Disponibilidad", "Cash Ratio")} value={ratios.disponibilitat} color={parseFloat(ratios.disponibilitat) >= 0.1 ? "green" : "amber"} />
                                <ResultCard title={t("Endeutament", "Endeudamiento", "Debt Ratio")} value={ratios.endeutament + "%"} color={parseFloat(ratios.endeutament) <= 60 ? "green" : "red"} />
                                <ResultCard title="ROA" value={ratios.ROA + "%"} color={parseFloat(ratios.ROA) > 5 ? "green" : "amber"} />
                                <ResultCard title="ROE" value={ratios.ROE + "%"} color={parseFloat(ratios.ROE) > 10 ? "green" : "amber"} />
                                <ResultCard title={t("Autonomia", "Autonom√≠a", "Autonomy")} value={ratios.autonomia + "%"} color={parseFloat(ratios.autonomia) >= 40 ? "green" : "red"} />
                                <ResultCard title={t("Fons Maniobra", "Fondo Maniobra", "Working Capital")} value={ratios.fonsManiobra.toLocaleString() + "‚Ç¨"} color={ratios.fonsManiobra > 0 ? "green" : "red"} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì COSTOS I PUNT MORT
    const CostosPuntMort = () => {
        const [tab, setTab] = useState('teoria');
        const [cf, setCF] = useState(50000);
        const [cv, setCV] = useState(30);
        const [preu, setPreu] = useState(80);
        const [q, setQ] = useState(1500);
        
        const calc = useMemo(() => {
            const mc = preu - cv;
            const qEq = mc > 0 ? cf / mc : 0;
            const it = preu * q;
            const ct = cf + cv * q;
            const benefici = it - ct;
            const margeSeguretat = q > 0 && qEq > 0 ? (((q - qEq) / q) * 100) : 0;
            return { mc, qEq: qEq.toFixed(0), it, ct, benefici, margeSeguretat: margeSeguretat.toFixed(1) };
        }, [cf, cv, preu, q]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üí∞" title={t('Costos i Punt Mort', 'Costes y Umbral', 'Costs & Break-even')} subtitle={t("An√†lisi de l'estructura de costos", 'An√°lisis de la estructura de costes', 'Cost structure analysis')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'simulador', label: t('üìà Simulador', 'üìà Simulador', 'üìà Simulator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Classificaci√≥ dels Costos", "Clasificaci√≥n de Costes", "Cost Classification")} icon="üìã">
                            <div className="grid md:grid-cols-2 gap-6">
                                <TheoryBlock title={t("Costos Fixos (CF)", "Costes Fijos", "Fixed Costs")} color="amber">
                                    <p>{t("No varien amb el nivell de producci√≥ a curt termini.", "No var√≠an con el nivel de producci√≥n a corto plazo.", "Do not vary with production level in the short term.")}</p>
                                    <p className="mt-2"><strong>{t("Exemples:", "Ejemplos:", "Examples:")}</strong> {t("Lloguer, sous fixos, assegurances, amortitzacions", "Alquiler, sueldos fijos, seguros, amortizaciones", "Rent, fixed salaries, insurance, depreciation")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Costos Variables (CV)", "Costes Variables", "Variable Costs")} color="blue">
                                    <p>{t("Varien proporcionalment amb la producci√≥.", "Var√≠an proporcionalmente con la producci√≥n.", "Vary proportionally with production.")}</p>
                                    <p className="mt-2"><strong>{t("Exemples:", "Ejemplos:", "Examples:")}</strong> {t("Mat√®ries primeres, m√† d'obra directa, energia", "Materias primas, mano de obra directa, energ√≠a", "Raw materials, direct labor, energy")}</p>
                                </TheoryBlock>
                            </div>
                            <FormulaBox formula="CT = CF + CV = CF + CVu √ó Q" desc={t("Cost Total", "Coste Total", "Total Cost")} />
                        </Card>
                        
                        <Card title={t("El Punt Mort", "El Umbral de Rentabilidad", "The Break-even Point")} icon="‚öñÔ∏è">
                            <TheoryBlock color="green">
                                <p>{t("El punt mort √©s el nivell de producci√≥ on l'empresa no obt√© ni beneficis ni p√®rdues.", "El umbral de rentabilidad es el nivel de producci√≥n donde la empresa no obtiene ni beneficios ni p√©rdidas.", "The break-even point is the production level where the company neither makes profits nor losses.")}</p>
                            </TheoryBlock>
                            <FormulaBox formula="Q* = CF / (P - CVu) = CF / MCu" desc={t("Quantitat d'equilibri", "Cantidad de equilibrio", "Break-even quantity")} />
                            
                            <div className="grid md:grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">{t("Marge de Contribuci√≥", "Margen de Contribuci√≥n", "Contribution Margin")}</h4>
                                    <FormulaBox formula="MCu = P - CVu" />
                                    <p className="text-sm text-slate-600">{t("Part del preu que cobreix CF i genera benefici", "Parte del precio que cubre CF y genera beneficio", "Part of price covering FC and generating profit")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl">
                                    <h4 className="font-bold text-green-700">{t("Marge de Seguretat", "Margen de Seguridad", "Safety Margin")}</h4>
                                    <FormulaBox formula="MS = (Q - Q*) / Q √ó 100" />
                                    <p className="text-sm text-slate-600">{t("% que poden caure les vendes abans de p√®rdues", "% que pueden caer las ventas antes de p√©rdidas", "% sales can drop before losses")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Apalancament Operatiu", "Apalancamiento Operativo", "Operating Leverage")} icon="‚ö°">
                            <TheoryBlock color="violet">
                                <p>{t("Mesura com una variaci√≥ en vendes afecta al benefici. Empreses amb alts CF tenen major apalancament.", "Mide c√≥mo una variaci√≥n en ventas afecta al beneficio. Empresas con altos CF tienen mayor apalancamiento.", "Measures how sales changes affect profit. Companies with high FC have greater leverage.")}</p>
                            </TheoryBlock>
                            <FormulaBox formula="GAO = MC Total / Benefici" desc={t("Grau d'Apalancament Operatiu", "Grado de Apalancamiento Operativo", "Degree of Operating Leverage")} />
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <Card title={t("üìà Simulador del Punt Mort", "üìà Simulador del Umbral", "üìà Break-even Simulator")} icon="üìà">
                        <FormulaBox formula="Q* = CF / (P - CVu)" />
                        <div className="grid lg:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Costos Fixos (CF)", "Costes Fijos", "Fixed Costs")} value={cf} onChange={setCF} min={10000} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Cost Variable unitari", "Coste Variable unitario", "Variable Cost/unit")} value={cv} onChange={setCV} min={10} max={150} suffix="‚Ç¨" />
                                <Slider label={t("Preu de venda", "Precio de venta", "Selling Price")} value={preu} onChange={setPreu} min={cv + 1} max={250} suffix="‚Ç¨" />
                                <Slider label={t("Quantitat produ√Øda", "Cantidad producida", "Quantity produced")} value={q} onChange={setQ} min={0} max={5000} step={100} />
                            </div>
                            <div className="grid grid-cols-2 gap-3">
                                <ResultCard title={t("Marge Contribuci√≥", "Margen Contribuci√≥n", "Contribution Margin")} value={calc.mc + "‚Ç¨/u"} color="blue" />
                                <ResultCard title={t("Punt Mort (Q*)", "Umbral (Q*)", "Break-even")} value={calc.qEq + " u."} color="amber" />
                                <ResultCard title={t("Ingressos", "Ingresos", "Revenue")} value={calc.it.toLocaleString() + "‚Ç¨"} color="green" />
                                <ResultCard title={t("Costos Totals", "Costes Totales", "Total Costs")} value={calc.ct.toLocaleString() + "‚Ç¨"} color="red" />
                                <ResultCard title={t("Benefici", "Beneficio", "Profit")} value={calc.benefici.toLocaleString() + "‚Ç¨"} color={calc.benefici >= 0 ? "green" : "red"} />
                                <ResultCard title={t("Marge Seguretat", "Margen Seguridad", "Safety Margin")} value={calc.margeSeguretat + "%"} color={parseFloat(calc.margeSeguretat) > 20 ? "green" : "amber"} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì INVERSI√ì
    const Inversio = () => {
        const [tab, setTab] = useState('teoria');
        const [i0, setI0] = useState(100000);
        const [fc1, setFC1] = useState(30000);
        const [fc2, setFC2] = useState(35000);
        const [fc3, setFC3] = useState(40000);
        const [fc4, setFC4] = useState(45000);
        const [k, setK] = useState(10);
        
        const calc = useMemo(() => {
            const fcs = [fc1, fc2, fc3, fc4];
            let van = -i0;
            let acumulat = 0;
            let payback = null;
            
            for (let ti = 0; ti < fcs.length; ti++) {
                van += fcs[ti] / Math.pow(1 + k/100, ti + 1);
                acumulat += fcs[ti];
                if (payback === null && acumulat >= i0) payback = ti + 1;
            }
            
            let tir = 0.1;
            for (let iter = 0; iter < 100; iter++) {
                let npv = -i0, dnpv = 0;
                for (let ti = 0; ti < fcs.length; ti++) {
                    npv += fcs[ti] / Math.pow(1 + tir, ti + 1);
                    dnpv -= (ti + 1) * fcs[ti] / Math.pow(1 + tir, ti + 2);
                }
                if (Math.abs(dnpv) > 0.0001) tir = tir - npv / dnpv;
            }
            
            return { van: van.toFixed(0), tir: (tir * 100).toFixed(2), payback: payback || '>4', ir: ((van + i0) / i0).toFixed(2) };
        }, [i0, fc1, fc2, fc3, fc4, k]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìà" title={t("An√†lisi d'Inversions", "An√°lisis de Inversiones", "Investment Analysis")} subtitle={t('M√®todes de selecci√≥ de projectes', 'M√©todos de selecci√≥n de proyectos', 'Project selection methods')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'simulador', label: t('üßÆ Calculadora', 'üßÆ Calculadora', 'üßÆ Calculator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Valor Actual Net (VAN)", "Valor Actual Neto (VAN)", "Net Present Value (NPV)")} icon="üí∞">
                            <FormulaBox formula="VAN = -I‚ÇÄ + Œ£ FC‚Çú / (1+k)·µó" />
                            <TheoryBlock title={t("Interpretaci√≥", "Interpretaci√≥n", "Interpretation")} color="green">
                                <p><strong>VAN &gt; 0:</strong> {t("El projecte crea valor ‚Üí ACCEPTAR", "El proyecto crea valor ‚Üí ACEPTAR", "The project creates value ‚Üí ACCEPT")}</p>
                                <p><strong>VAN = 0:</strong> {t("Rendibilitat igual al cost capital ‚Üí INDIFERENT", "Rentabilidad igual al coste capital ‚Üí INDIFERENTE", "Return equals cost of capital ‚Üí INDIFFERENT")}</p>
                                <p><strong>VAN &lt; 0:</strong> {t("El projecte destrueix valor ‚Üí REBUTJAR", "El proyecto destruye valor ‚Üí RECHAZAR", "The project destroys value ‚Üí REJECT")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Taxa Interna de Rendibilitat (TIR)", "Tasa Interna de Rentabilidad (TIR)", "Internal Rate of Return (IRR)")} icon="üìä">
                            <FormulaBox formula="VAN = 0 ‚Üí -I‚ÇÄ + Œ£ FC‚Çú / (1+TIR)·µó = 0" />
                            <TheoryBlock title={t("Interpretaci√≥", "Interpretaci√≥n", "Interpretation")} color="violet">
                                <p><strong>TIR &gt; k:</strong> {t("La rendibilitat supera el cost capital ‚Üí ACCEPTAR", "La rentabilidad supera el coste capital ‚Üí ACEPTAR", "Return exceeds cost of capital ‚Üí ACCEPT")}</p>
                                <p><strong>TIR &lt; k:</strong> {t("La rendibilitat √©s inferior ‚Üí REBUTJAR", "La rentabilidad es inferior ‚Üí RECHAZAR", "Return is lower ‚Üí REJECT")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Payback", "Payback", "Payback Period")} icon="‚è±Ô∏è">
                            <TheoryBlock color="amber">
                                <p>{t("El payback √©s el temps necessari per recuperar la inversi√≥ inicial. Criteri de liquiditat.", "El payback es el tiempo necesario para recuperar la inversi√≥n inicial.", "Payback is the time needed to recover the initial investment.")}</p>
                            </TheoryBlock>
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <Card title={t("üßÆ Calculadora VAN i TIR", "üßÆ Calculadora VAN y TIR", "üßÆ NPV & IRR Calculator")} icon="üìà">
                        <FormulaBox formula="VAN = -I‚ÇÄ + Œ£ FC‚Çú/(1+k)·µó" />
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Inversi√≥ Inicial", "Inversi√≥n Inicial", "Initial Investment")} value={i0} onChange={setI0} min={10000} max={500000} step={10000} suffix="‚Ç¨" />
                                <Slider label="FC Any 1" value={fc1} onChange={setFC1} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label="FC Any 2" value={fc2} onChange={setFC2} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label="FC Any 3" value={fc3} onChange={setFC3} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label="FC Any 4" value={fc4} onChange={setFC4} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Taxa descompte (k)", "Tasa descuento", "Discount rate")} value={k} onChange={setK} min={1} max={30} suffix="%" />
                            </div>
                            <div className="grid grid-cols-2 gap-3">
                                <ResultCard title="VAN" value={parseInt(calc.van).toLocaleString() + "‚Ç¨"} color={parseInt(calc.van) > 0 ? "green" : "red"} subtitle={parseInt(calc.van) > 0 ? "‚úì" : "‚úó"} />
                                <ResultCard title="TIR" value={calc.tir + "%"} color={parseFloat(calc.tir) > k ? "green" : "red"} subtitle={parseFloat(calc.tir) > k ? "TIR > k" : "TIR < k"} />
                                <ResultCard title="Payback" value={calc.payback + (calc.payback !== '>4' ? t(" anys", " a√±os", " years") : "")} color="amber" />
                                <ResultCard title={t("√çndex Rendib.", "√çndice Rentab.", "Profitability Index")} value={calc.ir} color={parseFloat(calc.ir) > 1 ? "green" : "red"} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì FISCALITAT
    const Fiscalitat = () => {
        const [baseIS, setBaseIS] = useState(100000);
        const [tipusIS, setTipusIS] = useState(25);
        const [baseIVA, setBaseIVA] = useState(1000);
        const [tipusIVA, setTipusIVA] = useState(21);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üèõÔ∏è" title={t('Fiscalitat Empresarial', 'Fiscalidad Empresarial', 'Business Taxation')} subtitle={t('Principals impostos', 'Principales impuestos', 'Main taxes')} />
                
                <div className="grid md:grid-cols-2 gap-6">
                    <Card title={t("Impost de Societats (IS)", "Impuesto de Sociedades", "Corporate Tax")} icon="üèõÔ∏è">
                        <TheoryBlock color="blue">
                            <p>{t("L'IS grava el benefici de les societats. √âs un impost directe i proporcional.", "El IS grava el beneficio de las sociedades.", "Corporate Tax taxes company profits.")}</p>
                        </TheoryBlock>
                        <div className="space-y-4 mt-4">
                            <Slider label={t("Base Imposable", "Base Imponible", "Taxable Base")} value={baseIS} onChange={setBaseIS} min={0} max={1000000} step={10000} suffix="‚Ç¨" />
                            <div className="flex gap-2">
                                {[{v: 25, l: '25%'}, {v: 23, l: '23%'}, {v: 15, l: '15%'}].map(ti => (
                                    <button key={ti.v} onClick={() => setTipusIS(ti.v)} className={`flex-1 py-2 rounded-lg font-medium text-sm ${tipusIS === ti.v ? 'bg-blue-500 text-white' : 'bg-slate-100'}`}>{ti.l}</button>
                                ))}
                            </div>
                        </div>
                        <div className="mt-4 p-4 bg-blue-50 rounded-xl text-center">
                            <p className="text-sm text-blue-600">{t("Quota a pagar", "Cuota a pagar", "Tax due")}</p>
                            <p className="text-3xl font-black text-blue-700">{(baseIS * tipusIS / 100).toLocaleString()}‚Ç¨</p>
                        </div>
                    </Card>
                    
                    <Card title={t("IVA (Impost Valor Afegit)", "IVA", "VAT")} icon="üßæ">
                        <TheoryBlock color="green">
                            <p>{t("L'IVA √©s un impost indirecte que grava el consum. Les empreses repercuteixen l'IVA als clients i es dedueixen l'IVA pagat.", "El IVA es un impuesto indirecto que grava el consumo.", "VAT is an indirect tax on consumption.")}</p>
                        </TheoryBlock>
                        <div className="space-y-4 mt-4">
                            <Slider label={t("Base Imposable", "Base Imponible", "Taxable Base")} value={baseIVA} onChange={setBaseIVA} min={0} max={10000} step={100} suffix="‚Ç¨" />
                            <div className="flex gap-2">
                                {[{v: 21, l: '21%'}, {v: 10, l: '10%'}, {v: 4, l: '4%'}].map(ti => (
                                    <button key={ti.v} onClick={() => setTipusIVA(ti.v)} className={`flex-1 py-2 rounded-lg font-medium text-sm ${tipusIVA === ti.v ? 'bg-green-500 text-white' : 'bg-slate-100'}`}>{ti.l}</button>
                                ))}
                            </div>
                        </div>
                        <div className="mt-4 grid grid-cols-2 gap-3">
                            <div className="p-3 bg-amber-50 rounded-xl text-center">
                                <p className="text-xs text-amber-600">IVA</p>
                                <p className="text-xl font-black text-amber-700">{(baseIVA * tipusIVA / 100).toFixed(2)}‚Ç¨</p>
                            </div>
                            <div className="p-3 bg-green-50 rounded-xl text-center">
                                <p className="text-xs text-green-600">TOTAL</p>
                                <p className="text-xl font-black text-green-700">{(baseIVA * (1 + tipusIVA / 100)).toFixed(2)}‚Ç¨</p>
                            </div>
                        </div>
                    </Card>
                </div>
            </div>
        );
    };

    // SECCI√ì PRODUCCI√ì
    const Produccio = () => {
        const [tab, setTab] = useState('teoria');
        const [demanda, setDemanda] = useState(10000);
        const [costPedido, setCostPedido] = useState(50);
        const [costManten, setCostManten] = useState(2);
        
        const eoq = useMemo(() => {
            const q = Math.sqrt((2 * demanda * costPedido) / costManten);
            const pedidosAny = demanda / q;
            const costTotal = (demanda / q) * costPedido + (q / 2) * costManten;
            return { q: q.toFixed(0), pedidos: pedidosAny.toFixed(1), cost: costTotal.toFixed(0) };
        }, [demanda, costPedido, costManten]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üè≠" title={t('Producci√≥ i Operacions', 'Producci√≥n y Operaciones', 'Production & Operations')} subtitle={t('Gesti√≥ de la funci√≥ productiva', 'Gesti√≥n de la funci√≥n productiva', 'Managing the productive function')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'estocs', label: t('üì¶ Gesti√≥ Estocs', 'üì¶ Gesti√≥n Stocks', 'üì¶ Inventory') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Sistemes de Producci√≥", "Sistemas de Producci√≥n", "Production Systems")} icon="üîÑ">
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock title={t("Producci√≥ per Comanda", "Producci√≥n por Pedido", "Job Shop")} color="violet">
                                    <p>{t("Es produeix segons especificacions del client. Alta flexibilitat per√≤ costos m√©s alts.", "Se produce seg√∫n especificaciones del cliente.", "Production according to customer specifications.")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Producci√≥ en Massa", "Producci√≥n en Masa", "Mass Production")} color="blue">
                                    <p>{t("Grans quantitats de productes estandarditzats. Baix cost unitari per√≤ poca flexibilitat.", "Grandes cantidades de productos estandarizados.", "Large quantities of standardized products.")}</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("Just in Time (JIT) i Lean", "Just in Time y Lean", "JIT & Lean")} icon="üéØ">
                            <TheoryBlock color="emerald">
                                <p>{t("El sistema JIT busca eliminar el malbaratament produint nom√©s el que es necessita, quan es necessita. Objectiu: 'zero estocs'.", "El sistema JIT busca eliminar el desperdicio produciendo solo lo que se necesita.", "The JIT system seeks to eliminate waste by producing only what is needed.")}</p>
                            </TheoryBlock>
                            <div className="grid grid-cols-4 gap-3 mt-4">
                                <div className="p-3 bg-red-50 rounded-xl text-center"><span className="text-xl">üóëÔ∏è</span><p className="text-xs font-semibold text-red-700 mt-1">{t("Zero Defectes", "Cero Defectos", "Zero Defects")}</p></div>
                                <div className="p-3 bg-amber-50 rounded-xl text-center"><span className="text-xl">üì¶</span><p className="text-xs font-semibold text-amber-700 mt-1">{t("Zero Estocs", "Cero Stocks", "Zero Inventory")}</p></div>
                                <div className="p-3 bg-green-50 rounded-xl text-center"><span className="text-xl">‚è±Ô∏è</span><p className="text-xs font-semibold text-green-700 mt-1">{t("Zero Temps Mort", "Cero Tiempo Muerto", "Zero Downtime")}</p></div>
                                <div className="p-3 bg-blue-50 rounded-xl text-center"><span className="text-xl">üìã</span><p className="text-xs font-semibold text-blue-700 mt-1">{t("Zero Burocr√†cia", "Cero Burocracia", "Zero Bureaucracy")}</p></div>
                            </div>
                        </Card>
                        
                        <Card title={t("Gesti√≥ de la Qualitat", "Gesti√≥n de la Calidad", "Quality Management")} icon="‚úÖ">
                            <TheoryBlock color="green">
                                <p>{t("La qualitat √©s el grau en qu√® un producte satisf√† les necessitats del client.", "La calidad es el grado en que un producto satisface las necesidades del cliente.", "Quality is the degree to which a product meets customer needs.")}</p>
                            </TheoryBlock>
                            <div className="grid md:grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">TQM (Total Quality Management)</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Filosofia que involucra tota l'organitzaci√≥ en la millora cont√≠nua.", "Filosof√≠a que involucra toda la organizaci√≥n en la mejora continua.", "Philosophy involving the entire organization in continuous improvement.")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl">
                                    <h4 className="font-bold text-green-700">ISO 9001</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Norma internacional per a sistemes de gesti√≥ de qualitat.", "Norma internacional para sistemas de gesti√≥n de calidad.", "International standard for quality management systems.")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'estocs' && (
                    <Card title={t("üì¶ Model EOQ (Wilson)", "üì¶ Modelo EOQ (Wilson)", "üì¶ EOQ Model (Wilson)")} icon="üì¶">
                        <TheoryBlock color="blue">
                            <p>{t("El model EOQ determina la quantitat √≤ptima de comanda que minimitza els costos totals.", "El modelo EOQ determina la cantidad √≥ptima de pedido que minimiza los costes totales.", "The EOQ model determines the optimal order quantity that minimizes total costs.")}</p>
                        </TheoryBlock>
                        <FormulaBox formula="Q* = ‚àö(2DS/H)" desc={t("D = Demanda, S = Cost comanda, H = Cost manteniment", "D = Demanda, S = Coste pedido, H = Coste mantenimiento", "D = Demand, S = Order cost, H = Holding cost")} />
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Demanda anual (D)", "Demanda anual", "Annual Demand")} value={demanda} onChange={setDemanda} min={1000} max={50000} step={1000} suffix=" u." />
                                <Slider label={t("Cost per comanda (S)", "Coste por pedido", "Order Cost")} value={costPedido} onChange={setCostPedido} min={10} max={200} step={10} suffix="‚Ç¨" />
                                <Slider label={t("Cost manteniment/u (H)", "Coste mantenimiento/u", "Holding Cost/unit")} value={costManten} onChange={setCostManten} min={1} max={10} step={0.5} suffix="‚Ç¨" />
                            </div>
                            <div className="grid grid-cols-1 gap-3">
                                <ResultCard title={t("Quantitat √íptima (Q*)", "Cantidad √ìptima", "Optimal Quantity")} value={eoq.q + " u."} color="blue" />
                                <ResultCard title={t("Comandes/any", "Pedidos/a√±o", "Orders/year")} value={eoq.pedidos} color="amber" />
                                <ResultCard title={t("Cost Total Anual", "Coste Total Anual", "Total Annual Cost")} value={eoq.cost + "‚Ç¨"} color="green" />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì RRHH
    const RRHH = () => {
        const [tab, setTab] = useState('teoria');
        const [salariBase, setSalariBase] = useState(2000);
        const [horesExtra, setHoresExtra] = useState(10);
        const [ssEmpresa, setSSEmpresa] = useState(30);
        const [irpf, setIRPF] = useState(15);
        
        const nomina = useMemo(() => {
            const extra = horesExtra * (salariBase / 160) * 1.75;
            const brut = salariBase + extra;
            const ssTreb = brut * 0.0635;
            const retencioIRPF = brut * (irpf / 100);
            const net = brut - ssTreb - retencioIRPF;
            const costEmpresa = brut * (1 + ssEmpresa / 100);
            return { extra: extra.toFixed(0), brut: brut.toFixed(0), ssTreb: ssTreb.toFixed(0), irpf: retencioIRPF.toFixed(0), net: net.toFixed(0), costEmpresa: costEmpresa.toFixed(0) };
        }, [salariBase, horesExtra, ssEmpresa, irpf]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üë•" title={t('Recursos Humans', 'Recursos Humanos', 'Human Resources')} subtitle={t('Gesti√≥ del capital hum√†', 'Gesti√≥n del capital humano', 'Managing human capital')} />
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'nomina', label: t('üí∞ N√≤mina', 'üí∞ N√≥mina', 'üí∞ Payroll') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Teories de la Motivaci√≥", "Teor√≠as de la Motivaci√≥n", "Motivation Theories")} icon="üéØ">
                            <TheoryBlock title={t("Pir√†mide de Maslow", "Pir√°mide de Maslow", "Maslow's Hierarchy")} color="blue">
                                <p>{t("Les necessitats humanes s'organitzen en jerarquia. No es pot motivar amb necessitats superiors si les inferiors no estan cobertes.", "Las necesidades humanas se organizan en jerarqu√≠a.", "Human needs are organized in a hierarchy.")}</p>
                            </TheoryBlock>
                            <div className="mt-4 space-y-2">
                                <div className="p-3 bg-violet-100 rounded-lg text-center"><span className="font-bold text-violet-700">5. {t("Autorealitzaci√≥", "Autorrealizaci√≥n", "Self-actualization")}</span></div>
                                <div className="p-3 bg-blue-100 rounded-lg text-center mx-4"><span className="font-bold text-blue-700">4. {t("Estima", "Estima", "Esteem")}</span></div>
                                <div className="p-3 bg-green-100 rounded-lg text-center mx-8"><span className="font-bold text-green-700">3. {t("Socials", "Sociales", "Social")}</span></div>
                                <div className="p-3 bg-amber-100 rounded-lg text-center mx-12"><span className="font-bold text-amber-700">2. {t("Seguretat", "Seguridad", "Safety")}</span></div>
                                <div className="p-3 bg-red-100 rounded-lg text-center mx-16"><span className="font-bold text-red-700">1. {t("Fisiol√≤giques", "Fisiol√≥gicas", "Physiological")}</span></div>
                            </div>
                        </Card>
                        
                        <Card title={t("Teoria de Herzberg", "Teor√≠a de Herzberg", "Herzberg's Theory")} icon="‚öñÔ∏è">
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700 mb-3">{t("Factors Motivadors", "Factores Motivadores", "Motivating Factors")} ‚úì</h4>
                                    <ul className="text-sm text-green-600 space-y-1">
                                        <li>‚Ä¢ {t("Reconeixement", "Reconocimiento", "Recognition")}</li>
                                        <li>‚Ä¢ {t("Responsabilitat", "Responsabilidad", "Responsibility")}</li>
                                        <li>‚Ä¢ {t("Creixement professional", "Crecimiento profesional", "Professional growth")}</li>
                                    </ul>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                    <h4 className="font-bold text-amber-700 mb-3">{t("Factors Higi√®nics", "Factores Higi√©nicos", "Hygiene Factors")} ‚ö†Ô∏è</h4>
                                    <ul className="text-sm text-amber-600 space-y-1">
                                        <li>‚Ä¢ {t("Salari", "Salario", "Salary")}</li>
                                        <li>‚Ä¢ {t("Condicions de treball", "Condiciones de trabajo", "Working conditions")}</li>
                                        <li>‚Ä¢ {t("Relacions interpersonals", "Relaciones interpersonales", "Interpersonal relationships")}</li>
                                    </ul>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Estils de Lideratge", "Estilos de Liderazgo", "Leadership Styles")} icon="üëî">
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-red-50 rounded-xl">
                                    <h4 className="font-bold text-red-700">{t("Autocr√†tic", "Autocr√°tico", "Autocratic")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("El l√≠der pren totes les decisions", "El l√≠der toma todas las decisiones", "The leader makes all decisions")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl">
                                    <h4 className="font-bold text-green-700">{t("Democr√†tic", "Democr√°tico", "Democratic")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("El l√≠der consulta i fomenta participaci√≥", "El l√≠der consulta y fomenta participaci√≥n", "The leader consults and encourages participation")}</p>
                                </div>
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">Laissez-faire</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("M√†xima llibertat per als treballadors", "M√°xima libertad para los trabajadores", "Maximum freedom for workers")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'nomina' && (
                    <Card title={t("üí∞ Calculadora de N√≤mina", "üí∞ Calculadora de N√≥mina", "üí∞ Payroll Calculator")} icon="üí∞">
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Salari Base", "Salario Base", "Base Salary")} value={salariBase} onChange={setSalariBase} min={1000} max={5000} step={100} suffix="‚Ç¨" />
                                <Slider label={t("Hores Extra", "Horas Extra", "Overtime")} value={horesExtra} onChange={setHoresExtra} min={0} max={40} />
                                <Slider label={t("SS Empresa %", "SS Empresa %", "Employer SS %")} value={ssEmpresa} onChange={setSSEmpresa} min={20} max={40} suffix="%" />
                                <Slider label="IRPF %" value={irpf} onChange={setIRPF} min={0} max={45} suffix="%" />
                            </div>
                            <div className="space-y-2">
                                <div className="flex justify-between p-3 bg-slate-50 rounded-lg"><span>{t("Salari Base", "Salario Base", "Base Salary")}</span><span className="font-bold">{salariBase}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-slate-50 rounded-lg"><span>+ {t("Hores Extra", "Horas Extra", "Overtime")}</span><span className="font-bold">{nomina.extra}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-blue-100 rounded-lg"><span className="font-bold">= BRUT</span><span className="font-bold text-blue-700">{nomina.brut}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-slate-50 rounded-lg"><span>- SS (6.35%)</span><span className="text-red-600">-{nomina.ssTreb}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-slate-50 rounded-lg"><span>- IRPF ({irpf}%)</span><span className="text-red-600">-{nomina.irpf}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-green-100 rounded-lg"><span className="font-bold">= NET</span><span className="font-bold text-green-700">{nomina.net}‚Ç¨</span></div>
                                <div className="flex justify-between p-3 bg-amber-100 rounded-lg mt-4"><span className="font-bold">{t("Cost Empresa", "Coste Empresa", "Company Cost")}</span><span className="font-bold text-amber-700">{nomina.costEmpresa}‚Ç¨</span></div>
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì MARKETING
    const Marketing = () => {
        const [tab, setTab] = useState('mix');
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üì£" title="Marketing" subtitle={t('Estrat√®gies per satisfer les necessitats del mercat', 'Estrategias para satisfacer las necesidades del mercado', 'Strategies to meet market needs')} />
                
                <Tabs tabs={[
                    { id: 'mix', label: 'üéØ Marketing Mix' },
                    { id: 'eines', label: t('üõ†Ô∏è Eines', 'üõ†Ô∏è Herramientas', 'üõ†Ô∏è Tools') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'mix' && (
                    <Card title={t("Marketing Mix - Les 4Ps", "Marketing Mix - Las 4Ps", "Marketing Mix - The 4Ps")} icon="üì£">
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="p-5 bg-blue-50 rounded-xl border border-blue-200">
                                <div className="flex items-center gap-3 mb-3"><span className="text-3xl">üì¶</span><h4 className="font-bold text-blue-700 text-lg">Product</h4></div>
                                <p className="text-sm text-slate-600 mb-3">{t("B√©ns o serveis que satisfan necessitats", "Bienes o servicios que satisfacen necesidades", "Goods or services meeting needs")}</p>
                                <ul className="text-sm text-blue-600 space-y-1"><li>‚Ä¢ {t("Disseny i caracter√≠stiques", "Dise√±o y caracter√≠sticas", "Design and features")}</li><li>‚Ä¢ {t("Qualitat i garantia", "Calidad y garant√≠a", "Quality and warranty")}</li><li>‚Ä¢ {t("Marca i packaging", "Marca y packaging", "Brand and packaging")}</li></ul>
                            </div>
                            <div className="p-5 bg-green-50 rounded-xl border border-green-200">
                                <div className="flex items-center gap-3 mb-3"><span className="text-3xl">üí∞</span><h4 className="font-bold text-green-700 text-lg">Price</h4></div>
                                <p className="text-sm text-slate-600 mb-3">{t("Valor monetari del producte", "Valor monetario del producto", "Monetary value of the product")}</p>
                                <ul className="text-sm text-green-600 space-y-1"><li>‚Ä¢ {t("Estrat√®gia de preus", "Estrategia de precios", "Pricing strategy")}</li><li>‚Ä¢ {t("Descomptes", "Descuentos", "Discounts")}</li><li>‚Ä¢ {t("Condicions de pagament", "Condiciones de pago", "Payment terms")}</li></ul>
                            </div>
                            <div className="p-5 bg-amber-50 rounded-xl border border-amber-200">
                                <div className="flex items-center gap-3 mb-3"><span className="text-3xl">üè™</span><h4 className="font-bold text-amber-700 text-lg">Place</h4></div>
                                <p className="text-sm text-slate-600 mb-3">{t("Com arriba al consumidor", "C√≥mo llega al consumidor", "How it reaches the consumer")}</p>
                                <ul className="text-sm text-amber-600 space-y-1"><li>‚Ä¢ {t("Canals de distribuci√≥", "Canales de distribuci√≥n", "Distribution channels")}</li><li>‚Ä¢ {t("Punts de venda", "Puntos de venta", "Points of sale")}</li><li>‚Ä¢ {t("Log√≠stica", "Log√≠stica", "Logistics")}</li></ul>
                            </div>
                            <div className="p-5 bg-pink-50 rounded-xl border border-pink-200">
                                <div className="flex items-center gap-3 mb-3"><span className="text-3xl">üì¢</span><h4 className="font-bold text-pink-700 text-lg">Promotion</h4></div>
                                <p className="text-sm text-slate-600 mb-3">{t("Com informem i persuadim", "C√≥mo informamos y persuadimos", "How we inform and persuade")}</p>
                                <ul className="text-sm text-pink-600 space-y-1"><li>‚Ä¢ {t("Publicitat", "Publicidad", "Advertising")}</li><li>‚Ä¢ {t("Promoci√≥ de vendes", "Promoci√≥n de ventas", "Sales promotion")}</li><li>‚Ä¢ {t("Relacions p√∫bliques", "Relaciones p√∫blicas", "Public relations")}</li></ul>
                            </div>
                        </div>
                    </Card>
                )}
                
                {tab === 'eines' && (
                    <div className="space-y-6">
                        <Card title={t("Cicle de Vida del Producte", "Ciclo de Vida del Producto", "Product Life Cycle")} icon="üìà">
                            <div className="grid grid-cols-4 gap-3">
                                <div className="p-4 bg-blue-50 rounded-xl text-center"><span className="text-2xl">üöÄ</span><h4 className="font-bold text-blue-700 mt-2">{t("Introducci√≥", "Introducci√≥n", "Introduction")}</h4><p className="text-xs text-slate-600 mt-1">{t("Vendes baixes", "Ventas bajas", "Low sales")}</p></div>
                                <div className="p-4 bg-green-50 rounded-xl text-center"><span className="text-2xl">üìà</span><h4 className="font-bold text-green-700 mt-2">{t("Creixement", "Crecimiento", "Growth")}</h4><p className="text-xs text-slate-600 mt-1">{t("Vendes en augment", "Ventas en aumento", "Rising sales")}</p></div>
                                <div className="p-4 bg-amber-50 rounded-xl text-center"><span className="text-2xl">‚è∏Ô∏è</span><h4 className="font-bold text-amber-700 mt-2">{t("Maduresa", "Madurez", "Maturity")}</h4><p className="text-xs text-slate-600 mt-1">{t("Vendes estables", "Ventas estables", "Stable sales")}</p></div>
                                <div className="p-4 bg-red-50 rounded-xl text-center"><span className="text-2xl">üìâ</span><h4 className="font-bold text-red-700 mt-2">{t("Declivi", "Declive", "Decline")}</h4><p className="text-xs text-slate-600 mt-1">{t("Vendes cauen", "Ventas caen", "Sales fall")}</p></div>
                            </div>
                        </Card>
                        
                        <Card title={t("Matriu BCG", "Matriz BCG", "BCG Matrix")} icon="üìä">
                            <TheoryBlock color="green">
                                <p>{t("Eina per analitzar la cartera de productes segons quota de mercat i creixement del mercat.", "Herramienta para analizar la cartera de productos seg√∫n cuota de mercado y crecimiento.", "Tool to analyze the product portfolio based on market share and market growth.")}</p>
                            </TheoryBlock>
                            <div className="grid grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-yellow-100 rounded-xl border-2 border-yellow-300"><span className="text-2xl">‚≠ê</span><h4 className="font-bold text-yellow-700">{t("Estrelles", "Estrellas", "Stars")}</h4><p className="text-xs text-slate-600">{t("Alta quota + Alt creixement", "Alta cuota + Alto crecimiento", "High share + High growth")}</p></div>
                                <div className="p-4 bg-purple-100 rounded-xl border-2 border-purple-300"><span className="text-2xl">‚ùì</span><h4 className="font-bold text-purple-700">{t("Interrogants", "Interrogantes", "Question Marks")}</h4><p className="text-xs text-slate-600">{t("Baixa quota + Alt creixement", "Baja cuota + Alto crecimiento", "Low share + High growth")}</p></div>
                                <div className="p-4 bg-green-100 rounded-xl border-2 border-green-300"><span className="text-2xl">üêÑ</span><h4 className="font-bold text-green-700">{t("Vaques", "Vacas", "Cash Cows")}</h4><p className="text-xs text-slate-600">{t("Alta quota + Baix creixement", "Alta cuota + Bajo crecimiento", "High share + Low growth")}</p></div>
                                <div className="p-4 bg-slate-200 rounded-xl border-2 border-slate-400"><span className="text-2xl">üêï</span><h4 className="font-bold text-slate-700">{t("Gossos", "Perros", "Dogs")}</h4><p className="text-xs text-slate-600">{t("Baixa quota + Baix creixement", "Baja cuota + Bajo crecimiento", "Low share + Low growth")}</p></div>
                            </div>
                        </Card>
                    </div>
                )}
            </div>
        );
    };

    // SECCI√ì ESTRAT√àGIA
    const Estrategia = () => {
        const [tab, setTab] = useState('dafo');
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üéØ" title={t('Estrat√®gia Empresarial', 'Estrategia Empresarial', 'Business Strategy')} subtitle={t('Planificaci√≥ a llarg termini', 'Planificaci√≥n a largo plazo', 'Long-term planning')} />
                
                <Tabs tabs={[
                    { id: 'dafo', label: 'DAFO/SWOT' },
                    { id: 'porter', label: 'üè≠ Porter' },
                    { id: 'canvas', label: 'üìã Canvas' },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'dafo' && (
                    <div className="space-y-6">
                        <Card title={t("An√†lisi DAFO/SWOT", "An√°lisis DAFO", "SWOT Analysis")} icon="üìä">
                            <TheoryBlock color="blue">
                                <p>{t("Eina de planificaci√≥ estrat√®gica que avalua factors interns (Debilitats, Fortaleses) i externs (Amenaces, Oportunitats).", "Herramienta de planificaci√≥n estrat√©gica que eval√∫a factores internos y externos.", "Strategic planning tool that evaluates internal and external factors.")}</p>
                            </TheoryBlock>
                            <div className="grid grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-green-100 rounded-xl border border-green-300"><h4 className="font-bold text-green-700 mb-2">üí™ {t('Fortaleses', 'Fortalezas', 'Strengths')}</h4><p className="text-sm text-green-600">{t('Capacitats internes positives', 'Capacidades internas positivas', 'Positive internal capabilities')}</p></div>
                                <div className="p-4 bg-red-100 rounded-xl border border-red-300"><h4 className="font-bold text-red-700 mb-2">‚ö†Ô∏è {t('Debilitats', 'Debilidades', 'Weaknesses')}</h4><p className="text-sm text-red-600">{t('Limitacions internes', 'Limitaciones internas', 'Internal limitations')}</p></div>
                                <div className="p-4 bg-blue-100 rounded-xl border border-blue-300"><h4 className="font-bold text-blue-700 mb-2">üéØ {t('Oportunitats', 'Oportunidades', 'Opportunities')}</h4><p className="text-sm text-blue-600">{t('Factors externs favorables', 'Factores externos favorables', 'Favorable external factors')}</p></div>
                                <div className="p-4 bg-amber-100 rounded-xl border border-amber-300"><h4 className="font-bold text-amber-700 mb-2">üå©Ô∏è {t('Amenaces', 'Amenazas', 'Threats')}</h4><p className="text-sm text-amber-600">{t('Factors externs negatius', 'Factores externos negativos', 'Negative external factors')}</p></div>
                            </div>
                        </Card>
                        
                        <Card title={t("Matriu d'Ansoff", "Matriz de Ansoff", "Ansoff Matrix")} icon="üìà">
                            <div className="grid grid-cols-2 gap-4">
                                <div className="p-4 bg-green-50 rounded-xl"><h4 className="font-bold text-green-700">{t("Penetraci√≥ de Mercat", "Penetraci√≥n de Mercado", "Market Penetration")}</h4><p className="text-xs text-slate-500">{t("Producte actual + Mercat actual", "Producto actual + Mercado actual", "Current product + Current market")}</p></div>
                                <div className="p-4 bg-blue-50 rounded-xl"><h4 className="font-bold text-blue-700">{t("Desenv. Mercat", "Desarrollo Mercado", "Market Development")}</h4><p className="text-xs text-slate-500">{t("Producte actual + Mercat nou", "Producto actual + Mercado nuevo", "Current product + New market")}</p></div>
                                <div className="p-4 bg-amber-50 rounded-xl"><h4 className="font-bold text-amber-700">{t("Desenv. Producte", "Desarrollo Producto", "Product Development")}</h4><p className="text-xs text-slate-500">{t("Producte nou + Mercat actual", "Producto nuevo + Mercado actual", "New product + Current market")}</p></div>
                                <div className="p-4 bg-red-50 rounded-xl"><h4 className="font-bold text-red-700">{t("Diversificaci√≥", "Diversificaci√≥n", "Diversification")}</h4><p className="text-xs text-slate-500">{t("Producte nou + Mercat nou", "Producto nuevo + Mercado nuevo", "New product + New market")}</p></div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'porter' && (
                    <div className="space-y-6">
                        <Card title={t("Les 5 Forces de Porter", "Las 5 Fuerzas de Porter", "Porter's 5 Forces")} icon="üè≠">
                            <TheoryBlock color="violet">
                                <p>{t("Model per analitzar l'atractiu d'una ind√∫stria. Com m√©s intenses siguin les forces, menor ser√† la rendibilitat potencial.", "Modelo para analizar el atractivo de una industria.", "Model to analyze industry attractiveness.")}</p>
                            </TheoryBlock>
                            <div className="grid md:grid-cols-5 gap-3 mt-4">
                                <div className="p-4 bg-violet-50 rounded-xl text-center"><span className="text-2xl">üö™</span><p className="text-sm font-medium text-violet-700 mt-2">{t('Nous entrants', 'Nuevos entrantes', 'New Entrants')}</p></div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center"><span className="text-2xl">üè≠</span><p className="text-sm font-medium text-violet-700 mt-2">{t('Poder prove√Ødors', 'Poder proveedores', 'Supplier Power')}</p></div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center"><span className="text-2xl">üë•</span><p className="text-sm font-medium text-violet-700 mt-2">{t('Poder clients', 'Poder clientes', 'Buyer Power')}</p></div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center"><span className="text-2xl">üîÑ</span><p className="text-sm font-medium text-violet-700 mt-2">{t('Substituts', 'Sustitutos', 'Substitutes')}</p></div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center"><span className="text-2xl">‚öîÔ∏è</span><p className="text-sm font-medium text-violet-700 mt-2">{t('Rivalitat', 'Rivalidad', 'Rivalry')}</p></div>
                            </div>
                        </Card>
                        
                        <Card title={t("Estrat√®gies Competitives", "Estrategias Competitivas", "Competitive Strategies")} icon="üéØ">
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200"><h4 className="font-bold text-blue-700">{t("Lideratge en Costos", "Liderazgo en Costes", "Cost Leadership")}</h4><p className="text-sm text-slate-600 mt-2">{t("Ser el productor amb costos m√©s baixos", "Ser el productor con costes m√°s bajos", "Be the lowest-cost producer")}</p><p className="text-xs text-blue-600 mt-2">Ex: Ryanair, IKEA</p></div>
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200"><h4 className="font-bold text-green-700">{t("Diferenciaci√≥", "Diferenciaci√≥n", "Differentiation")}</h4><p className="text-sm text-slate-600 mt-2">{t("Productes √∫nics i valorats", "Productos √∫nicos y valorados", "Unique and valued products")}</p><p className="text-xs text-green-600 mt-2">Ex: Apple, BMW</p></div>
                                <div className="p-4 bg-amber-50 rounded-xl border border-amber-200"><h4 className="font-bold text-amber-700">{t("Enfocament", "Enfoque", "Focus")}</h4><p className="text-sm text-slate-600 mt-2">{t("Concentrar-se en un segment", "Concentrarse en un segmento", "Focus on a segment")}</p><p className="text-xs text-amber-600 mt-2">Ex: Rolex, Ferrari</p></div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'canvas' && (
                    <Card title="Business Model Canvas" icon="üìã">
                        <TheoryBlock color="green">
                            <p>{t("Eina visual per descriure, dissenyar i analitzar models de negoci en 9 blocs.", "Herramienta visual para describir, dise√±ar y analizar modelos de negocio en 9 bloques.", "Visual tool to describe, design, and analyze business models in 9 blocks.")}</p>
                        </TheoryBlock>
                        <div className="mt-6 grid grid-cols-5 gap-2 text-xs">
                            <div className="row-span-2 p-3 bg-violet-100 rounded-lg"><h5 className="font-bold text-violet-700">ü§ù {t("Socis Clau", "Socios Clave", "Key Partners")}</h5></div>
                            <div className="p-3 bg-blue-100 rounded-lg"><h5 className="font-bold text-blue-700">‚öôÔ∏è {t("Activitats", "Actividades", "Activities")}</h5></div>
                            <div className="row-span-2 p-3 bg-pink-100 rounded-lg"><h5 className="font-bold text-pink-700">üíé {t("Proposta Valor", "Propuesta Valor", "Value Prop")}</h5></div>
                            <div className="p-3 bg-green-100 rounded-lg"><h5 className="font-bold text-green-700">‚ù§Ô∏è {t("Relaci√≥", "Relaci√≥n", "Relations")}</h5></div>
                            <div className="row-span-2 p-3 bg-emerald-100 rounded-lg"><h5 className="font-bold text-emerald-700">üë• {t("Segments", "Segmentos", "Segments")}</h5></div>
                            <div className="p-3 bg-cyan-100 rounded-lg"><h5 className="font-bold text-cyan-700">üèóÔ∏è {t("Recursos", "Recursos", "Resources")}</h5></div>
                            <div className="p-3 bg-amber-100 rounded-lg"><h5 className="font-bold text-amber-700">üì¢ {t("Canals", "Canales", "Channels")}</h5></div>
                            <div className="col-span-2 p-3 bg-red-100 rounded-lg"><h5 className="font-bold text-red-700">üí∏ {t("Costos", "Costes", "Costs")}</h5></div>
                            <div className="col-span-3 p-3 bg-green-100 rounded-lg"><h5 className="font-bold text-green-700">üí∞ {t("Ingressos", "Ingresos", "Revenue")}</h5></div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì FORMES JUR√çDIQUES
    const FormesJuridiques = () => (
        <div className="space-y-6">
            <SectionTitle icon="‚öñÔ∏è" title={t('Formes Jur√≠diques', 'Formas Jur√≠dicas', 'Legal Forms')} subtitle={t("Tipus d'empreses segons forma legal", 'Tipos de empresas seg√∫n forma legal', 'Types of companies by legal form')} />
            
            <Card title={t("Empresari Individual", "Empresario Individual", "Sole Proprietor")} icon="üë§">
                <TheoryBlock color="blue">
                    <p>{t("Persona f√≠sica que realitza activitat econ√≤mica en nom propi. Forma m√©s senzilla per√≤ amb responsabilitat il¬∑limitada.", "Persona f√≠sica que realiza actividad econ√≥mica en nombre propio.", "Individual conducting economic activity in their own name.")}</p>
                </TheoryBlock>
                <div className="grid md:grid-cols-2 gap-4 mt-4">
                    <div className="p-3 bg-green-50 rounded-lg"><p className="text-sm font-semibold text-green-700">‚úì {t("Avantatges", "Ventajas", "Advantages")}</p><ul className="text-xs text-slate-600 mt-1"><li>‚Ä¢ {t("Constituci√≥ senzilla", "Constituci√≥n sencilla", "Simple setup")}</li><li>‚Ä¢ {t("Control total", "Control total", "Total control")}</li></ul></div>
                    <div className="p-3 bg-red-50 rounded-lg"><p className="text-sm font-semibold text-red-700">‚úó {t("Inconvenients", "Inconvenientes", "Disadvantages")}</p><ul className="text-xs text-slate-600 mt-1"><li>‚Ä¢ {t("Responsabilitat il¬∑limitada", "Responsabilidad ilimitada", "Unlimited liability")}</li></ul></div>
                </div>
            </Card>
            
            <Card title={t("Societat Limitada (SL)", "Sociedad Limitada", "Limited Company")} icon="üè¢">
                <TheoryBlock color="green">
                    <p>{t("Societat amb capital dividit en participacions. Responsabilitat limitada al capital aportat. Forma m√©s comuna per a PIMES.", "Sociedad con capital dividido en participaciones.", "Company with capital divided into shares.")}</p>
                </TheoryBlock>
                <div className="grid md:grid-cols-4 gap-3 mt-4 text-center">
                    <div className="p-3 bg-blue-50 rounded-lg"><p className="text-xs text-slate-500">{t("Capital m√≠nim", "Capital m√≠nimo", "Min capital")}</p><p className="font-bold text-blue-700">1‚Ç¨</p></div>
                    <div className="p-3 bg-green-50 rounded-lg"><p className="text-xs text-slate-500">{t("Socis", "Socios", "Partners")}</p><p className="font-bold text-green-700">‚â• 1</p></div>
                    <div className="p-3 bg-amber-50 rounded-lg"><p className="text-xs text-slate-500">{t("Responsabilitat", "Responsabilidad", "Liability")}</p><p className="font-bold text-amber-700">{t("Limitada", "Limitada", "Limited")}</p></div>
                    <div className="p-3 bg-violet-50 rounded-lg"><p className="text-xs text-slate-500">{t("Fiscalitat", "Fiscalidad", "Tax")}</p><p className="font-bold text-violet-700">IS (25%)</p></div>
                </div>
            </Card>
            
            <Card title={t("Societat An√≤nima (SA)", "Sociedad An√≥nima", "Corporation")} icon="üèõÔ∏è">
                <TheoryBlock color="violet">
                    <p>{t("Societat amb capital dividit en accions. Per a grans empreses que necessiten captar capital.", "Sociedad con capital dividido en acciones.", "Company with capital divided into shares.")}</p>
                </TheoryBlock>
                <div className="grid md:grid-cols-4 gap-3 mt-4 text-center">
                    <div className="p-3 bg-blue-50 rounded-lg"><p className="text-xs text-slate-500">{t("Capital m√≠nim", "Capital m√≠nimo", "Min capital")}</p><p className="font-bold text-blue-700">60.000‚Ç¨</p></div>
                    <div className="p-3 bg-green-50 rounded-lg"><p className="text-xs text-slate-500">{t("Socis", "Socios", "Partners")}</p><p className="font-bold text-green-700">‚â• 1</p></div>
                    <div className="p-3 bg-amber-50 rounded-lg"><p className="text-xs text-slate-500">{t("Responsabilitat", "Responsabilidad", "Liability")}</p><p className="font-bold text-amber-700">{t("Limitada", "Limitada", "Limited")}</p></div>
                    <div className="p-3 bg-violet-50 rounded-lg"><p className="text-xs text-slate-500">{t("Fiscalitat", "Fiscalidad", "Tax")}</p><p className="font-bold text-violet-700">IS (25%)</p></div>
                </div>
            </Card>
            
            <Card title={t("Cooperativa", "Cooperativa", "Cooperative")} icon="ü§ù">
                <TheoryBlock color="emerald">
                    <p>{t("Societat formada per persones que s'associen per realitzar activitats econ√≤miques. Cada soci t√© un vot. Principis democr√†tics.", "Sociedad formada por personas que se asocian para realizar actividades econ√≥micas.", "Company formed by people associating for economic activities.")}</p>
                </TheoryBlock>
            </Card>
        </div>
    );

    // SECCI√ì FINAN√áAMENT
    const Financament = () => {
        const [capital, setCapital] = useState(100000);
        const [interes, setInteres] = useState(6);
        const [anys, setAnys] = useState(5);
        
        const prestec = useMemo(() => {
            const r = interes / 100 / 12;
            const n = anys * 12;
            const quota = capital * (r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            const totalPagar = quota * n;
            const interessos = totalPagar - capital;
            return { quota: quota.toFixed(2), totalPagar: totalPagar.toFixed(0), interessos: interessos.toFixed(0) };
        }, [capital, interes, anys]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üè¶" title={t('Finan√ßament Empresarial', 'Financiaci√≥n Empresarial', 'Business Financing')} subtitle={t('Fonts de finan√ßament', 'Fuentes de financiaci√≥n', 'Financing sources')} />
                
                <Card title={t("Fonts de Finan√ßament", "Fuentes de Financiaci√≥n", "Financing Sources")} icon="üí∞">
                    <div className="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 className="font-bold text-green-700 mb-3">üü¢ {t("Finan√ßament Propi", "Financiaci√≥n Propia", "Own Financing")}</h4>
                            <div className="space-y-2">
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Capital social", "Capital social", "Share capital")}</p></div>
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Reserves", "Reservas", "Reserves")}</p></div>
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Autofinan√ßament", "Autofinanciaci√≥n", "Self-financing")}</p></div>
                            </div>
                        </div>
                        <div>
                            <h4 className="font-bold text-blue-700 mb-3">üîµ {t("Finan√ßament Ali√®", "Financiaci√≥n Ajena", "External Financing")}</h4>
                            <div className="space-y-2">
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">{t("Pr√©stecs bancaris", "Pr√©stamos bancarios", "Bank loans")}</p></div>
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">{t("Cr√®dit comercial", "Cr√©dito comercial", "Trade credit")}</p></div>
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">{t("Empr√®stits", "Empr√©stitos", "Bonds")}</p></div>
                            </div>
                        </div>
                    </div>
                </Card>
                
                <Card title={t("Productes Financers", "Productos Financieros", "Financial Products")} icon="üîß">
                    <div className="grid md:grid-cols-3 gap-4">
                        <TheoryBlock title="Leasing" color="amber"><p>{t("Arrendament financer amb opci√≥ de compra al final.", "Arrendamiento financiero con opci√≥n de compra.", "Financial lease with purchase option.")}</p></TheoryBlock>
                        <TheoryBlock title="Renting" color="blue"><p>{t("Lloguer operatiu sense opci√≥ de compra. Inclou manteniment.", "Alquiler operativo sin opci√≥n de compra.", "Operating lease without purchase option.")}</p></TheoryBlock>
                        <TheoryBlock title="Factoring" color="green"><p>{t("Venda de factures pendents per obtenir liquiditat immediata.", "Venta de facturas pendientes para obtener liquidez inmediata.", "Sale of outstanding invoices for immediate liquidity.")}</p></TheoryBlock>
                    </div>
                </Card>
                
                <Card title={t("Calculadora de Pr√©stec", "Calculadora de Pr√©stamo", "Loan Calculator")} icon="üßÆ">
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-4">
                            <Slider label={t("Capital sol¬∑licitat", "Capital solicitado", "Loan amount")} value={capital} onChange={setCapital} min={10000} max={500000} step={10000} suffix="‚Ç¨" />
                            <Slider label={t("Tipus d'inter√®s anual", "Tipo de inter√©s anual", "Annual interest rate")} value={interes} onChange={setInteres} min={1} max={15} step={0.5} suffix="%" />
                            <Slider label={t("Termini (anys)", "Plazo (a√±os)", "Term (years)")} value={anys} onChange={setAnys} min={1} max={30} />
                        </div>
                        <div className="grid grid-cols-1 gap-3">
                            <ResultCard title={t("Quota mensual", "Cuota mensual", "Monthly payment")} value={prestec.quota + "‚Ç¨"} color="blue" />
                            <ResultCard title={t("Total a pagar", "Total a pagar", "Total to pay")} value={parseInt(prestec.totalPagar).toLocaleString() + "‚Ç¨"} color="amber" />
                            <ResultCard title={t("Total interessos", "Total intereses", "Total interest")} value={parseInt(prestec.interessos).toLocaleString() + "‚Ç¨"} color="red" />
                        </div>
                    </div>
                </Card>
            </div>
        );
    };

    // SECCI√ì EMPRENEDORIA
    const Emprenedoria = () => (
        <div className="space-y-6">
            <SectionTitle icon="üöÄ" title={t('Emprenedoria', 'Emprendimiento', 'Entrepreneurship')} subtitle={t('Crear i gestionar una nova empresa', 'Crear y gestionar una nueva empresa', 'Creating and managing a new business')} />
            
            <Card title={t("El Pla d'Empresa", "El Plan de Empresa", "The Business Plan")} icon="üìù">
                <TheoryBlock color="blue">
                    <p>{t("Document que descriu el projecte empresarial: qu√® es vol fer, com es far√† i si √©s viable. Imprescindible per buscar finan√ßament.", "Documento que describe el proyecto empresarial.", "Document describing the business project.")}</p>
                </TheoryBlock>
                <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-3 mt-4">
                    {[{icon:"üí°",title:t("1. Idea","1. Idea","1. Idea")},{icon:"üë•",title:t("2. Equip","2. Equipo","2. Team")},{icon:"üìä",title:t("3. Marketing","3. Marketing","3. Marketing")},{icon:"‚öôÔ∏è",title:t("4. Operacions","4. Operaciones","4. Operations")},{icon:"üëî",title:t("5. RRHH","5. RRHH","5. HR")},{icon:"‚öñÔ∏è",title:t("6. Forma jur√≠dica","6. Forma jur√≠dica","6. Legal form")},{icon:"üí∞",title:t("7. Pla financer","7. Plan financiero","7. Financial plan")},{icon:"‚úÖ",title:t("8. Viabilitat","8. Viabilidad","8. Viability")}].map((item, i) => (
                        <div key={i} className="p-3 bg-slate-50 rounded-lg text-center"><span className="text-xl">{item.icon}</span><h4 className="font-semibold text-slate-700 mt-1 text-sm">{item.title}</h4></div>
                    ))}
                </div>
            </Card>
            
            <Card title="Lean Startup" icon="üîÑ">
                <TheoryBlock color="green">
                    <p>{t("Metodologia d'Eric Ries per validar hip√≤tesis del negoci amb m√≠nim recursos. Cicle: Crear-Mesurar-Aprendre.", "Metodolog√≠a de Eric Ries para validar hip√≥tesis del negocio con m√≠nimo recursos.", "Eric Ries methodology to validate business hypotheses with minimal resources.")}</p>
                </TheoryBlock>
                <div className="flex items-center justify-center gap-4 mt-6">
                    <div className="p-4 bg-blue-100 rounded-full text-center"><span className="text-2xl">üî®</span><p className="text-sm font-bold text-blue-700 mt-1">{t("CREAR", "CREAR", "BUILD")}</p></div>
                    <span className="text-2xl text-slate-400">‚Üí</span>
                    <div className="p-4 bg-green-100 rounded-full text-center"><span className="text-2xl">üìè</span><p className="text-sm font-bold text-green-700 mt-1">{t("MESURAR", "MEDIR", "MEASURE")}</p></div>
                    <span className="text-2xl text-slate-400">‚Üí</span>
                    <div className="p-4 bg-amber-100 rounded-full text-center"><span className="text-2xl">üí°</span><p className="text-sm font-bold text-amber-700 mt-1">{t("APRENDRE", "APRENDER", "LEARN")}</p></div>
                </div>
                <TheoryBlock title={t("MVP (Producte M√≠nim Viable)", "MVP (Producto M√≠nimo Viable)", "MVP (Minimum Viable Product)")} color="violet">
                    <p>{t("Versi√≥ simplificada del producte per testar hip√≤tesis amb clients reals i obtenir feedback r√†pidament.", "Versi√≥n simplificada del producto para testar hip√≥tesis con clientes reales.", "Simplified product version to test hypotheses with real customers.")}</p>
                </TheoryBlock>
            </Card>
        </div>
    );

    // NAVEGACI√ì I RENDER
    return (
        <div className="min-h-screen">
            <header className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
                <div className="max-w-7xl mx-auto px-4">
                    <div className="flex items-center justify-between h-16">
                        <button onClick={() => setSection('inicio')} className="flex items-center gap-2">
                            <div className="p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl text-white text-lg">üè¢</div>
                            <span className="font-bold text-lg text-slate-800 hidden sm:block">{t('Empresa', 'Empresa', 'Business')}</span>
                        </button>
                        
                        <nav className="hidden xl:flex items-center gap-0.5 overflow-x-auto">
                            <NavBtn sec="inicio" icon="üè†" label={t('Inici', 'Inicio', 'Home')} />
                            <NavBtn sec="comptabilitat" icon="üìí" label={t('Comptab.', 'Contab.', 'Account.')} />
                            <NavBtn sec="analisi" icon="üìä" label={t('An√†lisi', 'An√°lisis', 'Analysis')} />
                            <NavBtn sec="costos" icon="üí∞" label={t('Costos', 'Costes', 'Costs')} />
                            <NavBtn sec="inversio" icon="üìà" label={t('Inversi√≥', 'Inversi√≥n', 'Investment')} />
                            <NavBtn sec="fiscalitat" icon="üèõÔ∏è" label="Fiscal" />
                            <NavBtn sec="produccio" icon="üè≠" label={t('Producci√≥', 'Producci√≥n', 'Production')} />
                            <NavBtn sec="rrhh" icon="üë•" label="RRHH" />
                            <NavBtn sec="marketing" icon="üì£" label="Marketing" />
                            <NavBtn sec="estrategia" icon="üéØ" label={t('Estrat√®gia', 'Estrategia', 'Strategy')} />
                            <NavBtn sec="formes" icon="‚öñÔ∏è" label={t('Formes', 'Formas', 'Forms')} />
                            <NavBtn sec="financament" icon="üè¶" label={t('Finan√ßam.', 'Financ.', 'Finance')} />
                            <NavBtn sec="emprenedoria" icon="üöÄ" label={t('Emprened.', 'Emprend.', 'Startup')} />
                        </nav>
                        
                        <div className="flex items-center gap-2">
                            <div className="flex items-center gap-1 bg-slate-100 rounded-lg p-1">
                                {['val', 'es', 'en'].map(lang => (
                                    <button key={lang} onClick={() => setIdioma(lang)} className={`px-2 py-1 rounded text-xs font-bold transition-all ${idioma === lang ? 'bg-blue-500 text-white shadow' : 'text-slate-600 hover:bg-slate-200'}`}>
                                        {lang.toUpperCase()}
                                    </button>
                                ))}
                            </div>
                            <button onClick={() => setMenuOpen(!menuOpen)} className="xl:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                                {menuOpen ? '‚úï' : '‚ò∞'}
                            </button>
                        </div>
                    </div>
                    
                    {menuOpen && (
                        <div className="xl:hidden py-4 border-t border-slate-100 animate-fade">
                            <div className="grid grid-cols-4 sm:grid-cols-6 gap-2">
                                {[{sec:'inicio',icon:'üè†',label:t('Inici','Inicio','Home')},{sec:'comptabilitat',icon:'üìí',label:t('Comptab.','Contab.','Account.')},{sec:'analisi',icon:'üìä',label:t('An√†lisi','An√°lisis','Analysis')},{sec:'costos',icon:'üí∞',label:t('Costos','Costes','Costs')},{sec:'inversio',icon:'üìà',label:t('Inversi√≥','Inversi√≥n','Invest.')},{sec:'fiscalitat',icon:'üèõÔ∏è',label:'Fiscal'},{sec:'produccio',icon:'üè≠',label:t('Produc.','Produc.','Prod.')},{sec:'rrhh',icon:'üë•',label:'RRHH'},{sec:'marketing',icon:'üì£',label:'Market.'},{sec:'estrategia',icon:'üéØ',label:t('Estrat.','Estrat.','Strategy')},{sec:'formes',icon:'‚öñÔ∏è',label:t('Formes','Formas','Forms')},{sec:'financament',icon:'üè¶',label:t('Finan√ß.','Financ.','Finance')},{sec:'emprenedoria',icon:'üöÄ',label:t('Empr.','Empr.','Startup')}].map(item => (
                                    <button key={item.sec} onClick={() => { setSection(item.sec); setMenuOpen(false); }} className={`p-3 rounded-lg text-center transition-all ${section === item.sec ? 'bg-blue-100 text-blue-700' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'}`}>
                                        <span className="text-xl block mb-1">{item.icon}</span>
                                        <span className="text-xs font-medium">{item.label}</span>
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            </header>
            
            <main className="max-w-7xl mx-auto px-4 py-8">
                {section === 'inicio' && <Inicio />}
                {section === 'comptabilitat' && <Comptabilitat />}
                {section === 'analisi' && <AnalisiFinancera />}
                {section === 'costos' && <CostosPuntMort />}
                {section === 'inversio' && <Inversio />}
                {section === 'fiscalitat' && <Fiscalitat />}
                {section === 'produccio' && <Produccio />}
                {section === 'rrhh' && <RRHH />}
                {section === 'marketing' && <Marketing />}
                {section === 'estrategia' && <Estrategia />}
                {section === 'formes' && <FormesJuridiques />}
                {section === 'financament' && <Financament />}
                {section === 'emprenedoria' && <Emprenedoria />}
            </main>
            
            <footer className="py-6 text-center text-sm text-slate-400 border-t border-slate-100">
                <p>Empresa ¬∑ PDE ¬∑ profedeeconomia.es ¬∑ 2025</p>
            </footer>
        </div>
    );
}

ReactDOM.render(<EmpresaApp />, document.getElementById('root'));
    </script>
</body>
</html>
