<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empresa - Gesti√≥ Empresarial Completa | PDE</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.4s ease-out; }
        .dropdown-content { display: none; }
        .dropdown:hover .dropdown-content { display: block; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-white to-blue-50 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
const { useState, useMemo, useEffect } = React;

function EmpresaApp() {
    const [section, setSection] = useState('inicio');
    const [menuOpen, setMenuOpen] = useState(false);
    const [idioma, setIdioma] = useState('val');

    const t = (val, es, en) => idioma === 'val' ? val : idioma === 'es' ? es : en;

    // Components reutilitzables
    const Card = ({ children, className = "", title, icon }) => (
        <div className={`bg-white rounded-2xl shadow-sm border border-slate-200/60 p-6 hover:shadow-md transition-shadow ${className} animate-fade`}>
            {title && <div className="flex items-center gap-3 mb-5 pb-4 border-b border-slate-100"><span className="text-2xl">{icon}</span><h3 className="font-bold text-slate-800 text-lg">{title}</h3></div>}
            {children}
        </div>
    );
    
    const Slider = ({ label, value, onChange, min, max, step = 1, suffix = "" }) => (
        <div className="space-y-2">
            <div className="flex justify-between text-sm"><span className="text-slate-600 font-medium">{label}</span><span className="font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded">{typeof value === 'number' ? value.toLocaleString() : value}{suffix}</span></div>
            <input type="range" min={min} max={max} step={step} value={value} onChange={e => onChange(Number(e.target.value))} className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500" />
        </div>
    );
    
    const Tabs = ({ tabs, active, onChange }) => (
        <div className="flex flex-wrap gap-1 p-1.5 bg-slate-100 rounded-xl">
            {tabs.map(tab => (
                <button key={tab.id} onClick={() => onChange(tab.id)} className={`flex-1 min-w-fit py-2.5 px-4 rounded-lg text-sm font-semibold transition-all ${active === tab.id ? 'bg-white shadow-sm text-blue-600' : 'text-slate-600 hover:text-slate-800 hover:bg-white/50'}`}>
                    {tab.label}
                </button>
            ))}
        </div>
    );
    
    const FormulaBox = ({ formula, desc }) => (
        <div className="my-4 p-5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100">
            <p className="text-center font-mono text-lg text-blue-800 font-semibold">{formula}</p>
            {desc && <p className="text-center text-sm text-blue-600 mt-2">{desc}</p>}
        </div>
    );
    
    const TheoryBlock = ({ title, children, color = "slate" }) => {
        const colors = { slate: "border-slate-300 bg-slate-50", blue: "border-blue-300 bg-blue-50", green: "border-green-300 bg-green-50", amber: "border-amber-300 bg-amber-50", pink: "border-pink-300 bg-pink-50", violet: "border-violet-300 bg-violet-50", red: "border-red-300 bg-red-50", cyan: "border-cyan-300 bg-cyan-50", emerald: "border-emerald-300 bg-emerald-50" };
        return (
            <div className={`border-l-4 ${colors[color]} p-5 rounded-r-xl my-4`}>
                {title && <h4 className="font-bold text-slate-800 mb-3 text-base">{title}</h4>}
                <div className="text-slate-700 text-sm leading-relaxed space-y-2">{children}</div>
            </div>
        );
    };

    // üéØ COMPONENT: Per qu√® √©s important?
    const WhyImportant = ({ children }) => (
        <div className="my-4 p-4 bg-gradient-to-r from-amber-50 to-yellow-50 rounded-xl border border-amber-200">
            <div className="flex items-start gap-3">
                <span className="text-2xl">üéØ</span>
                <div>
                    <h4 className="font-bold text-amber-700 mb-1">{t("Per qu√® t'importa aix√≤?", "¬øPor qu√© te importa esto?", "Why does this matter to you?")}</h4>
                    <p className="text-sm text-amber-800">{children}</p>
                </div>
            </div>
        </div>
    );
    
    const ResultCard = ({ title, value, color = "gray", subtitle }) => {
        const colorClasses = { green: 'bg-green-50 border-green-200 text-green-700', red: 'bg-red-50 border-red-200 text-red-700', blue: 'bg-blue-50 border-blue-200 text-blue-700', amber: 'bg-amber-50 border-amber-200 text-amber-700', violet: 'bg-violet-50 border-violet-200 text-violet-700', gray: 'bg-slate-50 border-slate-200 text-slate-700' };
        return (
            <div className={`p-4 rounded-xl text-center border ${colorClasses[color]}`}>
                <p className="text-xs text-slate-500 mb-1 font-medium">{title}</p>
                <p className="text-xl font-black">{value}</p>
                {subtitle && <p className="text-xs mt-1 opacity-75">{subtitle}</p>}
            </div>
        );
    };

    const SectionTitle = ({ icon, title, subtitle }) => (
        <div className="mb-8">
            <div className="flex items-center gap-3 mb-2"><span className="text-3xl">{icon}</span><h1 className="text-3xl font-black text-slate-800">{title}</h1></div>
            {subtitle && <p className="text-slate-500 ml-12">{subtitle}</p>}
        </div>
    );

    // MEN√ö DESKTOP AMB DESPLEGABLES
    const menuGroups = [
        {
            id: 'finances',
            label: t('üí∞ Finances', 'üí∞ Finanzas', 'üí∞ Finance'),
            items: [
                { sec: 'comptabilitat', icon: 'üìí', label: t('Comptabilitat', 'Contabilidad', 'Accounting') },
                { sec: 'analisi', icon: 'üìä', label: t('An√†lisi Financera', 'An√°lisis Financiero', 'Financial Analysis') },
                { sec: 'costos', icon: 'üí∞', label: t('Costos i Punt Mort', 'Costes y Umbral', 'Costs & Break-even') },
                { sec: 'inversio', icon: 'üìà', label: t('Inversi√≥', 'Inversi√≥n', 'Investment') },
                { sec: 'fiscalitat', icon: 'üèõÔ∏è', label: t('Fiscalitat', 'Fiscalidad', 'Taxation') },
            ]
        },
        {
            id: 'operacions',
            label: t('‚öôÔ∏è Operacions', '‚öôÔ∏è Operaciones', '‚öôÔ∏è Operations'),
            items: [
                { sec: 'produccio', icon: 'üè≠', label: t('Producci√≥', 'Producci√≥n', 'Production') },
                { sec: 'rrhh', icon: 'üë•', label: t('Recursos Humans', 'Recursos Humanos', 'Human Resources') },
                { sec: 'marketing', icon: 'üì£', label: 'Marketing' },
            ]
        },
        {
            id: 'estrategia',
            label: t('üéØ Estrat√®gia', 'üéØ Estrategia', 'üéØ Strategy'),
            items: [
                { sec: 'estrategia', icon: 'üéØ', label: t('An√†lisi Estrat√®gica', 'An√°lisis Estrat√©gico', 'Strategic Analysis') },
                { sec: 'formes', icon: '‚öñÔ∏è', label: t('Formes Jur√≠diques', 'Formas Jur√≠dicas', 'Legal Forms') },
                { sec: 'financament', icon: 'üè¶', label: t('Finan√ßament', 'Financiaci√≥n', 'Financing') },
            ]
        },
        {
            id: 'emprendre',
            label: t('üöÄ Emprendre', 'üöÄ Emprender', 'üöÄ Startup'),
            items: [
                { sec: 'emprenedoria', icon: 'üöÄ', label: t('Guia Emprenedoria', 'Gu√≠a Emprendimiento', 'Startup Guide') },
            ]
        }
    ];

    // SECCI√ì INICI
    const Inicio = () => {
        const sections = [
            { id: 'comptabilitat', name: t('Comptabilitat', 'Contabilidad', 'Accounting'), icon: 'üìí', color: 'from-blue-500 to-indigo-500', desc: t('Balan√ß, PiG, cicle comptable', 'Balance, PyG, ciclo contable', 'Balance, P&L, accounting cycle') },
            { id: 'analisi', name: t('An√†lisi Financera', 'An√°lisis Financiero', 'Financial Analysis'), icon: 'üìä', color: 'from-green-500 to-emerald-500', desc: t('R√†tios, fons maniobra', 'Ratios, fondo maniobra', 'Ratios, working capital') },
            { id: 'costos', name: t('Costos i Punt Mort', 'Costes y Umbral', 'Costs & Break-even'), icon: 'üí∞', color: 'from-amber-500 to-orange-500', desc: t('CF, CV, gr√†fiques de costos', 'CF, CV, gr√°ficas de costes', 'FC, VC, cost graphs') },
            { id: 'inversio', name: t('Inversi√≥', 'Inversi√≥n', 'Investment'), icon: 'üìà', color: 'from-violet-500 to-purple-500', desc: 'VAN, TIR, Payback' },
            { id: 'fiscalitat', name: t('Fiscalitat', 'Fiscalidad', 'Taxation'), icon: 'üèõÔ∏è', color: 'from-red-500 to-rose-500', desc: 'IS, IVA, IRPF' },
            { id: 'produccio', name: t('Producci√≥', 'Producci√≥n', 'Production'), icon: 'üè≠', color: 'from-cyan-500 to-teal-500', desc: t('Productivitat, JIT, Lean', 'Productividad, JIT, Lean', 'Productivity, JIT, Lean') },
            { id: 'rrhh', name: t('Recursos Humans', 'Recursos Humanos', 'Human Resources'), icon: 'üë•', color: 'from-indigo-500 to-blue-500', desc: t('Motivaci√≥, lideratge', 'Motivaci√≥n, liderazgo', 'Motivation, leadership') },
            { id: 'marketing', name: 'Marketing', icon: 'üì£', color: 'from-fuchsia-500 to-pink-500', desc: t('4Ps, BCG, cicle vida', '4Ps, BCG, ciclo vida', '4Ps, BCG, life cycle') },
            { id: 'estrategia', name: t('Estrat√®gia', 'Estrategia', 'Strategy'), icon: 'üéØ', color: 'from-slate-600 to-slate-700', desc: t('DAFO editable, Canvas editable, Porter', 'DAFO editable, Canvas editable, Porter', 'Editable SWOT, Canvas, Porter') },
            { id: 'formes', name: t('Formes Jur√≠diques', 'Formas Jur√≠dicas', 'Legal Forms'), icon: '‚öñÔ∏è', color: 'from-emerald-500 to-green-600', desc: t('SL, SA, cooperatives', 'SL, SA, cooperativas', 'LLC, Corp, cooperatives') },
            { id: 'financament', name: t('Finan√ßament', 'Financiaci√≥n', 'Financing'), icon: 'üè¶', color: 'from-sky-500 to-blue-500', desc: t('Propi vs ali√®, pr√©stecs', 'Propio vs ajeno, pr√©stamos', 'Own vs external, loans') },
            { id: 'emprenedoria', name: t('Emprenedoria', 'Emprendimiento', 'Entrepreneurship'), icon: 'üöÄ', color: 'from-orange-500 to-red-500', desc: t('Guia completa pas a pas', 'Gu√≠a completa paso a paso', 'Complete step-by-step guide') },
        ];
        
        return (
            <div className="space-y-8">
                <div className="text-center py-8 animate-fade">
                    <h1 className="text-4xl md:text-5xl font-black text-slate-800 mb-4">üè¢ {t('Economia de l\'Empresa', 'Econom√≠a de la Empresa', 'Business Economics')}</h1>
                    <p className="text-lg text-slate-500 max-w-2xl mx-auto">{t('Tot el que necessites per entendre com funcionen les empreses: des de la comptabilitat fins a l\'emprenedoria.', 'Todo lo que necesitas para entender c√≥mo funcionan las empresas.', 'Everything you need to understand how businesses work.')}</p>
                </div>
                
                <WhyImportant>
                    {t("Vius envoltat d'empreses: la botiga on compres, l'hospital on et curen, Spotify, Netflix, el bar de la cantonada. Entendre com funcionen et permet prendre millors decisions: com a consumidor, com a treballador, com a futur emprenedor. Si alguna vegada vols crear el teu propi negoci, o simplement votar amb criteri sobre pol√≠tiques econ√≤miques, necessites saber aix√≤.",
                       "Vives rodeado de empresas: la tienda donde compras, el hospital, Spotify, Netflix, el bar de la esquina. Entender c√≥mo funcionan te permite tomar mejores decisiones: como consumidor, como trabajador, como futuro emprendedor.",
                       "You live surrounded by businesses: the store where you shop, the hospital, Spotify, Netflix, the corner bar. Understanding how they work helps you make better decisions: as a consumer, worker, or future entrepreneur.")}
                </WhyImportant>
                
                <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                    {sections.map(sec => (
                        <button key={sec.id} onClick={() => setSection(sec.id)} className={`p-5 rounded-xl bg-gradient-to-br ${sec.color} text-white text-left hover:scale-105 transition-transform shadow-lg`}>
                            <span className="text-3xl">{sec.icon}</span>
                            <h3 className="font-bold mt-2">{sec.name}</h3>
                            <p className="text-sm opacity-90 mt-1">{sec.desc}</p>
                        </button>
                    ))}
                </div>
            </div>
        );
    };

    // SECCI√ì COMPTABILITAT
    const Comptabilitat = () => {
        const [tab, setTab] = useState('teoria');
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìí" title={t('Comptabilitat', 'Contabilidad', 'Accounting')} subtitle={t('El llenguatge dels negocis', 'El lenguaje de los negocios', 'The language of business')} />
                
                <WhyImportant>
                    {t("La comptabilitat √©s com l'historial m√®dic d'una empresa. Sense ella, no sabries si l'empresa est√† sana o malalta. Quan demanes un pr√©stec, el banc mira els comptes. Quan vols invertir en una empresa, mires els comptes. Quan vols saber si et pagaran el sou, mires... els comptes. √âs la base de TOTES les decisions financeres.",
                       "La contabilidad es como el historial m√©dico de una empresa. Sin ella, no sabr√≠as si la empresa est√° sana o enferma. Cuando pides un pr√©stamo, el banco mira las cuentas. Es la base de TODAS las decisiones financieras.",
                       "Accounting is like a company's medical record. Without it, you wouldn't know if the business is healthy or sick. It's the foundation of ALL financial decisions.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Conceptes', 'üìö Conceptos', 'üìö Concepts') },
                    { id: 'balans', label: t('üìã Balan√ß', 'üìã Balance', 'üìã Balance Sheet') },
                    { id: 'pig', label: t('üìà PyG', 'üìà PyG', 'üìà P&L') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("L'Equaci√≥ Fonamental", "La Ecuaci√≥n Fundamental", "The Fundamental Equation")} icon="‚öñÔ∏è">
                            <FormulaBox formula="ACTIU = PASSIU + PATRIMONI NET" desc={t("Sempre en equilibri!", "¬°Siempre en equilibrio!", "Always in balance!")} />
                            
                            <div className="grid md:grid-cols-3 gap-4 mt-6">
                                <TheoryBlock title={t("ACTIU (el que t√©)", "ACTIVO (lo que tiene)", "ASSETS (what it has)")} color="green">
                                    <p>{t("Tot el que l'empresa posseeix i li deu diners:", "Todo lo que la empresa posee:", "Everything the company owns:")}</p>
                                    <ul className="mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Diners en banc", "Dinero en banco", "Cash in bank")}</li>
                                        <li>‚Ä¢ {t("Maquin√†ria, vehicles", "Maquinaria, veh√≠culos", "Machinery, vehicles")}</li>
                                        <li>‚Ä¢ {t("Estoc de productes", "Stock de productos", "Product inventory")}</li>
                                        <li>‚Ä¢ {t("Clients que ens deuen", "Clientes que nos deben", "Customers who owe us")}</li>
                                    </ul>
                                </TheoryBlock>
                                
                                <TheoryBlock title={t("PASSIU (el que deu)", "PASIVO (lo que debe)", "LIABILITIES (what it owes)")} color="red">
                                    <p>{t("Tot el que l'empresa deu a tercers:", "Todo lo que la empresa debe a terceros:", "Everything owed to others:")}</p>
                                    <ul className="mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Pr√©stecs bancaris", "Pr√©stamos bancarios", "Bank loans")}</li>
                                        <li>‚Ä¢ {t("Prove√Ødors pendents", "Proveedores pendientes", "Pending suppliers")}</li>
                                        <li>‚Ä¢ {t("Impostos per pagar", "Impuestos por pagar", "Taxes to pay")}</li>
                                    </ul>
                                </TheoryBlock>
                                
                                <TheoryBlock title={t("PATRIMONI NET", "PATRIMONIO NETO", "EQUITY")} color="blue">
                                    <p>{t("El valor real dels propietaris:", "El valor real de los propietarios:", "The owners' real value:")}</p>
                                    <ul className="mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Capital aportat", "Capital aportado", "Contributed capital")}</li>
                                        <li>‚Ä¢ {t("Beneficis acumulats", "Beneficios acumulados", "Retained earnings")}</li>
                                        <li>‚Ä¢ {t("Reserves", "Reservas", "Reserves")}</li>
                                    </ul>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("Actiu Corrent vs No Corrent", "Activo Corriente vs No Corriente", "Current vs Non-Current Assets")} icon="üì¶">
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                                    <h4 className="font-bold text-emerald-700 mb-2">üîÑ {t("Actiu Corrent", "Activo Corriente", "Current Assets")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Es converteix en diners en MENYS d'1 any", "Se convierte en dinero en MENOS de 1 a√±o", "Converts to cash in LESS than 1 year")}</p>
                                    <ul className="text-sm text-emerald-600 space-y-1">
                                        <li>‚Ä¢ {t("Exist√®ncies (estoc)", "Existencias (stock)", "Inventory (stock)")}</li>
                                        <li>‚Ä¢ {t("Clients (realitzable)", "Clientes (realizable)", "Accounts receivable")}</li>
                                        <li>‚Ä¢ {t("Bancs i caixa (disponible)", "Bancos y caja (disponible)", "Cash and banks")}</li>
                                    </ul>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl border border-violet-200">
                                    <h4 className="font-bold text-violet-700 mb-2">üèóÔ∏è {t("Actiu No Corrent", "Activo No Corriente", "Non-Current Assets")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Es queda a l'empresa M√âS d'1 any", "Se queda en la empresa M√ÅS de 1 a√±o", "Stays in the company MORE than 1 year")}</p>
                                    <ul className="text-sm text-violet-600 space-y-1">
                                        <li>‚Ä¢ {t("Terrenys i edificis", "Terrenos y edificios", "Land and buildings")}</li>
                                        <li>‚Ä¢ {t("Maquin√†ria", "Maquinaria", "Machinery")}</li>
                                        <li>‚Ä¢ {t("Patents, marques (intangible)", "Patentes, marcas (intangible)", "Patents, brands (intangible)")}</li>
                                    </ul>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'balans' && (
                    <Card title={t("Estructura del Balan√ß", "Estructura del Balance", "Balance Sheet Structure")} icon="üìã">
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="space-y-3">
                                <h4 className="font-bold text-green-700 text-center py-2 bg-green-100 rounded-lg">{t("ACTIU (Inversions)", "ACTIVO (Inversiones)", "ASSETS (Investments)")}</h4>
                                <div className="p-3 bg-violet-50 rounded-lg border-l-4 border-violet-400">
                                    <p className="font-semibold text-violet-700">{t("Actiu No Corrent", "Activo No Corriente", "Non-Current Assets")}</p>
                                    <p className="text-xs text-slate-500">{t("Immovilitzat material, intangible, financer", "Inmovilizado material, intangible, financiero", "Fixed assets, intangible, financial")}</p>
                                </div>
                                <div className="p-3 bg-emerald-50 rounded-lg border-l-4 border-emerald-400">
                                    <p className="font-semibold text-emerald-700">{t("Actiu Corrent", "Activo Corriente", "Current Assets")}</p>
                                    <p className="text-xs text-slate-500">{t("Exist√®ncies + Realitzable + Disponible", "Existencias + Realizable + Disponible", "Inventory + Receivables + Cash")}</p>
                                </div>
                            </div>
                            <div className="space-y-3">
                                <h4 className="font-bold text-red-700 text-center py-2 bg-red-100 rounded-lg">{t("PASSIU + PN (Finan√ßament)", "PASIVO + PN (Financiaci√≥n)", "LIABILITIES + EQUITY")}</h4>
                                <div className="p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                    <p className="font-semibold text-blue-700">{t("Patrimoni Net", "Patrimonio Neto", "Equity")}</p>
                                    <p className="text-xs text-slate-500">{t("Capital + Reserves + Resultat", "Capital + Reservas + Resultado", "Capital + Reserves + Result")}</p>
                                </div>
                                <div className="p-3 bg-amber-50 rounded-lg border-l-4 border-amber-400">
                                    <p className="font-semibold text-amber-700">{t("Passiu No Corrent", "Pasivo No Corriente", "Non-Current Liabilities")}</p>
                                    <p className="text-xs text-slate-500">{t("Deutes a llarg termini (>1 any)", "Deudas a largo plazo (>1 a√±o)", "Long-term debts (>1 year)")}</p>
                                </div>
                                <div className="p-3 bg-red-50 rounded-lg border-l-4 border-red-400">
                                    <p className="font-semibold text-red-700">{t("Passiu Corrent", "Pasivo Corriente", "Current Liabilities")}</p>
                                    <p className="text-xs text-slate-500">{t("Deutes a curt termini (<1 any)", "Deudas a corto plazo (<1 a√±o)", "Short-term debts (<1 year)")}</p>
                                </div>
                            </div>
                        </div>
                    </Card>
                )}
                
                {tab === 'pig' && (
                    <Card title={t("Compte de P√®rdues i Guanys (PyG)", "Cuenta de P√©rdidas y Ganancias", "Profit & Loss Statement")} icon="üìà">
                        <WhyImportant>
                            {t("El balan√ß et diu COM EST√Ä l'empresa en un moment. El PyG et diu COM LI HA ANAT durant un per√≠ode. √âs com la difer√®ncia entre fer-te una foto (balan√ß) i gravar un v√≠deo (PyG).",
                               "El balance te dice C√ìMO EST√Å la empresa en un momento. El PyG te dice C√ìMO LE HA IDO durante un per√≠odo.",
                               "The balance sheet tells you how the company IS at a moment. The P&L tells you how it's BEEN DOING over a period.")}
                        </WhyImportant>
                        
                        <div className="space-y-3 mt-4">
                            <div className="flex items-center gap-3 p-3 bg-green-100 rounded-lg">
                                <span className="text-xl">üí∞</span>
                                <div className="flex-1"><p className="font-semibold text-green-700">{t("Ingressos d'explotaci√≥", "Ingresos de explotaci√≥n", "Operating revenue")}</p></div>
                                <span className="font-bold text-green-700">+</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-red-100 rounded-lg">
                                <span className="text-xl">üì¶</span>
                                <div className="flex-1"><p className="font-semibold text-red-700">{t("Despeses d'explotaci√≥", "Gastos de explotaci√≥n", "Operating expenses")}</p></div>
                                <span className="font-bold text-red-700">‚àí</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-blue-100 rounded-lg border-2 border-blue-300">
                                <span className="text-xl">üìä</span>
                                <div className="flex-1"><p className="font-bold text-blue-700">{t("= Resultat d'explotaci√≥ (BAII)", "= Resultado de explotaci√≥n (BAII)", "= Operating result (EBIT)")}</p></div>
                                <span className="font-bold text-blue-700">=</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-amber-100 rounded-lg">
                                <span className="text-xl">üè¶</span>
                                <div className="flex-1"><p className="font-semibold text-amber-700">{t("Resultat financer (interessos)", "Resultado financiero (intereses)", "Financial result (interest)")}</p></div>
                                <span className="font-bold text-amber-700">¬±</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-violet-100 rounded-lg border-2 border-violet-300">
                                <span className="text-xl">üìà</span>
                                <div className="flex-1"><p className="font-bold text-violet-700">{t("= Resultat abans d'impostos (BAI)", "= Resultado antes de impuestos (BAI)", "= Result before taxes (EBT)")}</p></div>
                                <span className="font-bold text-violet-700">=</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-red-100 rounded-lg">
                                <span className="text-xl">üèõÔ∏è</span>
                                <div className="flex-1"><p className="font-semibold text-red-700">{t("Impost sobre societats (25%)", "Impuesto sobre sociedades (25%)", "Corporate tax (25%)")}</p></div>
                                <span className="font-bold text-red-700">‚àí</span>
                            </div>
                            <div className="flex items-center gap-3 p-3 bg-gradient-to-r from-green-200 to-emerald-200 rounded-lg border-2 border-green-400">
                                <span className="text-xl">üéâ</span>
                                <div className="flex-1"><p className="font-black text-green-800">{t("= RESULTAT NET (Benefici/P√®rdua)", "= RESULTADO NETO", "= NET RESULT (Profit/Loss)")}</p></div>
                                <span className="font-black text-green-800">=</span>
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì AN√ÄLISI FINANCERA
    const AnalisiFinancera = () => {
        const [tab, setTab] = useState('teoria');
        const [actC, setActC] = useState(80000);
        const [existencies, setExistencies] = useState(20000);
        const [disponible, setDisponible] = useState(15000);
        const [passC, setPassC] = useState(50000);
        const [actiu, setActiu] = useState(200000);
        const [passiu, setPassiu] = useState(120000);
        const [pn, setPN] = useState(80000);
        const [benefici, setBenefici] = useState(25000);
        
        const ratios = useMemo(() => ({
            liquiditat: (actC / passC).toFixed(2),
            acidTest: ((actC - existencies) / passC).toFixed(2),
            disponibilitat: (disponible / passC).toFixed(2),
            endeutament: ((passiu / (passiu + pn)) * 100).toFixed(1),
            autonomia: ((pn / (passiu + pn)) * 100).toFixed(1),
            ROA: ((benefici / actiu) * 100).toFixed(1),
            ROE: ((benefici / pn) * 100).toFixed(1),
            fonsManiobra: actC - passC
        }), [actC, existencies, disponible, passC, actiu, passiu, pn, benefici]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìä" title={t('An√†lisi Financera', 'An√°lisis Financiero', 'Financial Analysis')} subtitle={t('Diagnostica la salut de l\'empresa', 'Diagnostica la salud de la empresa', 'Diagnose the company\'s health')} />
                
                <WhyImportant>
                    {t("Els r√†tios financers s√≥n com les an√†lisis de sang d'una empresa. Un metge no et diu 'tens 5 milions de gl√≤buls vermells' - et diu si est√†s dins del rang normal. Igual amb les empreses: no importa tenir 1 mili√≥ en caixa si deus 10 milions dem√†. Els r√†tios et diuen si l'empresa pot pagar els seus deutes, si √©s rendible, si dep√®n massa dels bancs...",
                       "Los ratios financieros son como los an√°lisis de sangre de una empresa. Un m√©dico no te dice 'tienes 5 millones de gl√≥bulos rojos' - te dice si est√°s en el rango normal. Los ratios te dicen si la empresa puede pagar sus deudas, si es rentable...",
                       "Financial ratios are like a company's blood tests. A doctor doesn't say 'you have 5 million red blood cells' - they tell you if you're in the normal range. Ratios tell you if the company can pay its debts, if it's profitable...")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö R√†tios', 'üìö Ratios', 'üìö Ratios') },
                    { id: 'simulador', label: t('üßÆ Simulador', 'üßÆ Simulador', 'üßÆ Simulator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("R√†tios de Liquiditat", "Ratios de Liquidez", "Liquidity Ratios")} icon="üíß">
                            <p className="text-sm text-slate-600 mb-4">{t("Mesuren la capacitat de l'empresa per pagar els deutes a CURT TERMINI (menys d'1 any)", "Miden la capacidad de pagar deudas a CORTO PLAZO", "Measure ability to pay SHORT-TERM debts")}</p>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-blue-50 rounded-xl">
                                    <h4 className="font-bold text-blue-700">{t("Liquiditat General", "Liquidez General", "Current Ratio")}</h4>
                                    <FormulaBox formula="AC / PC" />
                                    <p className="text-sm text-slate-600">‚úÖ {t("Ideal: 1,5 - 2", "Ideal: 1,5 - 2", "Ideal: 1.5 - 2")}</p>
                                    <p className="text-xs text-slate-500 mt-2">{t("Si √©s 1,5 ‚Üí Tens 1,5‚Ç¨ per cada 1‚Ç¨ que deus a curt termini", "Si es 1,5 ‚Üí Tienes 1,5‚Ç¨ por cada 1‚Ç¨ que debes a corto plazo", "If 1.5 ‚Üí You have ‚Ç¨1.5 for each ‚Ç¨1 owed short-term")}</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl">
                                    <h4 className="font-bold text-amber-700">Acid Test</h4>
                                    <FormulaBox formula="(AC - Exist√®ncies) / PC" />
                                    <p className="text-sm text-slate-600">‚úÖ {t("Ideal: ‚âà 1", "Ideal: ‚âà 1", "Ideal: ‚âà 1")}</p>
                                    <p className="text-xs text-slate-500 mt-2">{t("M√©s estricte: exclou l'estoc (que pot ser dif√≠cil de vendre)", "M√°s estricto: excluye el stock (puede ser dif√≠cil de vender)", "Stricter: excludes inventory (may be hard to sell)")}</p>
                                </div>
                                <div className="p-4 bg-emerald-50 rounded-xl">
                                    <h4 className="font-bold text-emerald-700">{t("Disponibilitat", "Disponibilidad", "Cash Ratio")}</h4>
                                    <FormulaBox formula="Disponible / PC" />
                                    <p className="text-sm text-slate-600">‚úÖ {t("Ideal: 0,1 - 0,3", "Ideal: 0,1 - 0,3", "Ideal: 0.1 - 0.3")}</p>
                                    <p className="text-xs text-slate-500 mt-2">{t("Diners en caixa ara mateix / deutes a pagar", "Dinero en caja ahora mismo / deudas a pagar", "Cash on hand right now / debts to pay")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("R√†tios de Solv√®ncia", "Ratios de Solvencia", "Solvency Ratios")} icon="üè¶">
                            <p className="text-sm text-slate-600 mb-4">{t("Mesuren l'estructura financera i la depend√®ncia dels bancs", "Miden la estructura financiera y la dependencia de los bancos", "Measure financial structure and bank dependence")}</p>
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="p-4 bg-red-50 rounded-xl">
                                    <h4 className="font-bold text-red-700">{t("Endeutament", "Endeudamiento", "Debt Ratio")}</h4>
                                    <FormulaBox formula="Passiu / (Passiu + PN) √ó 100" />
                                    <p className="text-sm text-slate-600">‚úÖ {t("Ideal: 40% - 60%", "Ideal: 40% - 60%", "Ideal: 40% - 60%")}</p>
                                    <p className="text-xs text-slate-500 mt-2">{t("Si √©s 70% ‚Üí El 70% del finan√ßament ve de deutes. Risc alt!", "Si es 70% ‚Üí El 70% de la financiaci√≥n viene de deudas. ¬°Riesgo alto!", "If 70% ‚Üí 70% of financing comes from debt. High risk!")}</p>
                                </div>
                                <div className="p-4 bg-emerald-50 rounded-xl">
                                    <h4 className="font-bold text-emerald-700">{t("Autonomia Financera", "Autonom√≠a Financiera", "Financial Autonomy")}</h4>
                                    <FormulaBox formula="PN / (Passiu + PN) √ó 100" />
                                    <p className="text-sm text-slate-600">‚úÖ {t("Ideal: 40% - 60%", "Ideal: 40% - 60%", "Ideal: 40% - 60%")}</p>
                                    <p className="text-xs text-slate-500 mt-2">{t("El contrari de l'endeutament. Quant pertany als propietaris?", "Lo contrario del endeudamiento. ¬øCu√°nto pertenece a los propietarios?", "Opposite of debt ratio. How much belongs to owners?")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Fons de Maniobra", "Fondo de Maniobra", "Working Capital")} icon="üîÑ">
                            <FormulaBox formula="FM = Actiu Corrent - Passiu Corrent" />
                            <div className="grid md:grid-cols-3 gap-4 mt-4">
                                <div className="p-4 bg-green-100 rounded-xl border-2 border-green-300">
                                    <h4 className="font-bold text-green-700 text-lg">FM &gt; 0 ‚úì</h4>
                                    <p className="text-sm text-green-600 mt-2">{t("Situaci√≥ d'equilibri. L'empresa pot pagar els seus deutes a curt termini.", "Situaci√≥n de equilibrio. La empresa puede pagar sus deudas a corto plazo.", "Balanced situation. Company can pay short-term debts.")}</p>
                                </div>
                                <div className="p-4 bg-amber-100 rounded-xl border-2 border-amber-300">
                                    <h4 className="font-bold text-amber-700 text-lg">FM = 0 ‚ö†Ô∏è</h4>
                                    <p className="text-sm text-amber-600 mt-2">{t("Situaci√≥ l√≠mit. Qualsevol imprevist pot causar problemes de pagament.", "Situaci√≥n l√≠mite. Cualquier imprevisto puede causar problemas de pago.", "Borderline. Any unexpected event can cause payment problems.")}</p>
                                </div>
                                <div className="p-4 bg-red-100 rounded-xl border-2 border-red-300">
                                    <h4 className="font-bold text-red-700 text-lg">FM &lt; 0 ‚úó</h4>
                                    <p className="text-sm text-red-600 mt-2">{t("Desequilibri financer! L'empresa podria tenir problemes per pagar.", "¬°Desequilibrio financiero! La empresa podr√≠a tener problemas para pagar.", "Financial imbalance! Company may have payment problems.")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <Card title={t("üßÆ Calculadora de R√†tios", "üßÆ Calculadora de Ratios", "üßÆ Ratio Calculator")}>
                        <div className="grid lg:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Actiu Corrent", "Activo Corriente", "Current Assets")} value={actC} onChange={setActC} min={10000} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Exist√®ncies", "Existencias", "Inventory")} value={existencies} onChange={setExistencies} min={0} max={actC} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Disponible (caixa)", "Disponible (caja)", "Cash")} value={disponible} onChange={setDisponible} min={0} max={actC - existencies} step={1000} suffix="‚Ç¨" />
                                <Slider label={t("Passiu Corrent", "Pasivo Corriente", "Current Liabilities")} value={passC} onChange={setPassC} min={10000} max={100000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Passiu Total", "Pasivo Total", "Total Liabilities")} value={passiu} onChange={setPassiu} min={10000} max={300000} step={10000} suffix="‚Ç¨" />
                                <Slider label="Patrimoni Net" value={pn} onChange={setPN} min={10000} max={200000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Benefici Net", "Beneficio Neto", "Net Profit")} value={benefici} onChange={setBenefici} min={-50000} max={100000} step={5000} suffix="‚Ç¨" />
                            </div>
                            <div className="grid grid-cols-2 gap-3">
                                <ResultCard title={t("Liquiditat", "Liquidez", "Current Ratio")} value={ratios.liquiditat} color={parseFloat(ratios.liquiditat) >= 1.5 ? "green" : parseFloat(ratios.liquiditat) >= 1 ? "amber" : "red"} subtitle={t("Ideal: 1,5-2", "Ideal: 1,5-2", "Ideal: 1.5-2")} />
                                <ResultCard title="Acid Test" value={ratios.acidTest} color={parseFloat(ratios.acidTest) >= 1 ? "green" : "amber"} subtitle={t("Ideal: ‚âà 1", "Ideal: ‚âà 1", "Ideal: ‚âà 1")} />
                                <ResultCard title={t("Disponibilitat", "Disponibilidad", "Cash Ratio")} value={ratios.disponibilitat} color={parseFloat(ratios.disponibilitat) >= 0.1 ? "green" : "amber"} />
                                <ResultCard title={t("Endeutament", "Endeudamiento", "Debt Ratio")} value={ratios.endeutament + "%"} color={parseFloat(ratios.endeutament) <= 60 ? "green" : "red"} />
                                <ResultCard title="ROA" value={ratios.ROA + "%"} color={parseFloat(ratios.ROA) > 5 ? "green" : "amber"} subtitle={t("Rendib. econ√≤mica", "Rentab. econ√≥mica", "Econ. profitability")} />
                                <ResultCard title="ROE" value={ratios.ROE + "%"} color={parseFloat(ratios.ROE) > 10 ? "green" : "amber"} subtitle={t("Rendib. financera", "Rentab. financiera", "Fin. profitability")} />
                                <ResultCard title={t("Autonomia", "Autonom√≠a", "Autonomy")} value={ratios.autonomia + "%"} color={parseFloat(ratios.autonomia) >= 40 ? "green" : "red"} />
                                <ResultCard title={t("Fons Maniobra", "Fondo Maniobra", "Working Capital")} value={ratios.fonsManiobra.toLocaleString() + "‚Ç¨"} color={ratios.fonsManiobra > 0 ? "green" : "red"} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì COSTOS I PUNT MORT AMB GR√ÄFIQUES
    const CostosPuntMort = () => {
        const [tab, setTab] = useState('teoria');
        const [cf, setCF] = useState(50000);
        const [cv, setCV] = useState(30);
        const [preu, setPreu] = useState(80);
        const [q, setQ] = useState(1500);
        
        const calc = useMemo(() => {
            const mc = preu - cv;
            const qEq = mc > 0 ? cf / mc : 0;
            const it = preu * q;
            const ct = cf + cv * q;
            const benefici = it - ct;
            const margeSeguretat = q > 0 && qEq > 0 ? (((q - qEq) / q) * 100) : 0;
            return { mc, qEq: Math.round(qEq), it, ct, benefici, margeSeguretat: margeSeguretat.toFixed(1) };
        }, [cf, cv, preu, q]);

        // Component gr√†fica SVG
        const CostGraph = () => {
            const width = 500;
            const height = 300;
            const padding = 50;
            const maxQ = Math.max(calc.qEq * 2, q * 1.5, 2000);
            const maxY = Math.max(cf + cv * maxQ, preu * maxQ, 150000);
            
            const scaleX = (val) => padding + (val / maxQ) * (width - padding * 2);
            const scaleY = (val) => height - padding - (val / maxY) * (height - padding * 2);
            
            const cfLine = `M ${scaleX(0)} ${scaleY(cf)} L ${scaleX(maxQ)} ${scaleY(cf)}`;
            const ctLine = `M ${scaleX(0)} ${scaleY(cf)} L ${scaleX(maxQ)} ${scaleY(cf + cv * maxQ)}`;
            const itLine = `M ${scaleX(0)} ${scaleY(0)} L ${scaleX(maxQ)} ${scaleY(preu * maxQ)}`;
            
            return (
                <svg viewBox={`0 0 ${width} ${height}`} className="w-full max-w-lg mx-auto">
                    {/* Eixos */}
                    <line x1={padding} y1={height - padding} x2={width - padding} y2={height - padding} stroke="#94a3b8" strokeWidth="2" />
                    <line x1={padding} y1={padding} x2={padding} y2={height - padding} stroke="#94a3b8" strokeWidth="2" />
                    
                    {/* Etiquetes eixos */}
                    <text x={width / 2} y={height - 10} textAnchor="middle" className="text-xs fill-slate-500">{t("Quantitat (Q)", "Cantidad (Q)", "Quantity (Q)")}</text>
                    <text x={15} y={height / 2} textAnchor="middle" transform={`rotate(-90, 15, ${height/2})`} className="text-xs fill-slate-500">‚Ç¨</text>
                    
                    {/* L√≠nia CF (horitzontal) */}
                    <path d={cfLine} stroke="#f59e0b" strokeWidth="2" strokeDasharray="5,5" fill="none" />
                    <text x={width - padding + 5} y={scaleY(cf)} className="text-xs fill-amber-600">CF</text>
                    
                    {/* L√≠nia CT (creixent) */}
                    <path d={ctLine} stroke="#ef4444" strokeWidth="3" fill="none" />
                    <text x={width - padding + 5} y={scaleY(cf + cv * maxQ) - 10} className="text-xs fill-red-600">CT</text>
                    
                    {/* L√≠nia IT (creixent des de 0) */}
                    <path d={itLine} stroke="#22c55e" strokeWidth="3" fill="none" />
                    <text x={width - padding + 5} y={scaleY(preu * maxQ) + 15} className="text-xs fill-green-600">IT</text>
                    
                    {/* Punt d'equilibri */}
                    {calc.qEq > 0 && calc.qEq < maxQ && (
                        <>
                            <circle cx={scaleX(calc.qEq)} cy={scaleY(preu * calc.qEq)} r="8" fill="#3b82f6" />
                            <line x1={scaleX(calc.qEq)} y1={scaleY(preu * calc.qEq)} x2={scaleX(calc.qEq)} y2={height - padding} stroke="#3b82f6" strokeWidth="1" strokeDasharray="3,3" />
                            <text x={scaleX(calc.qEq)} y={height - padding + 15} textAnchor="middle" className="text-xs font-bold fill-blue-600">Q* = {calc.qEq}</text>
                        </>
                    )}
                    
                    {/* Posici√≥ actual */}
                    <circle cx={scaleX(q)} cy={scaleY(preu * q)} r="6" fill="#8b5cf6" />
                    <circle cx={scaleX(q)} cy={scaleY(calc.ct)} r="6" fill="#8b5cf6" />
                    
                    {/* Zona beneficis/p√®rdues */}
                    {calc.qEq > 0 && (
                        <>
                            <text x={scaleX(calc.qEq / 2)} y={scaleY(cf / 2)} textAnchor="middle" className="text-sm font-bold fill-red-500">{t("P√àRDUES", "P√âRDIDAS", "LOSSES")}</text>
                            <text x={scaleX(calc.qEq * 1.5)} y={scaleY(preu * calc.qEq * 1.3)} textAnchor="middle" className="text-sm font-bold fill-green-500">{t("BENEFICIS", "BENEFICIOS", "PROFITS")}</text>
                        </>
                    )}
                    
                    {/* Llegenda */}
                    <rect x={padding} y={10} width="15" height="3" fill="#22c55e" />
                    <text x={padding + 20} y={15} className="text-xs fill-slate-600">{t("Ingressos Totals", "Ingresos Totales", "Total Revenue")}</text>
                    <rect x={padding + 120} y={10} width="15" height="3" fill="#ef4444" />
                    <text x={padding + 140} y={15} className="text-xs fill-slate-600">{t("Costos Totals", "Costes Totales", "Total Costs")}</text>
                    <rect x={padding + 240} y={10} width="15" height="3" fill="#f59e0b" strokeDasharray="5,5" />
                    <text x={padding + 260} y={15} className="text-xs fill-slate-600">{t("Costos Fixos", "Costes Fijos", "Fixed Costs")}</text>
                </svg>
            );
        };
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üí∞" title={t('Costos i Punt Mort', 'Costes y Umbral', 'Costs & Break-even')} subtitle={t("Quant has de vendre per no perdre diners?", 'Cu√°nto has de vender para no perder dinero?', 'How much do you need to sell to not lose money?')} />
                
                <WhyImportant>
                    {t("Imagina que obres una cafeteria. Pagues 2.000‚Ç¨/mes de lloguer tant si vens 1 caf√® com si en vens 1.000. Aix√≤ s√≥n costos FIXOS. Per√≤ cada caf√® que prepares et costa 0,50‚Ç¨ de caf√®, llet, got... Aix√≤ s√≥n costos VARIABLES. El PUNT MORT et diu: 'Has de vendre X caf√®s al mes per pagar tots els costos'. Per sota, perds diners. Per sobre, guanyes. Tota empresa ha de saber on est√† aquest punt!",
                       "Imagina que abres una cafeter√≠a. Pagas 2.000‚Ç¨/mes de alquiler vendas 1 caf√© o 1.000. Eso son costes FIJOS. Pero cada caf√© que preparas te cuesta 0,50‚Ç¨. Eso son costes VARIABLES. El PUNTO MUERTO te dice cu√°ntos caf√©s has de vender para cubrir todos los costes.",
                       "Imagine you open a coffee shop. You pay ‚Ç¨2,000/month rent whether you sell 1 coffee or 1,000. That's FIXED costs. But each coffee costs you ‚Ç¨0.50 in beans, milk, cup... That's VARIABLE costs. The BREAK-EVEN tells you how many coffees you need to sell to cover all costs.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'simulador', label: t('üìà Simulador', 'üìà Simulador', 'üìà Simulator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("Classificaci√≥ dels Costos", "Clasificaci√≥n de Costes", "Cost Classification")} icon="üìã">
                            <div className="grid md:grid-cols-2 gap-6">
                                <TheoryBlock title={t("Costos Fixos (CF)", "Costes Fijos", "Fixed Costs")} color="amber">
                                    <p className="font-semibold">{t("NO varien amb la producci√≥ (a curt termini)", "NO var√≠an con la producci√≥n", "DO NOT vary with production")}</p>
                                    <ul className="mt-3 space-y-2">
                                        <li>üè† {t("Lloguer del local", "Alquiler del local", "Rent")}</li>
                                        <li>üëî {t("Sous del personal fix", "Sueldos del personal fijo", "Fixed staff salaries")}</li>
                                        <li>üõ°Ô∏è {t("Assegurances", "Seguros", "Insurance")}</li>
                                        <li>üìâ {t("Amortitzacions", "Amortizaciones", "Depreciation")}</li>
                                        <li>üí° {t("Part fixa de subministraments", "Parte fija de suministros", "Fixed part of utilities")}</li>
                                    </ul>
                                    <p className="mt-3 text-amber-700 font-medium">{t("üí° Encara que no venguis res, has de pagar-los!", "üí° ¬°Aunque no vendas nada, debes pagarlos!", "üí° Even if you sell nothing, you must pay them!")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Costos Variables (CV)", "Costes Variables", "Variable Costs")} color="blue">
                                    <p className="font-semibold">{t("S√ç varien amb la producci√≥", "S√ç var√≠an con la producci√≥n", "DO vary with production")}</p>
                                    <ul className="mt-3 space-y-2">
                                        <li>üì¶ {t("Mat√®ries primeres", "Materias primas", "Raw materials")}</li>
                                        <li>üë∑ {t("M√† d'obra directa (per unitat)", "Mano de obra directa", "Direct labor")}</li>
                                        <li>‚ö° {t("Energia de producci√≥", "Energ√≠a de producci√≥n", "Production energy")}</li>
                                        <li>üì¶ {t("Embalatge", "Embalaje", "Packaging")}</li>
                                        <li>üöö {t("Transport per unitat", "Transporte por unidad", "Transport per unit")}</li>
                                    </ul>
                                    <p className="mt-3 text-blue-700 font-medium">{t("üí° Si no produeixes, no els tens!", "üí° ¬°Si no produces, no los tienes!", "üí° If you don't produce, you don't have them!")}</p>
                                </TheoryBlock>
                            </div>
                            <FormulaBox formula="CT = CF + CV = CF + CVu √ó Q" desc={t("Cost Total = Costos Fixos + Cost Variable unitari √ó Quantitat", "Coste Total = Costes Fijos + Coste Variable unitario √ó Cantidad", "Total Cost = Fixed Costs + Variable Cost per unit √ó Quantity")} />
                        </Card>
                        
                        <Card title={t("El Punt Mort (Umbral de Rendibilitat)", "El Punto Muerto", "The Break-even Point")} icon="‚öñÔ∏è">
                            <TheoryBlock color="green">
                                <p className="text-lg font-semibold">{t("El punt mort √©s la quantitat que has de vendre perqu√® Ingressos = Costos", "El punto muerto es la cantidad que debes vender para que Ingresos = Costes", "Break-even is the quantity you must sell so Revenue = Costs")}</p>
                                <p className="mt-2">{t("Per sota del punt mort ‚Üí P√àRDUES. Per sobre ‚Üí BENEFICIS.", "Por debajo del punto muerto ‚Üí P√âRDIDAS. Por encima ‚Üí BENEFICIOS.", "Below break-even ‚Üí LOSSES. Above ‚Üí PROFITS.")}</p>
                            </TheoryBlock>
                            
                            <div className="mt-6 p-6 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl border-2 border-blue-300">
                                <p className="text-center text-lg font-bold text-blue-800 mb-2">{t("F√ìRMULA DEL PUNT MORT", "F√ìRMULA DEL PUNTO MUERTO", "BREAK-EVEN FORMULA")}</p>
                                <p className="text-center font-mono text-2xl text-blue-900 font-black">Q* = CF / (P - CVu)</p>
                                <p className="text-center text-sm text-blue-700 mt-2">{t("On P = Preu de venda, CVu = Cost variable per unitat", "Donde P = Precio de venta, CVu = Coste variable por unidad", "Where P = Selling price, CVu = Variable cost per unit")}</p>
                            </div>
                            
                            <div className="grid md:grid-cols-2 gap-4 mt-6">
                                <div className="p-4 bg-pink-50 rounded-xl border border-pink-200">
                                    <h4 className="font-bold text-pink-700">{t("Marge de Contribuci√≥ (MC)", "Margen de Contribuci√≥n", "Contribution Margin")}</h4>
                                    <FormulaBox formula="MC = P - CVu" />
                                    <p className="text-sm text-slate-600">{t("Quant 'aporta' cada unitat venuda per cobrir els CF i generar benefici", "Cu√°nto 'aporta' cada unidad vendida para cubrir los CF", "How much each unit 'contributes' to covering FC")}</p>
                                    <p className="text-xs text-pink-600 mt-2">{t("Ex: Si vens a 80‚Ç¨ i costa 30‚Ç¨ produir ‚Üí MC = 50‚Ç¨", "Ej: Si vendes a 80‚Ç¨ y cuesta 30‚Ç¨ producir ‚Üí MC = 50‚Ç¨", "Ex: If you sell at ‚Ç¨80 and it costs ‚Ç¨30 to produce ‚Üí MC = ‚Ç¨50")}</p>
                                </div>
                                <div className="p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                                    <h4 className="font-bold text-emerald-700">{t("Marge de Seguretat", "Margen de Seguridad", "Safety Margin")}</h4>
                                    <FormulaBox formula="MS = (Q - Q*) / Q √ó 100" />
                                    <p className="text-sm text-slate-600">{t("% que poden baixar les vendes abans d'entrar en p√®rdues", "% que pueden bajar las ventas antes de entrar en p√©rdidas", "% sales can drop before entering losses")}</p>
                                    <p className="text-xs text-emerald-600 mt-2">{t("Si MS = 20% ‚Üí Les vendes poden caure un 20% abans de perdre", "Si MS = 20% ‚Üí Las ventas pueden caer un 20% antes de perder", "If MS = 20% ‚Üí Sales can fall 20% before losing")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <div className="space-y-6">
                        <Card title={t("üìà Simulador del Punt Mort", "üìà Simulador del Punto Muerto", "üìà Break-even Simulator")}>
                            <div className="grid lg:grid-cols-2 gap-8">
                                <div className="space-y-4">
                                    <Slider label={t("Costos Fixos (CF)", "Costes Fijos (CF)", "Fixed Costs (FC)")} value={cf} onChange={setCF} min={10000} max={200000} step={5000} suffix="‚Ç¨" />
                                    <Slider label={t("Cost Variable unitari (CVu)", "Coste Variable unitario", "Variable Cost per unit")} value={cv} onChange={setCV} min={5} max={100} step={1} suffix="‚Ç¨" />
                                    <Slider label={t("Preu de venda (P)", "Precio de venta (P)", "Selling Price (P)")} value={preu} onChange={setPreu} min={10} max={200} step={5} suffix="‚Ç¨" />
                                    <Slider label={t("Quantitat produ√Øda (Q)", "Cantidad producida (Q)", "Quantity produced (Q)")} value={q} onChange={setQ} min={0} max={5000} step={50} suffix=" ut." />
                                </div>
                                <div className="grid grid-cols-2 gap-3">
                                    <ResultCard title={t("Marge Contribuci√≥", "Margen Contribuci√≥n", "Contribution Margin")} value={calc.mc + "‚Ç¨"} color={calc.mc > 0 ? "green" : "red"} subtitle="P - CVu" />
                                    <ResultCard title={t("PUNT MORT (Q*)", "PUNTO MUERTO (Q*)", "BREAK-EVEN (Q*)")} value={calc.qEq + " ut."} color="blue" subtitle="CF / MC" />
                                    <ResultCard title={t("Ingressos Totals", "Ingresos Totales", "Total Revenue")} value={calc.it.toLocaleString() + "‚Ç¨"} color="green" subtitle="P √ó Q" />
                                    <ResultCard title={t("Costos Totals", "Costes Totales", "Total Costs")} value={calc.ct.toLocaleString() + "‚Ç¨"} color="red" subtitle="CF + CVu√óQ" />
                                    <ResultCard title={t("RESULTAT", "RESULTADO", "RESULT")} value={calc.benefici.toLocaleString() + "‚Ç¨"} color={calc.benefici >= 0 ? "green" : "red"} subtitle={calc.benefici >= 0 ? t("Benefici", "Beneficio", "Profit") : t("P√®rdua", "P√©rdida", "Loss")} />
                                    <ResultCard title={t("Marge Seguretat", "Margen Seguridad", "Safety Margin")} value={calc.margeSeguretat + "%"} color={parseFloat(calc.margeSeguretat) > 20 ? "green" : "amber"} />
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("üìä Gr√†fica de Costos i Ingressos", "üìä Gr√°fica de Costes e Ingresos", "üìä Costs & Revenue Graph")} icon="üìä">
                            <CostGraph />
                            <div className="mt-4 p-4 bg-slate-50 rounded-xl text-center">
                                <p className="text-sm text-slate-600">
                                    {q < calc.qEq ? (
                                        <span className="text-red-600 font-bold">‚ö†Ô∏è {t("Est√†s PER SOTA del punt mort! Necessites vendre", "¬°Est√°s POR DEBAJO del punto muerto! Necesitas vender", "You're BELOW break-even! You need to sell")} {calc.qEq - q} {t("unitats m√©s per no perdre.", "unidades m√°s para no perder.", "more units to not lose.")}</span>
                                    ) : q === calc.qEq ? (
                                        <span className="text-blue-600 font-bold">‚öñÔ∏è {t("Est√†s JUST al punt mort. Ni guanyes ni perds.", "Est√°s JUSTO en el punto muerto.", "You're EXACTLY at break-even.")}</span>
                                    ) : (
                                        <span className="text-green-600 font-bold">‚úÖ {t("Est√†s PER SOBRE del punt mort! Cada unitat extra genera", "¬°Est√°s POR ENCIMA del punto muerto! Cada unidad extra genera", "You're ABOVE break-even! Each extra unit generates")} {calc.mc}‚Ç¨ {t("de benefici.", "de beneficio.", "profit.")}</span>
                                    )}
                                </p>
                            </div>
                        </Card>
                    </div>
                )}
            </div>
        );
    };

    // SECCI√ì INVERSI√ì
    const Inversio = () => {
        const [tab, setTab] = useState('teoria');
        const [inv, setInv] = useState(100000);
        const [fc1, setFC1] = useState(30000);
        const [fc2, setFC2] = useState(35000);
        const [fc3, setFC3] = useState(40000);
        const [fc4, setFC4] = useState(45000);
        const [tasa, setTasa] = useState(10);
        
        const calc = useMemo(() => {
            const k = tasa / 100;
            const van = -inv + fc1/(1+k) + fc2/Math.pow(1+k,2) + fc3/Math.pow(1+k,3) + fc4/Math.pow(1+k,4);
            
            let tir = 0;
            for (let r = 0; r <= 100; r += 0.5) {
                const rDec = r / 100;
                const vanTest = -inv + fc1/(1+rDec) + fc2/Math.pow(1+rDec,2) + fc3/Math.pow(1+rDec,3) + fc4/Math.pow(1+rDec,4);
                if (vanTest < 0) { tir = r - 0.5; break; }
            }
            
            let payback = 0;
            let acum = 0;
            const flujos = [fc1, fc2, fc3, fc4];
            for (let i = 0; i < flujos.length; i++) {
                acum += flujos[i];
                if (acum >= inv) {
                    payback = i + 1 - (acum - inv) / flujos[i];
                    break;
                }
            }
            if (acum < inv) payback = -1;
            
            return { van: van.toFixed(0), tir: tir.toFixed(1), payback: payback > 0 ? payback.toFixed(2) : "No recupera" };
        }, [inv, fc1, fc2, fc3, fc4, tasa]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üìà" title={t('Inversi√≥', 'Inversi√≥n', 'Investment')} subtitle={t('Val la pena aquest projecte?', '¬øVale la pena este proyecto?', 'Is this project worth it?')} />
                
                <WhyImportant>
                    {t("Imagina que tens 100.000‚Ç¨ i dues opcions: obrir una botiga o comprar un pis per llogar. Com decideixes? No pots simplement sumar els diners que rebr√†s, perqu√® 10.000‚Ç¨ avui valen m√©s que 10.000‚Ç¨ d'aqu√≠ a 10 anys (inflaci√≥, risc, oportunitat). El VAN i la TIR t'ajuden a comparar projectes d'inversi√≥ de forma justa, tenint en compte el VALOR DEL TEMPS.",
                       "Imagina que tienes 100.000‚Ç¨ y dos opciones: abrir una tienda o comprar un piso para alquilar. ¬øC√≥mo decides? No puedes simplemente sumar el dinero que recibir√°s, porque 10.000‚Ç¨ hoy valen m√°s que 10.000‚Ç¨ en 10 a√±os. El VAN y la TIR te ayudan a comparar proyectos de forma justa.",
                       "Imagine you have ‚Ç¨100,000 and two options: open a store or buy an apartment to rent. How do you decide? You can't simply add up the money you'll receive, because ‚Ç¨10,000 today is worth more than ‚Ç¨10,000 in 10 years. NPV and IRR help you compare projects fairly.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'teoria', label: t('üìö Teoria', 'üìö Teor√≠a', 'üìö Theory') },
                    { id: 'simulador', label: t('üßÆ Simulador', 'üßÆ Simulador', 'üßÆ Simulator') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'teoria' && (
                    <div className="space-y-6">
                        <Card title={t("M√®todes de Selecci√≥ d'Inversions", "M√©todos de Selecci√≥n de Inversiones", "Investment Selection Methods")} icon="üìä">
                            <div className="grid md:grid-cols-3 gap-4">
                                <TheoryBlock title="VAN" color="green">
                                    <p className="font-bold text-lg">{t("Valor Actual Net", "Valor Actual Neto", "Net Present Value")}</p>
                                    <p className="mt-2">{t("Suma dels fluxos de caixa futurs actualitzats al present, menys la inversi√≥ inicial.", "Suma de los flujos de caja futuros actualizados al presente, menos la inversi√≥n inicial.", "Sum of future cash flows updated to present, minus initial investment.")}</p>
                                    <div className="mt-3 p-2 bg-green-100 rounded">
                                        <p className="text-sm">‚úÖ VAN &gt; 0 ‚Üí {t("Projecte RENDIBLE", "Proyecto RENTABLE", "PROFITABLE project")}</p>
                                        <p className="text-sm">‚ùå VAN &lt; 0 ‚Üí {t("Projecte NO rendible", "Proyecto NO rentable", "NOT profitable project")}</p>
                                    </div>
                                </TheoryBlock>
                                <TheoryBlock title="TIR" color="blue">
                                    <p className="font-bold text-lg">{t("Taxa Interna de Retorn", "Tasa Interna de Retorno", "Internal Rate of Return")}</p>
                                    <p className="mt-2">{t("Taxa de descompte que fa el VAN = 0. √âs la 'rendibilitat' del projecte.", "Tasa de descuento que hace el VAN = 0. Es la 'rentabilidad' del proyecto.", "Discount rate that makes NPV = 0. It's the project's 'return'.")}</p>
                                    <div className="mt-3 p-2 bg-blue-100 rounded">
                                        <p className="text-sm">‚úÖ TIR &gt; k ‚Üí {t("Projecte RENDIBLE", "Proyecto RENTABLE", "PROFITABLE project")}</p>
                                        <p className="text-sm">‚ùå TIR &lt; k ‚Üí {t("Projecte NO rendible", "Proyecto NO rentable", "NOT profitable project")}</p>
                                    </div>
                                </TheoryBlock>
                                <TheoryBlock title="Payback" color="amber">
                                    <p className="font-bold text-lg">{t("Termini de Recuperaci√≥", "Plazo de Recuperaci√≥n", "Payback Period")}</p>
                                    <p className="mt-2">{t("Temps que tarda a recuperar-se la inversi√≥ inicial.", "Tiempo que tarda en recuperarse la inversi√≥n inicial.", "Time it takes to recover the initial investment.")}</p>
                                    <div className="mt-3 p-2 bg-amber-100 rounded">
                                        <p className="text-sm">‚ö†Ô∏è {t("No t√© en compte el valor del temps ni qu√® passa despr√©s de recuperar", "No tiene en cuenta el valor del tiempo ni qu√© pasa despu√©s de recuperar", "Doesn't account for time value or what happens after recovery")}</p>
                                    </div>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("F√≥rmula del VAN", "F√≥rmula del VAN", "NPV Formula")} icon="üìê">
                            <FormulaBox formula="VAN = -I‚ÇÄ + FC‚ÇÅ/(1+k) + FC‚ÇÇ/(1+k)¬≤ + ... + FC‚Çô/(1+k)‚Åø" desc={t("On k = taxa de descompte (cost d'oportunitat)", "Donde k = tasa de descuento (coste de oportunidad)", "Where k = discount rate (opportunity cost)")} />
                        </Card>
                    </div>
                )}
                
                {tab === 'simulador' && (
                    <Card title={t("üßÆ Simulador VAN/TIR", "üßÆ Simulador VAN/TIR", "üßÆ NPV/IRR Simulator")}>
                        <div className="grid lg:grid-cols-2 gap-6">
                            <div className="space-y-4">
                                <Slider label={t("Inversi√≥ inicial", "Inversi√≥n inicial", "Initial investment")} value={inv} onChange={setInv} min={10000} max={500000} step={10000} suffix="‚Ç¨" />
                                <Slider label={t("Flux Caixa Any 1", "Flujo Caja A√±o 1", "Cash Flow Year 1")} value={fc1} onChange={setFC1} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Flux Caixa Any 2", "Flujo Caja A√±o 2", "Cash Flow Year 2")} value={fc2} onChange={setFC2} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Flux Caixa Any 3", "Flujo Caja A√±o 3", "Cash Flow Year 3")} value={fc3} onChange={setFC3} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Flux Caixa Any 4", "Flujo Caja A√±o 4", "Cash Flow Year 4")} value={fc4} onChange={setFC4} min={0} max={200000} step={5000} suffix="‚Ç¨" />
                                <Slider label={t("Taxa descompte (k)", "Tasa descuento (k)", "Discount rate (k)")} value={tasa} onChange={setTasa} min={1} max={25} step={0.5} suffix="%" />
                            </div>
                            <div className="space-y-4">
                                <ResultCard title="VAN" value={parseInt(calc.van).toLocaleString() + "‚Ç¨"} color={parseInt(calc.van) > 0 ? "green" : "red"} subtitle={parseInt(calc.van) > 0 ? t("‚úÖ Projecte RENDIBLE", "‚úÖ Proyecto RENTABLE", "‚úÖ PROFITABLE") : t("‚ùå NO rendible", "‚ùå NO rentable", "‚ùå NOT profitable")} />
                                <ResultCard title="TIR" value={calc.tir + "%"} color={parseFloat(calc.tir) > tasa ? "green" : "red"} subtitle={parseFloat(calc.tir) > tasa ? `TIR > k (${tasa}%)` : `TIR < k (${tasa}%)`} />
                                <ResultCard title="Payback" value={typeof calc.payback === 'string' ? calc.payback : calc.payback + t(" anys", " a√±os", " years")} color="amber" subtitle={t("Temps de recuperaci√≥", "Tiempo de recuperaci√≥n", "Recovery time")} />
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì ESTRAT√àGIA AMB DAFO I CANVAS EDITABLES
    const Estrategia = () => {
        const [tab, setTab] = useState('dafo');
        
        // DAFO Editable amb localStorage
        const [dafo, setDafo] = useState(() => {
            const saved = localStorage.getItem('pde_dafo');
            return saved ? JSON.parse(saved) : {
                fortaleses: ['', '', ''],
                debilitats: ['', '', ''],
                oportunitats: ['', '', ''],
                amenaces: ['', '', '']
            };
        });
        
        const updateDafo = (section, index, value) => {
            const newDafo = { ...dafo, [section]: [...dafo[section]] };
            newDafo[section][index] = value;
            setDafo(newDafo);
            localStorage.setItem('pde_dafo', JSON.stringify(newDafo));
        };
        
        const addDafoItem = (section) => {
            const newDafo = { ...dafo, [section]: [...dafo[section], ''] };
            setDafo(newDafo);
            localStorage.setItem('pde_dafo', JSON.stringify(newDafo));
        };
        
        // Canvas Editable
        const [canvas, setCanvas] = useState(() => {
            const saved = localStorage.getItem('pde_canvas');
            return saved ? JSON.parse(saved) : {
                socis: '', activitats: '', proposta: '', relacions: '', segments: '',
                recursos: '', canals: '', costos: '', ingressos: ''
            };
        });
        
        const updateCanvas = (field, value) => {
            const newCanvas = { ...canvas, [field]: value };
            setCanvas(newCanvas);
            localStorage.setItem('pde_canvas', JSON.stringify(newCanvas));
        };
        
        const clearCanvas = () => {
            const empty = { socis: '', activitats: '', proposta: '', relacions: '', segments: '', recursos: '', canals: '', costos: '', ingressos: '' };
            setCanvas(empty);
            localStorage.setItem('pde_canvas', JSON.stringify(empty));
        };
        
        const clearDafo = () => {
            const empty = { fortaleses: ['', '', ''], debilitats: ['', '', ''], oportunitats: ['', '', ''], amenaces: ['', '', ''] };
            setDafo(empty);
            localStorage.setItem('pde_dafo', JSON.stringify(empty));
        };
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üéØ" title={t('Estrat√®gia Empresarial', 'Estrategia Empresarial', 'Business Strategy')} subtitle={t('Eines per planificar el futur del negoci', 'Herramientas para planificar el futuro del negocio', 'Tools to plan the business future')} />
                
                <WhyImportant>
                    {t("Abans de llan√ßar-te a obrir un negoci, has de pensar estrat√®gicament. El DAFO t'ajuda a analitzar la situaci√≥ (qu√® tens, qu√® et falta, qu√® passa al teu voltant). El Canvas t'obliga a definir el teu model de negoci en una p√†gina. Porter t'ajuda a entendre la compet√®ncia. Sense estrat√®gia, est√†s navegant sense mapa.",
                       "Antes de lanzarte a abrir un negocio, debes pensar estrat√©gicamente. El DAFO te ayuda a analizar la situaci√≥n. El Canvas te obliga a definir tu modelo de negocio en una p√°gina. Porter te ayuda a entender la competencia. Sin estrategia, navegas sin mapa.",
                       "Before launching a business, you must think strategically. SWOT helps you analyze the situation. Canvas forces you to define your business model on one page. Porter helps you understand competition. Without strategy, you're sailing without a map.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'dafo', label: 'üìä DAFO ' + t('Editable', 'Editable', 'Editable') },
                    { id: 'canvas', label: 'üìã Canvas ' + t('Editable', 'Editable', 'Editable') },
                    { id: 'porter', label: 'üè≠ Porter' },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'dafo' && (
                    <div className="space-y-6">
                        <Card title={t("An√†lisi DAFO/SWOT - EDITABLE", "An√°lisis DAFO - EDITABLE", "SWOT Analysis - EDITABLE")} icon="üìä">
                            <TheoryBlock color="blue">
                                <p>{t("Escriu directament a les caselles per fer el teu propi an√†lisi DAFO. Les dades es guarden autom√†ticament al teu navegador.", "Escribe directamente en las casillas para hacer tu propio an√°lisis DAFO. Los datos se guardan autom√°ticamente.", "Write directly in the boxes to create your own SWOT analysis. Data is saved automatically in your browser.")}</p>
                            </TheoryBlock>
                            
                            <div className="grid md:grid-cols-2 gap-4 mt-6">
                                {/* Fortaleses */}
                                <div className="p-4 bg-green-50 rounded-xl border-2 border-green-300">
                                    <h4 className="font-bold text-green-700 mb-3 text-lg">üí™ {t('FORTALESES', 'FORTALEZAS', 'STRENGTHS')}</h4>
                                    <p className="text-xs text-green-600 mb-3">{t("Avantatges interns (qu√® fem b√©?)", "Ventajas internas (¬øqu√© hacemos bien?)", "Internal advantages (what do we do well?)")}</p>
                                    {dafo.fortaleses.map((item, i) => (
                                        <input key={i} type="text" value={item} onChange={(e) => updateDafo('fortaleses', i, e.target.value)}
                                            placeholder={`${t('Fortalesa', 'Fortaleza', 'Strength')} ${i + 1}...`}
                                            className="w-full p-2 mb-2 rounded border border-green-200 text-sm focus:ring-2 focus:ring-green-400 outline-none" />
                                    ))}
                                    <button onClick={() => addDafoItem('fortaleses')} className="text-xs text-green-600 hover:text-green-800">+ {t("Afegir", "A√±adir", "Add")}</button>
                                </div>
                                
                                {/* Debilitats */}
                                <div className="p-4 bg-red-50 rounded-xl border-2 border-red-300">
                                    <h4 className="font-bold text-red-700 mb-3 text-lg">‚ö†Ô∏è {t('DEBILITATS', 'DEBILIDADES', 'WEAKNESSES')}</h4>
                                    <p className="text-xs text-red-600 mb-3">{t("Limitacions internes (qu√® ens falta?)", "Limitaciones internas (¬øqu√© nos falta?)", "Internal limitations (what are we missing?)")}</p>
                                    {dafo.debilitats.map((item, i) => (
                                        <input key={i} type="text" value={item} onChange={(e) => updateDafo('debilitats', i, e.target.value)}
                                            placeholder={`${t('Debilitat', 'Debilidad', 'Weakness')} ${i + 1}...`}
                                            className="w-full p-2 mb-2 rounded border border-red-200 text-sm focus:ring-2 focus:ring-red-400 outline-none" />
                                    ))}
                                    <button onClick={() => addDafoItem('debilitats')} className="text-xs text-red-600 hover:text-red-800">+ {t("Afegir", "A√±adir", "Add")}</button>
                                </div>
                                
                                {/* Oportunitats */}
                                <div className="p-4 bg-blue-50 rounded-xl border-2 border-blue-300">
                                    <h4 className="font-bold text-blue-700 mb-3 text-lg">üéØ {t('OPORTUNITATS', 'OPORTUNIDADES', 'OPPORTUNITIES')}</h4>
                                    <p className="text-xs text-blue-600 mb-3">{t("Factors externs favorables (qu√® podem aprofitar?)", "Factores externos favorables (¬øqu√© podemos aprovechar?)", "Favorable external factors (what can we leverage?)")}</p>
                                    {dafo.oportunitats.map((item, i) => (
                                        <input key={i} type="text" value={item} onChange={(e) => updateDafo('oportunitats', i, e.target.value)}
                                            placeholder={`${t('Oportunitat', 'Oportunidad', 'Opportunity')} ${i + 1}...`}
                                            className="w-full p-2 mb-2 rounded border border-blue-200 text-sm focus:ring-2 focus:ring-blue-400 outline-none" />
                                    ))}
                                    <button onClick={() => addDafoItem('oportunitats')} className="text-xs text-blue-600 hover:text-blue-800">+ {t("Afegir", "A√±adir", "Add")}</button>
                                </div>
                                
                                {/* Amenaces */}
                                <div className="p-4 bg-amber-50 rounded-xl border-2 border-amber-300">
                                    <h4 className="font-bold text-amber-700 mb-3 text-lg">üå©Ô∏è {t('AMENACES', 'AMENAZAS', 'THREATS')}</h4>
                                    <p className="text-xs text-amber-600 mb-3">{t("Factors externs negatius (qu√® ens pot perjudicar?)", "Factores externos negativos (¬øqu√© nos puede perjudicar?)", "Negative external factors (what could hurt us?)")}</p>
                                    {dafo.amenaces.map((item, i) => (
                                        <input key={i} type="text" value={item} onChange={(e) => updateDafo('amenaces', i, e.target.value)}
                                            placeholder={`${t('Amenaza', 'Amenaza', 'Threat')} ${i + 1}...`}
                                            className="w-full p-2 mb-2 rounded border border-amber-200 text-sm focus:ring-2 focus:ring-amber-400 outline-none" />
                                    ))}
                                    <button onClick={() => addDafoItem('amenaces')} className="text-xs text-amber-600 hover:text-amber-800">+ {t("Afegir", "A√±adir", "Add")}</button>
                                </div>
                            </div>
                            
                            <div className="mt-4 flex justify-end">
                                <button onClick={clearDafo} className="px-4 py-2 bg-slate-200 text-slate-600 rounded-lg text-sm hover:bg-slate-300">üóëÔ∏è {t("Esborrar tot", "Borrar todo", "Clear all")}</button>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'canvas' && (
                    <Card title="Business Model Canvas - EDITABLE" icon="üìã">
                        <TheoryBlock color="green">
                            <p>{t("Defineix el teu model de negoci omplint cada bloc. Totes les dades es guarden autom√†ticament.", "Define tu modelo de negocio rellenando cada bloque. Todos los datos se guardan autom√°ticamente.", "Define your business model by filling each block. All data is saved automatically.")}</p>
                        </TheoryBlock>
                        
                        <div className="mt-6 grid grid-cols-1 md:grid-cols-5 gap-2 text-xs">
                            {/* Fila superior */}
                            <div className="md:row-span-2 p-3 bg-violet-100 rounded-lg border border-violet-300">
                                <h5 className="font-bold text-violet-700 mb-2">ü§ù {t("SOCIS CLAU", "SOCIOS CLAVE", "KEY PARTNERS")}</h5>
                                <p className="text-xs text-violet-600 mb-2">{t("Amb qui hem de cooperar?", "¬øCon qui√©n debemos cooperar?", "Who must we cooperate with?")}</p>
                                <textarea value={canvas.socis} onChange={(e) => updateCanvas('socis', e.target.value)}
                                    placeholder={t("Prove√Ødors, aliances...", "Proveedores, alianzas...", "Suppliers, alliances...")}
                                    className="w-full h-20 p-2 rounded border border-violet-200 text-xs resize-none focus:ring-2 focus:ring-violet-400 outline-none" />
                            </div>
                            
                            <div className="p-3 bg-blue-100 rounded-lg border border-blue-300">
                                <h5 className="font-bold text-blue-700 mb-2">‚öôÔ∏è {t("ACTIVITATS", "ACTIVIDADES", "ACTIVITIES")}</h5>
                                <textarea value={canvas.activitats} onChange={(e) => updateCanvas('activitats', e.target.value)}
                                    placeholder={t("Qu√® fem?", "¬øQu√© hacemos?", "What do we do?")}
                                    className="w-full h-16 p-2 rounded border border-blue-200 text-xs resize-none focus:ring-2 focus:ring-blue-400 outline-none" />
                            </div>
                            
                            <div className="md:row-span-2 p-3 bg-pink-100 rounded-lg border border-pink-300">
                                <h5 className="font-bold text-pink-700 mb-2">üíé {t("PROPOSTA DE VALOR", "PROPUESTA DE VALOR", "VALUE PROPOSITION")}</h5>
                                <p className="text-xs text-pink-600 mb-2">{t("Per qu√® ens compren a nosaltres?", "¬øPor qu√© nos compran a nosotros?", "Why do they buy from us?")}</p>
                                <textarea value={canvas.proposta} onChange={(e) => updateCanvas('proposta', e.target.value)}
                                    placeholder={t("Qu√® problema resolem? Qu√® ens fa √∫nics?", "¬øQu√© problema resolvemos? ¬øQu√© nos hace √∫nicos?", "What problem do we solve? What makes us unique?")}
                                    className="w-full h-20 p-2 rounded border border-pink-200 text-xs resize-none focus:ring-2 focus:ring-pink-400 outline-none" />
                            </div>
                            
                            <div className="p-3 bg-green-100 rounded-lg border border-green-300">
                                <h5 className="font-bold text-green-700 mb-2">‚ù§Ô∏è {t("RELACI√ì CLIENTS", "RELACI√ìN CLIENTES", "CUSTOMER RELATIONS")}</h5>
                                <textarea value={canvas.relacions} onChange={(e) => updateCanvas('relacions', e.target.value)}
                                    placeholder={t("Personal, automatitzada...", "Personal, automatizada...", "Personal, automated...")}
                                    className="w-full h-16 p-2 rounded border border-green-200 text-xs resize-none focus:ring-2 focus:ring-green-400 outline-none" />
                            </div>
                            
                            <div className="md:row-span-2 p-3 bg-emerald-100 rounded-lg border border-emerald-300">
                                <h5 className="font-bold text-emerald-700 mb-2">üë• {t("SEGMENTS CLIENTS", "SEGMENTOS CLIENTES", "CUSTOMER SEGMENTS")}</h5>
                                <p className="text-xs text-emerald-600 mb-2">{t("A qui venem?", "¬øA qui√©n vendemos?", "Who do we sell to?")}</p>
                                <textarea value={canvas.segments} onChange={(e) => updateCanvas('segments', e.target.value)}
                                    placeholder={t("Joves, empreses, fam√≠lies...", "J√≥venes, empresas, familias...", "Youth, businesses, families...")}
                                    className="w-full h-20 p-2 rounded border border-emerald-200 text-xs resize-none focus:ring-2 focus:ring-emerald-400 outline-none" />
                            </div>
                            
                            <div className="p-3 bg-cyan-100 rounded-lg border border-cyan-300">
                                <h5 className="font-bold text-cyan-700 mb-2">üèóÔ∏è {t("RECURSOS CLAU", "RECURSOS CLAVE", "KEY RESOURCES")}</h5>
                                <textarea value={canvas.recursos} onChange={(e) => updateCanvas('recursos', e.target.value)}
                                    placeholder={t("F√≠sics, intel¬∑lectuals, humans...", "F√≠sicos, intelectuales, humanos...", "Physical, intellectual, human...")}
                                    className="w-full h-16 p-2 rounded border border-cyan-200 text-xs resize-none focus:ring-2 focus:ring-cyan-400 outline-none" />
                            </div>
                            
                            <div className="p-3 bg-amber-100 rounded-lg border border-amber-300">
                                <h5 className="font-bold text-amber-700 mb-2">üì¢ {t("CANALS", "CANALES", "CHANNELS")}</h5>
                                <textarea value={canvas.canals} onChange={(e) => updateCanvas('canals', e.target.value)}
                                    placeholder={t("Online, botigues, xarxes...", "Online, tiendas, redes...", "Online, stores, networks...")}
                                    className="w-full h-16 p-2 rounded border border-amber-200 text-xs resize-none focus:ring-2 focus:ring-amber-400 outline-none" />
                            </div>
                            
                            {/* Fila inferior */}
                            <div className="md:col-span-2 p-3 bg-red-100 rounded-lg border border-red-300">
                                <h5 className="font-bold text-red-700 mb-2">üí∏ {t("ESTRUCTURA DE COSTOS", "ESTRUCTURA DE COSTES", "COST STRUCTURE")}</h5>
                                <textarea value={canvas.costos} onChange={(e) => updateCanvas('costos', e.target.value)}
                                    placeholder={t("Quins s√≥n els costos principals? Fixos i variables...", "¬øCu√°les son los costes principales? Fijos y variables...", "What are the main costs? Fixed and variable...")}
                                    className="w-full h-16 p-2 rounded border border-red-200 text-xs resize-none focus:ring-2 focus:ring-red-400 outline-none" />
                            </div>
                            
                            <div className="md:col-span-3 p-3 bg-green-100 rounded-lg border border-green-300">
                                <h5 className="font-bold text-green-700 mb-2">üí∞ {t("FONTS D'INGRESSOS", "FUENTES DE INGRESOS", "REVENUE STREAMS")}</h5>
                                <textarea value={canvas.ingressos} onChange={(e) => updateCanvas('ingressos', e.target.value)}
                                    placeholder={t("Com guanyem diners? Venda directa, subscripcions, publicitat...", "¬øC√≥mo ganamos dinero? Venta directa, suscripciones, publicidad...", "How do we make money? Direct sales, subscriptions, advertising...")}
                                    className="w-full h-16 p-2 rounded border border-green-200 text-xs resize-none focus:ring-2 focus:ring-green-400 outline-none" />
                            </div>
                        </div>
                        
                        <div className="mt-4 flex justify-end">
                            <button onClick={clearCanvas} className="px-4 py-2 bg-slate-200 text-slate-600 rounded-lg text-sm hover:bg-slate-300">üóëÔ∏è {t("Esborrar tot", "Borrar todo", "Clear all")}</button>
                        </div>
                    </Card>
                )}
                
                {tab === 'porter' && (
                    <div className="space-y-6">
                        <Card title={t("Les 5 Forces de Porter", "Las 5 Fuerzas de Porter", "Porter's 5 Forces")} icon="üè≠">
                            <TheoryBlock color="violet">
                                <p>{t("Model per analitzar la compet√®ncia en un sector. Com m√©s intenses les forces, menys rendible el sector.", "Modelo para analizar la competencia en un sector. Cuanto m√°s intensas las fuerzas, menos rentable el sector.", "Model to analyze competition in a sector. The more intense the forces, the less profitable the sector.")}</p>
                            </TheoryBlock>
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-3 mt-4">
                                <div className="p-4 bg-violet-50 rounded-xl text-center border border-violet-200">
                                    <span className="text-2xl">üö™</span>
                                    <p className="text-sm font-bold text-violet-700 mt-2">{t('Amena√ßa nous competidors', 'Amenaza nuevos competidores', 'New Entrants Threat')}</p>
                                    <p className="text-xs text-slate-500 mt-1">{t("F√†cil entrar al sector?", "¬øF√°cil entrar al sector?", "Easy to enter the sector?")}</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center border border-violet-200">
                                    <span className="text-2xl">üè≠</span>
                                    <p className="text-sm font-bold text-violet-700 mt-2">{t('Poder prove√Ødors', 'Poder proveedores', 'Supplier Power')}</p>
                                    <p className="text-xs text-slate-500 mt-1">{t("Poden imposar condicions?", "¬øPueden imponer condiciones?", "Can they impose conditions?")}</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center border border-violet-200">
                                    <span className="text-2xl">üë•</span>
                                    <p className="text-sm font-bold text-violet-700 mt-2">{t('Poder clients', 'Poder clientes', 'Buyer Power')}</p>
                                    <p className="text-xs text-slate-500 mt-1">{t("Pressionen preus?", "¬øPresionan precios?", "Do they pressure prices?")}</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center border border-violet-200">
                                    <span className="text-2xl">üîÑ</span>
                                    <p className="text-sm font-bold text-violet-700 mt-2">{t('Substituts', 'Sustitutos', 'Substitutes')}</p>
                                    <p className="text-xs text-slate-500 mt-1">{t("Alternatives al producte?", "¬øAlternativas al producto?", "Alternatives to product?")}</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl text-center border border-violet-200">
                                    <span className="text-2xl">‚öîÔ∏è</span>
                                    <p className="text-sm font-bold text-violet-700 mt-2">{t('Rivalitat', 'Rivalidad', 'Rivalry')}</p>
                                    <p className="text-xs text-slate-500 mt-1">{t("Compet√®ncia agressiva?", "¬øCompetencia agresiva?", "Aggressive competition?")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Estrat√®gies Competitives de Porter", "Estrategias Competitivas de Porter", "Porter's Competitive Strategies")} icon="üéØ">
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-blue-50 rounded-xl border-2 border-blue-200">
                                    <h4 className="font-bold text-blue-700 text-lg">{t("Lideratge en Costos", "Liderazgo en Costes", "Cost Leadership")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Ser el productor amb costos m√©s baixos del sector. Permets preus baixos mantenint marge.", "Ser el productor con costes m√°s bajos del sector.", "Be the lowest-cost producer in the sector.")}</p>
                                    <p className="text-xs text-blue-600 mt-3 font-bold">üìå {t("Exemples:", "Ejemplos:", "Examples:")} Ryanair, IKEA, Mercadona</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl border-2 border-green-200">
                                    <h4 className="font-bold text-green-700 text-lg">{t("Diferenciaci√≥", "Diferenciaci√≥n", "Differentiation")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Oferir productes √∫nics i valorats pel client. Permet preus m√©s alts perqu√® el client paga per la difer√®ncia.", "Ofrecer productos √∫nicos y valorados por el cliente.", "Offer unique products valued by customers.")}</p>
                                    <p className="text-xs text-green-600 mt-3 font-bold">üìå {t("Exemples:", "Ejemplos:", "Examples:")} Apple, BMW, Nespresso</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border-2 border-amber-200">
                                    <h4 className="font-bold text-amber-700 text-lg">{t("Enfocament (N√≠nxol)", "Enfoque (Nicho)", "Focus (Niche)")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Concentrar-se en un segment concret del mercat i dominar-lo (per cost o per diferenciaci√≥).", "Concentrarse en un segmento concreto del mercado y dominarlo.", "Focus on a specific market segment and dominate it.")}</p>
                                    <p className="text-xs text-amber-600 mt-3 font-bold">üìå {t("Exemples:", "Ejemplos:", "Examples:")} Rolex, Ferrari, Lush</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
            </div>
        );
    };

    // SECCI√ì EMPRENEDORIA EXPANDIDA
    const Emprenedoria = () => {
        const [tab, setTab] = useState('guia');
        const [pasActual, setPasActual] = useState(0);
        
        const passos = [
            {
                num: 1,
                titol: t("üí° La Idea de Negoci", "üí° La Idea de Negocio", "üí° The Business Idea"),
                desc: t("Tot comen√ßa amb una idea. Per√≤ una bona idea no √©s suficient - ha de resoldre un PROBLEMA real.", "Todo empieza con una idea. Pero una buena idea no es suficiente - debe resolver un PROBLEMA real.", "Everything starts with an idea. But a good idea isn't enough - it must solve a real PROBLEM."),
                preguntes: [
                    t("Quin problema resolc?", "¬øQu√© problema resuelvo?", "What problem do I solve?"),
                    t("Qui t√© aquest problema? (el meu client)", "¬øQui√©n tiene este problema? (mi cliente)", "Who has this problem? (my customer)"),
                    t("Com ho resolen ara? (la compet√®ncia)", "¬øC√≥mo lo resuelven ahora? (la competencia)", "How do they solve it now? (competition)"),
                    t("Per qu√® la meva soluci√≥ √©s millor?", "¬øPor qu√© mi soluci√≥n es mejor?", "Why is my solution better?"),
                ],
                consell: t("‚ö†Ô∏è ERROR COM√ö: Enamorar-te de la teua idea sense validar que hi ha gent disposada a pagar per ella. Primer parla amb 20 clients potencials!", "‚ö†Ô∏è ERROR COM√öN: Enamorarte de tu idea sin validar que hay gente dispuesta a pagar. ¬°Primero habla con 20 clientes potenciales!", "‚ö†Ô∏è COMMON ERROR: Falling in love with your idea without validating people will pay. First talk to 20 potential customers!")
            },
            {
                num: 2,
                titol: t("üë• El Client", "üë• El Cliente", "üë• The Customer"),
                desc: t("Has de con√®ixer el teu client millor que ell mateix. Crea un 'buyer persona' detallat.", "Debes conocer a tu cliente mejor que √©l mismo. Crea un 'buyer persona' detallado.", "You must know your customer better than they know themselves. Create a detailed 'buyer persona'."),
                preguntes: [
                    t("Quants anys t√©? On viu? Qu√® treballa?", "¬øCu√°ntos a√±os tiene? ¬øD√≥nde vive? ¬øEn qu√© trabaja?", "How old? Where do they live? What's their job?"),
                    t("Quines xarxes socials utilitza?", "¬øQu√© redes sociales usa?", "What social media do they use?"),
                    t("Quant pot pagar pel meu producte?", "¬øCu√°nto puede pagar por mi producto?", "How much can they pay for my product?"),
                    t("On busca solucions al seu problema?", "¬øD√≥nde busca soluciones a su problema?", "Where do they look for solutions?"),
                ],
                consell: t("üí° T√ÄCTICA: Fes enquestes, entrevistes, observa el comportament a xarxes. No assumeixis - PREGUNTA.", "üí° T√ÅCTICA: Haz encuestas, entrevistas, observa el comportamiento en redes. No asumas - PREGUNTA.", "üí° TACTIC: Do surveys, interviews, observe social media behavior. Don't assume - ASK.")
            },
            {
                num: 3,
                titol: t("üß™ Validar la Idea (MVP)", "üß™ Validar la Idea (MVP)", "üß™ Validate the Idea (MVP)"),
                desc: t("Abans d'invertir tot, crea un Producte M√≠nim Viable (MVP) per testar si la gent PAGA.", "Antes de invertir todo, crea un Producto M√≠nimo Viable (MVP) para testar si la gente PAGA.", "Before investing everything, create a Minimum Viable Product (MVP) to test if people will PAY."),
                preguntes: [
                    t("Quina √©s la versi√≥ m√©s simple del producte que puc crear?", "¬øCu√°l es la versi√≥n m√°s simple del producto que puedo crear?", "What's the simplest version I can create?"),
                    t("Com puc testar la demanda abans de produir?", "¬øC√≥mo puedo testar la demanda antes de producir?", "How can I test demand before producing?"),
                    t("Quin √©s el m√≠nim que necessito per comen√ßar?", "¬øCu√°l es el m√≠nimo que necesito para empezar?", "What's the minimum I need to start?"),
                ],
                consell: t("üöÄ EXEMPLE: Dropbox va validar la idea amb nom√©s un V√çDEO explicatiu. 70.000 persones es van apuntar abans que exist√≠s el producte!", "üöÄ EJEMPLO: Dropbox valid√≥ la idea con solo un V√çDEO explicativo. ¬°70.000 personas se apuntaron antes de que existiera el producto!", "üöÄ EXAMPLE: Dropbox validated with just an EXPLAINER VIDEO. 70,000 people signed up before the product existed!")
            },
            {
                num: 4,
                titol: t("üí∞ Model de Negoci", "üí∞ Modelo de Negocio", "üí∞ Business Model"),
                desc: t("Com guanyar√†s diners? Hi ha molts models: venda directa, subscripci√≥, freemium, publicitat...", "¬øC√≥mo ganar√°s dinero? Hay muchos modelos: venta directa, suscripci√≥n, freemium, publicidad...", "How will you make money? Many models: direct sales, subscription, freemium, advertising..."),
                preguntes: [
                    t("Venc producte o servei? Una vegada o recurrent?", "¬øVendo producto o servicio? ¬øUna vez o recurrente?", "Do I sell product or service? One-time or recurring?"),
                    t("Quant cobrar√©? Com ho justifique?", "¬øCu√°nto cobrar√©? ¬øC√≥mo lo justifico?", "How much will I charge? How do I justify it?"),
                    t("El marge de benefici √©s sostenible?", "¬øEl margen de beneficio es sostenible?", "Is the profit margin sustainable?"),
                ],
                consell: t("üìä USA EL CANVAS! Ves a la secci√≥ d'Estrat√®gia i omple el Business Model Canvas editable.", "üìä ¬°USA EL CANVAS! Ve a la secci√≥n de Estrategia y rellena el Business Model Canvas editable.", "üìä USE THE CANVAS! Go to Strategy section and fill the editable Business Model Canvas.")
            },
            {
                num: 5,
                titol: t("üìã Pla Financer", "üìã Plan Financiero", "üìã Financial Plan"),
                desc: t("Necessites n√∫meros reals: inversi√≥ inicial, costos mensuals, previsi√≥ de vendes, punt mort.", "Necesitas n√∫meros reales: inversi√≥n inicial, costes mensuales, previsi√≥n de ventas, punto muerto.", "You need real numbers: initial investment, monthly costs, sales forecast, break-even."),
                preguntes: [
                    t("Quant necessito per comen√ßar? (inversi√≥ inicial)", "¬øCu√°nto necesito para empezar? (inversi√≥n inicial)", "How much do I need to start? (initial investment)"),
                    t("Quant costar√† cada mes funcionar? (costos fixos)", "¬øCu√°nto costar√° cada mes funcionar? (costes fijos)", "How much will it cost monthly? (fixed costs)"),
                    t("Quantes unitats he de vendre per no perdre? (punt mort)", "¬øCu√°ntas unidades debo vender para no perder? (punto muerto)", "How many units must I sell to not lose? (break-even)"),
                    t("D'on traur√© els diners? (finan√ßament)", "¬øDe d√≥nde sacar√© el dinero? (financiaci√≥n)", "Where will I get the money? (financing)"),
                ],
                consell: t("üßÆ USA ELS SIMULADORS! Ves a Costos i Punt Mort per calcular el teu umbral de rendibilitat.", "üßÆ ¬°USA LOS SIMULADORES! Ve a Costes y Punto Muerto para calcular tu umbral de rentabilidad.", "üßÆ USE THE SIMULATORS! Go to Costs and Break-even to calculate your profitability threshold.")
            },
            {
                num: 6,
                titol: t("‚öñÔ∏è Forma Jur√≠dica", "‚öñÔ∏è Forma Jur√≠dica", "‚öñÔ∏è Legal Form"),
                desc: t("Has de decidir com et constitueixes: aut√≤nom, SL, cooperativa... Cada forma t√© avantatges i inconvenients.", "Debes decidir c√≥mo te constituyes: aut√≥nomo, SL, cooperativa... Cada forma tiene ventajas e inconvenientes.", "You must decide how to incorporate: self-employed, LLC, cooperative... Each has pros and cons."),
                preguntes: [
                    t("S√≥c jo sol o amb socis?", "¬øSoy yo solo o con socios?", "Am I alone or with partners?"),
                    t("Necessito protegir el meu patrimoni personal? (responsabilitat limitada)", "¬øNecesito proteger mi patrimonio personal? (responsabilidad limitada)", "Do I need to protect my personal assets? (limited liability)"),
                    t("Quants diners puc aportar de capital?", "¬øCu√°nto dinero puedo aportar de capital?", "How much capital can I contribute?"),
                ],
                consell: t("üìö CONSULTA la secci√≥ de Formes Jur√≠diques per comparar aut√≤nom, SL, SA...", "üìö CONSULTA la secci√≥n de Formas Jur√≠dicas para comparar aut√≥nomo, SL, SA...", "üìö CHECK the Legal Forms section to compare self-employed, LLC, Corp...")
            },
            {
                num: 7,
                titol: t("üöÄ Llan√ßament", "üöÄ Lanzamiento", "üöÄ Launch"),
                desc: t("Ja ho tens tot! √âs hora de llan√ßar... per√≤ recorda: √©s nom√©s el principi.", "¬°Ya lo tienes todo! Es hora de lanzar... pero recuerda: es solo el principio.", "You've got it all! Time to launch... but remember: it's just the beginning."),
                preguntes: [
                    t("Com donar√© a con√®ixer el producte? (marketing)", "¬øC√≥mo dar√© a conocer el producto? (marketing)", "How will I make the product known? (marketing)"),
                    t("Quins canals utilitzar√© per vendre?", "¬øQu√© canales usar√© para vender?", "What channels will I use to sell?"),
                    t("Com medir√© l'√®xit? (KPIs)", "¬øC√≥mo medir√© el √©xito? (KPIs)", "How will I measure success? (KPIs)"),
                ],
                consell: t("üîÑ LEAN STARTUP: Llan√ßa, mesura, apr√®n, ajusta. El pla inicial MAI funciona al 100%. Itera!", "üîÑ LEAN STARTUP: Lanza, mide, aprende, ajusta. El plan inicial NUNCA funciona al 100%. ¬°Itera!", "üîÑ LEAN STARTUP: Launch, measure, learn, adjust. The initial plan NEVER works 100%. Iterate!")
            },
        ];
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üöÄ" title={t('Guia d\'Emprenedoria', 'Gu√≠a de Emprendimiento', 'Entrepreneurship Guide')} subtitle={t('Tot el que necessites per crear el teu negoci', 'Todo lo que necesitas para crear tu negocio', 'Everything you need to create your business')} />
                
                <WhyImportant>
                    {t("Crear una empresa √©s una de les coses m√©s dif√≠cils i gratificants que pots fer. La majoria fracassen perqu√® NO PLANIFIQUEN o perqu√® s'enamoren de la idea sense validar-la. Aquesta guia t'ajudar√† a evitar els errors m√©s comuns i a augmentar les teues probabilitats d'√®xit.",
                       "Crear una empresa es una de las cosas m√°s dif√≠ciles y gratificantes que puedes hacer. La mayor√≠a fracasan porque NO PLANIFICAN o porque se enamoran de la idea sin validarla. Esta gu√≠a te ayudar√° a evitar los errores m√°s comunes.",
                       "Starting a business is one of the hardest and most rewarding things you can do. Most fail because they DON'T PLAN or fall in love with the idea without validating it. This guide will help you avoid the most common mistakes.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'guia', label: t('üìã Guia Pas a Pas', 'üìã Gu√≠a Paso a Paso', 'üìã Step-by-Step Guide') },
                    { id: 'lean', label: 'üîÑ Lean Startup' },
                    { id: 'errors', label: t('‚ö†Ô∏è Errors Comuns', '‚ö†Ô∏è Errores Comunes', '‚ö†Ô∏è Common Mistakes') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'guia' && (
                    <div className="space-y-6">
                        {/* Navegaci√≥ passos */}
                        <div className="flex flex-wrap gap-2">
                            {passos.map((pas, i) => (
                                <button key={i} onClick={() => setPasActual(i)}
                                    className={`px-4 py-2 rounded-lg font-bold text-sm transition-all ${pasActual === i ? 'bg-blue-500 text-white shadow-lg' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'}`}>
                                    {pas.num}
                                </button>
                            ))}
                        </div>
                        
                        {/* Pas actual */}
                        <Card className="border-2 border-blue-200">
                            <div className="flex items-center gap-4 mb-6">
                                <span className="w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-black text-2xl">{passos[pasActual].num}</span>
                                <div>
                                    <h3 className="text-2xl font-black text-slate-800">{passos[pasActual].titol}</h3>
                                    <p className="text-slate-500">{t("Pas", "Paso", "Step")} {passos[pasActual].num} {t("de", "de", "of")} {passos.length}</p>
                                </div>
                            </div>
                            
                            <p className="text-lg text-slate-700 mb-6">{passos[pasActual].desc}</p>
                            
                            <div className="bg-slate-50 rounded-xl p-5 mb-4">
                                <h4 className="font-bold text-slate-700 mb-3">üìù {t("Preguntes clau que has de respondre:", "Preguntas clave que debes responder:", "Key questions you must answer:")}</h4>
                                <ul className="space-y-2">
                                    {passos[pasActual].preguntes.map((p, i) => (
                                        <li key={i} className="flex items-start gap-2">
                                            <span className="text-blue-500 mt-1">‚Üí</span>
                                            <span className="text-slate-600">{p}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                            
                            <div className="bg-amber-50 rounded-xl p-4 border border-amber-200">
                                <p className="text-amber-800">{passos[pasActual].consell}</p>
                            </div>
                            
                            {/* Navegaci√≥ */}
                            <div className="flex justify-between mt-6">
                                <button onClick={() => setPasActual(Math.max(0, pasActual - 1))} disabled={pasActual === 0}
                                    className={`px-4 py-2 rounded-lg font-bold ${pasActual === 0 ? 'bg-slate-100 text-slate-400' : 'bg-slate-200 text-slate-700 hover:bg-slate-300'}`}>
                                    ‚Üê {t("Anterior", "Anterior", "Previous")}
                                </button>
                                <button onClick={() => setPasActual(Math.min(passos.length - 1, pasActual + 1))} disabled={pasActual === passos.length - 1}
                                    className={`px-4 py-2 rounded-lg font-bold ${pasActual === passos.length - 1 ? 'bg-slate-100 text-slate-400' : 'bg-blue-500 text-white hover:bg-blue-600'}`}>
                                    {t("Seg√ºent", "Siguiente", "Next")} ‚Üí
                                </button>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'lean' && (
                    <div className="space-y-6">
                        <Card title="Lean Startup - Eric Ries" icon="üîÑ">
                            <TheoryBlock color="green">
                                <p className="text-lg">{t("Metodologia per crear empreses amb m√≠nim risc. En lloc de passar mesos fent un pla perfecte, llan√ßa r√†pid i apr√®n del mercat.", "Metodolog√≠a para crear empresas con m√≠nimo riesgo. En lugar de pasar meses haciendo un plan perfecto, lanza r√°pido y aprende del mercado.", "Methodology to create businesses with minimum risk. Instead of months making a perfect plan, launch fast and learn from the market.")}</p>
                            </TheoryBlock>
                            
                            <div className="flex flex-col md:flex-row items-center justify-center gap-6 mt-8">
                                <div className="p-6 bg-blue-100 rounded-full text-center w-32 h-32 flex flex-col items-center justify-center">
                                    <span className="text-3xl">üî®</span>
                                    <p className="text-lg font-black text-blue-700 mt-2">{t("CREAR", "CREAR", "BUILD")}</p>
                                </div>
                                <span className="text-4xl text-slate-400 hidden md:block">‚Üí</span>
                                <span className="text-4xl text-slate-400 md:hidden">‚Üì</span>
                                <div className="p-6 bg-green-100 rounded-full text-center w-32 h-32 flex flex-col items-center justify-center">
                                    <span className="text-3xl">üìè</span>
                                    <p className="text-lg font-black text-green-700 mt-2">{t("MESURAR", "MEDIR", "MEASURE")}</p>
                                </div>
                                <span className="text-4xl text-slate-400 hidden md:block">‚Üí</span>
                                <span className="text-4xl text-slate-400 md:hidden">‚Üì</span>
                                <div className="p-6 bg-amber-100 rounded-full text-center w-32 h-32 flex flex-col items-center justify-center">
                                    <span className="text-3xl">üí°</span>
                                    <p className="text-lg font-black text-amber-700 mt-2">{t("APRENDRE", "APRENDER", "LEARN")}</p>
                                </div>
                            </div>
                            
                            <div className="text-center mt-4">
                                <span className="text-slate-400 text-lg">‚Üª {t("Repetir!", "¬°Repetir!", "Repeat!")}</span>
                            </div>
                        </Card>
                        
                        <Card title={t("MVP - Producte M√≠nim Viable", "MVP - Producto M√≠nimo Viable", "MVP - Minimum Viable Product")} icon="üß™">
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock color="violet">
                                    <h4 className="font-bold text-lg">{t("Qu√® √©s?", "¬øQu√© es?", "What is it?")}</h4>
                                    <p className="mt-2">{t("La versi√≥ m√©s simple del teu producte que permet testar la hip√≤tesi principal amb clients reals.", "La versi√≥n m√°s simple de tu producto que permite testar la hip√≥tesis principal con clientes reales.", "The simplest version of your product that lets you test the main hypothesis with real customers.")}</p>
                                </TheoryBlock>
                                <TheoryBlock color="blue">
                                    <h4 className="font-bold text-lg">{t("Per a qu√® serveix?", "¬øPara qu√© sirve?", "What's it for?")}</h4>
                                    <p className="mt-2">{t("Evitar gastar temps i diners en algo que ning√∫ vol. Validar ABANS de construir.", "Evitar gastar tiempo y dinero en algo que nadie quiere. Validar ANTES de construir.", "Avoid spending time and money on something nobody wants. Validate BEFORE building.")}</p>
                                </TheoryBlock>
                            </div>
                            
                            <h4 className="font-bold text-slate-700 mt-6 mb-3">{t("Exemples reals de MVPs:", "Ejemplos reales de MVPs:", "Real MVP examples:")}</h4>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-slate-50 rounded-xl">
                                    <h5 className="font-bold text-slate-700">üì¶ Dropbox</h5>
                                    <p className="text-sm text-slate-600 mt-2">{t("Nom√©s un v√≠deo explicatiu. 70.000 inscrits abans d'existir!", "Solo un v√≠deo explicativo. ¬°70.000 inscritos antes de existir!", "Just an explainer video. 70,000 signups before it existed!")}</p>
                                </div>
                                <div className="p-4 bg-slate-50 rounded-xl">
                                    <h5 className="font-bold text-slate-700">üè† Airbnb</h5>
                                    <p className="text-sm text-slate-600 mt-2">{t("Van llogar el seu propi pis amb un matal√†s inflable i una web b√†sica.", "Alquilaron su propio piso con un colch√≥n inflable y una web b√°sica.", "They rented their own apartment with an air mattress and basic website.")}</p>
                                </div>
                                <div className="p-4 bg-slate-50 rounded-xl">
                                    <h5 className="font-bold text-slate-700">üëü Zappos</h5>
                                    <p className="text-sm text-slate-600 mt-2">{t("Fotos de sabates de botigues. Si alg√∫ comprava, anaven a comprar-les.", "Fotos de zapatos de tiendas. Si alguien compraba, iban a comprarlos.", "Photos of shoes from stores. If someone bought, they'd go buy them.")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'errors' && (
                    <Card title={t("Els 10 Errors M√©s Comuns dels Emprenedors", "Los 10 Errores M√°s Comunes de los Emprendedores", "The 10 Most Common Entrepreneur Mistakes")} icon="‚ö†Ô∏è">
                        <div className="space-y-4">
                            {[
                                { num: 1, error: t("No validar la idea amb clients reals", "No validar la idea con clientes reales", "Not validating the idea with real customers"), solucio: t("Parla amb 20+ clients potencials ABANS d'invertir", "Habla con 20+ clientes potenciales ANTES de invertir", "Talk to 20+ potential customers BEFORE investing") },
                                { num: 2, error: t("No con√®ixer b√© el client (el 'buyer persona')", "No conocer bien al cliente (el 'buyer persona')", "Not knowing the customer well (the 'buyer persona')"), solucio: t("Crea un perfil detallat: edat, ingressos, problemes, on busca...", "Crea un perfil detallado: edad, ingresos, problemas, d√≥nde busca...", "Create a detailed profile: age, income, problems, where they search...") },
                                { num: 3, error: t("Ignorar la compet√®ncia", "Ignorar la competencia", "Ignoring competition"), solucio: t("Estudia qu√® fan, els seus preus, els seus errors. Apr√®n d'ells!", "Estudia qu√© hacen, sus precios, sus errores. ¬°Aprende de ellos!", "Study what they do, their prices, their mistakes. Learn from them!") },
                                { num: 4, error: t("Calcular malament els costos", "Calcular mal los costes", "Miscalculating costs"), solucio: t("Llista TOTS els costos, afegeix un 30% d'imprevistos", "Lista TODOS los costes, a√±ade un 30% de imprevistos", "List ALL costs, add 30% for contingencies") },
                                { num: 5, error: t("No tenir prou diners per a 12-18 mesos", "No tener suficiente dinero para 12-18 meses", "Not having enough money for 12-18 months"), solucio: t("Calcula el 'runway': quants mesos pots aguantar sense ingressos?", "Calcula el 'runway': ¬øcu√°ntos meses puedes aguantar sin ingresos?", "Calculate your 'runway': how many months can you survive without income?") },
                                { num: 6, error: t("Voler fer-ho tot perfecte", "Querer hacerlo todo perfecto", "Wanting to do everything perfectly"), solucio: t("Llan√ßa un MVP imperfecte, apr√®n, itera", "Lanza un MVP imperfecto, aprende, itera", "Launch an imperfect MVP, learn, iterate") },
                                { num: 7, error: t("No saber vendre", "No saber vender", "Not knowing how to sell"), solucio: t("Apr√®n vendes b√†siques. El millor producte no es ven sol", "Aprende ventas b√°sicas. El mejor producto no se vende solo", "Learn basic sales. The best product doesn't sell itself") },
                                { num: 8, error: t("Triar malament els socis", "Elegir mal a los socios", "Choosing partners poorly"), solucio: t("Busca habilitats complement√†ries i valors compatibles", "Busca habilidades complementarias y valores compatibles", "Look for complementary skills and compatible values") },
                                { num: 9, error: t("No tenir un pla B", "No tener un plan B", "Not having a Plan B"), solucio: t("Qu√® far√†s si no funciona? Tens estalvis? Pots tornar al teu treball?", "¬øQu√© har√°s si no funciona? ¬øTienes ahorros? ¬øPuedes volver a tu trabajo?", "What will you do if it doesn't work? Do you have savings? Can you return to your job?") },
                                { num: 10, error: t("Rendir-se massa prompte (o massa tard)", "Rendirse demasiado pronto (o demasiado tarde)", "Giving up too soon (or too late)"), solucio: t("Defineix m√®triques d'√®xit/frac√†s abans de comen√ßar", "Define m√©tricas de √©xito/fracaso antes de empezar", "Define success/failure metrics before starting") },
                            ].map((item, i) => (
                                <div key={i} className="flex gap-4 p-4 bg-slate-50 rounded-xl">
                                    <span className="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold flex-shrink-0">{item.num}</span>
                                    <div>
                                        <p className="font-bold text-red-700">{item.error}</p>
                                        <p className="text-sm text-green-600 mt-1">‚úÖ {item.solucio}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì FISCALITAT
    const Fiscalitat = () => {
        const [tab, setTab] = useState('impostos');
        const [baseImposable, setBaseImposable] = useState(100000);
        const [tipusIS, setTipusIS] = useState(25);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üèõÔ∏è" title={t('Fiscalitat Empresarial', 'Fiscalidad Empresarial', 'Business Taxation')} subtitle={t("Els impostos que paguen les empreses", "Los impuestos que pagan las empresas", "Taxes that businesses pay")} />
                
                <WhyImportant>
                    {t("Els impostos s√≥n inevitables, per√≤ entendre'ls et permet planificar millor. Una empresa pot pagar fins al 25% dels seus beneficis en impostos (IS), per√≤ hi ha deduccions legals que pots aprofitar. Saber com funciona l'IVA evita sorpreses en les factures. I si ets aut√≤nom, l'IRPF pot menjar-se bona part dels teus ingressos si no planifiques.",
                       "Los impuestos son inevitables, pero entenderlos te permite planificar mejor. Una empresa puede pagar hasta el 25% de sus beneficios en impuestos (IS), pero hay deducciones legales que puedes aprovechar.",
                       "Taxes are inevitable, but understanding them helps you plan better. A company can pay up to 25% of profits in taxes (IS), but there are legal deductions you can use.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'impostos', label: t('üìã Tipus d\'Impostos', 'üìã Tipos de Impuestos', 'üìã Tax Types') },
                    { id: 'is', label: t('üè¢ Impost Societats', 'üè¢ Impuesto Sociedades', 'üè¢ Corporate Tax') },
                    { id: 'iva', label: 'üí∂ IVA' },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'impostos' && (
                    <div className="space-y-6">
                        <Card title={t("Principals Impostos Empresarials", "Principales Impuestos Empresariales", "Main Business Taxes")} icon="üìã">
                            <div className="grid md:grid-cols-3 gap-4">
                                <div className="p-4 bg-blue-50 rounded-xl border-2 border-blue-200">
                                    <h4 className="font-bold text-blue-700 text-lg">IS</h4>
                                    <p className="text-sm text-blue-600">{t("Impost sobre Societats", "Impuesto sobre Sociedades", "Corporate Tax")}</p>
                                    <p className="text-slate-600 text-sm mt-2">{t("El paga: Societats (SL, SA)", "Lo paga: Sociedades (SL, SA)", "Paid by: Companies (LLC, Corp)")}</p>
                                    <p className="font-bold text-blue-700 mt-2">25% {t("general", "general", "general")}</p>
                                    <p className="text-xs text-slate-500">{t("15% nous emprenedors 2 primers anys", "15% nuevos emprendedores 2 primeros a√±os", "15% new entrepreneurs first 2 years")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl border-2 border-green-200">
                                    <h4 className="font-bold text-green-700 text-lg">IVA</h4>
                                    <p className="text-sm text-green-600">{t("Impost Valor Afegit", "Impuesto Valor A√±adido", "Value Added Tax")}</p>
                                    <p className="text-slate-600 text-sm mt-2">{t("El paga: Consumidor final", "Lo paga: Consumidor final", "Paid by: Final consumer")}</p>
                                    <p className="font-bold text-green-700 mt-2">21% / 10% / 4%</p>
                                    <p className="text-xs text-slate-500">{t("General / Redu√Øt / Superredu√Øt", "General / Reducido / Superreducido", "General / Reduced / Super-reduced")}</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border-2 border-amber-200">
                                    <h4 className="font-bold text-amber-700 text-lg">IRPF</h4>
                                    <p className="text-sm text-amber-600">{t("Impost Renda Persones F√≠siques", "Impuesto Renta Personas F√≠sicas", "Personal Income Tax")}</p>
                                    <p className="text-slate-600 text-sm mt-2">{t("El paga: Aut√≤noms, treballadors", "Lo paga: Aut√≥nomos, trabajadores", "Paid by: Self-employed, workers")}</p>
                                    <p className="font-bold text-amber-700 mt-2">19% - 47%</p>
                                    <p className="text-xs text-slate-500">{t("Progressiu segons ingressos", "Progresivo seg√∫n ingresos", "Progressive by income")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Difer√®ncia clau: IS vs IRPF", "Diferencia clave: IS vs IRPF", "Key difference: IS vs IRPF")} icon="‚öñÔ∏è">
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock title={t("Si ets AUT√íNOM", "Si eres AUT√ìNOMO", "If you're SELF-EMPLOYED")} color="amber">
                                    <p>{t("Pagues IRPF pels teus beneficis. √âs progressiu: com m√©s guanyes, m√©s percentatge pagues (fins al 47%).", "Pagas IRPF por tus beneficios. Es progresivo: cuanto m√°s ganas, m√°s porcentaje pagas.", "You pay IRPF on your profits. It's progressive: the more you earn, the higher the percentage.")}</p>
                                    <p className="mt-2 font-bold">{t("Si guanyes molt ‚Üí pot ser millor crear una SL", "Si ganas mucho ‚Üí puede ser mejor crear una SL", "If you earn a lot ‚Üí better to create an LLC")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Si tens una SOCIETAT (SL/SA)", "Si tienes una SOCIEDAD (SL/SA)", "If you have a COMPANY (LLC/Corp)")} color="blue">
                                    <p>{t("L'empresa paga IS (25% fix). Tu, com a soci, pagues IRPF pels dividends o n√≤mina que et tragues.", "La empresa paga IS (25% fijo). T√∫, como socio, pagas IRPF por los dividendos o n√≥mina que te saques.", "Company pays IS (flat 25%). You, as partner, pay IRPF on dividends or salary you take.")}</p>
                                    <p className="mt-2 font-bold">{t("Permet planificaci√≥ fiscal i separar patrimoni", "Permite planificaci√≥n fiscal y separar patrimonio", "Allows tax planning and asset separation")}</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'is' && (
                    <div className="space-y-6">
                        <Card title={t("C√†lcul de l'Impost sobre Societats", "C√°lculo del Impuesto sobre Sociedades", "Corporate Tax Calculation")} icon="üßÆ">
                            <div className="grid lg:grid-cols-2 gap-6">
                                <div className="space-y-4">
                                    <Slider label={t("Benefici abans d'impostos (BAI)", "Beneficio antes de impuestos", "Profit before taxes")} value={baseImposable} onChange={setBaseImposable} min={0} max={500000} step={10000} suffix="‚Ç¨" />
                                    <Slider label={t("Tipus impositiu", "Tipo impositivo", "Tax rate")} value={tipusIS} onChange={setTipusIS} min={15} max={25} step={1} suffix="%" />
                                    <p className="text-xs text-slate-500">{t("15% = Nous emprenedors (2 primers anys) | 25% = General", "15% = Nuevos emprendedores | 25% = General", "15% = New entrepreneurs | 25% = General")}</p>
                                </div>
                                <div className="space-y-3">
                                    <ResultCard title={t("Quota IS", "Cuota IS", "Tax Amount")} value={Math.round(baseImposable * tipusIS / 100).toLocaleString() + "‚Ç¨"} color="red" subtitle={`${tipusIS}% del benefici`} />
                                    <ResultCard title={t("Benefici Net (despr√©s impostos)", "Beneficio Neto", "Net Profit")} value={Math.round(baseImposable * (100 - tipusIS) / 100).toLocaleString() + "‚Ç¨"} color="green" />
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'iva' && (
                    <Card title={t("Com funciona l'IVA", "C√≥mo funciona el IVA", "How VAT Works")} icon="üí∂">
                        <TheoryBlock color="green">
                            <p className="text-lg font-bold">{t("L'IVA NO √©s un cost per a l'empresa, √©s un impost de pas!", "¬°El IVA NO es un coste para la empresa, es un impuesto de paso!", "VAT is NOT a cost for the business, it's a pass-through tax!")}</p>
                            <p className="mt-2">{t("L'empresa cobra IVA als clients i paga IVA als prove√Ødors. La difer√®ncia es liquida a Hisenda.", "La empresa cobra IVA a clientes y paga IVA a proveedores. La diferencia se liquida a Hacienda.", "Business charges VAT to customers and pays VAT to suppliers. The difference goes to Treasury.")}</p>
                        </TheoryBlock>
                        
                        <FormulaBox formula="IVA a pagar = IVA repercutit (vendes) - IVA suportat (compres)" />
                        
                        <div className="grid md:grid-cols-3 gap-4 mt-6">
                            <div className="p-4 bg-red-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-red-600">21%</p>
                                <p className="font-bold text-red-700">{t("General", "General", "General")}</p>
                                <p className="text-xs text-slate-500 mt-2">{t("Majoria de productes i serveis", "Mayor√≠a de productos y servicios", "Most products and services")}</p>
                            </div>
                            <div className="p-4 bg-amber-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-amber-600">10%</p>
                                <p className="font-bold text-amber-700">{t("Redu√Øt", "Reducido", "Reduced")}</p>
                                <p className="text-xs text-slate-500 mt-2">{t("Aliments, transport, hostaleria", "Alimentos, transporte, hosteler√≠a", "Food, transport, hospitality")}</p>
                            </div>
                            <div className="p-4 bg-green-50 rounded-xl text-center">
                                <p className="text-3xl font-black text-green-600">4%</p>
                                <p className="font-bold text-green-700">{t("Superredu√Øt", "Superreducido", "Super-reduced")}</p>
                                <p className="text-xs text-slate-500 mt-2">{t("Pa, llet, fruita, verdura, llibres", "Pan, leche, fruta, verdura, libros", "Bread, milk, fruit, veg, books")}</p>
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì PRODUCCI√ì
    const Produccio = () => {
        const [tab, setTab] = useState('productivitat');
        const [unitats, setUnitats] = useState(1000);
        const [treballadors, setTreballadors] = useState(5);
        const [hores, setHores] = useState(160);
        
        const productivitat = useMemo(() => ({
            perTreballador: (unitats / treballadors).toFixed(1),
            perHora: (unitats / (treballadors * hores)).toFixed(2),
            total: unitats
        }), [unitats, treballadors, hores]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üè≠" title={t('Producci√≥', 'Producci√≥n', 'Production')} subtitle={t("Com crear productes de forma eficient", "C√≥mo crear productos de forma eficiente", "How to create products efficiently")} />
                
                <WhyImportant>
                    {t("La productivitat √©s la clau de la competitivitat. Si produeixes m√©s amb menys recursos, pots baixar preus o augmentar marges. Els sistemes de producci√≥ com Just-in-Time van revolucionar la ind√∫stria (Toyota va fer-se l√≠der mundial gr√†cies a aix√≤). Entendre producci√≥ √©s entendre per qu√® algunes empreses triomfen i altres moren.",
                       "La productividad es la clave de la competitividad. Si produces m√°s con menos recursos, puedes bajar precios o aumentar m√°rgenes. Los sistemas como Just-in-Time revolucionaron la industria.",
                       "Productivity is key to competitiveness. If you produce more with less resources, you can lower prices or increase margins. Systems like Just-in-Time revolutionized industry.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'productivitat', label: t('üìä Productivitat', 'üìä Productividad', 'üìä Productivity') },
                    { id: 'sistemes', label: t('‚öôÔ∏è Sistemes Producci√≥', '‚öôÔ∏è Sistemas Producci√≥n', '‚öôÔ∏è Production Systems') },
                    { id: 'qualitat', label: t('‚úÖ Qualitat', '‚úÖ Calidad', '‚úÖ Quality') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'productivitat' && (
                    <div className="space-y-6">
                        <Card title={t("C√†lcul de Productivitat", "C√°lculo de Productividad", "Productivity Calculation")} icon="üìä">
                            <FormulaBox formula={t("Productivitat = Producci√≥ / Recursos utilitzats", "Productividad = Producci√≥n / Recursos utilizados", "Productivity = Output / Resources used")} />
                            <div className="grid lg:grid-cols-2 gap-6 mt-4">
                                <div className="space-y-4">
                                    <Slider label={t("Unitats produ√Ødes/mes", "Unidades producidas/mes", "Units produced/month")} value={unitats} onChange={setUnitats} min={100} max={10000} step={100} />
                                    <Slider label={t("Treballadors", "Trabajadores", "Workers")} value={treballadors} onChange={setTreballadors} min={1} max={50} />
                                    <Slider label={t("Hores/treballador/mes", "Horas/trabajador/mes", "Hours/worker/month")} value={hores} onChange={setHores} min={80} max={200} step={10} />
                                </div>
                                <div className="grid grid-cols-1 gap-3">
                                    <ResultCard title={t("Productivitat/Treballador", "Productividad/Trabajador", "Productivity/Worker")} value={productivitat.perTreballador + " ut."} color="blue" subtitle={t("Unitats per treballador", "Unidades por trabajador", "Units per worker")} />
                                    <ResultCard title={t("Productivitat/Hora", "Productividad/Hora", "Productivity/Hour")} value={productivitat.perHora + " ut."} color="green" subtitle={t("Unitats per hora de treball", "Unidades por hora de trabajo", "Units per work hour")} />
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'sistemes' && (
                    <div className="space-y-6">
                        <Card title={t("Sistemes de Producci√≥", "Sistemas de Producci√≥n", "Production Systems")} icon="‚öôÔ∏è">
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock title={t("Producci√≥ en Massa", "Producci√≥n en Masa", "Mass Production")} color="blue">
                                    <p>{t("Gran quantitat de productes id√®ntics. Economies d'escala, per√≤ poca flexibilitat.", "Gran cantidad de productos id√©nticos. Econom√≠as de escala, pero poca flexibilidad.", "Large quantity of identical products. Economies of scale but little flexibility.")}</p>
                                    <p className="mt-2 font-bold">üìå Ex: Ford Model T, Coca-Cola</p>
                                </TheoryBlock>
                                <TheoryBlock title="Just-in-Time (JIT)" color="green">
                                    <p>{t("Produir nom√©s el necessari, quan √©s necessari. M√≠nim estoc, m√†xima efici√®ncia.", "Producir solo lo necesario, cuando es necesario. M√≠nimo stock, m√°xima eficiencia.", "Produce only what's needed, when needed. Minimum inventory, maximum efficiency.")}</p>
                                    <p className="mt-2 font-bold">üìå Ex: Toyota, Zara</p>
                                </TheoryBlock>
                                <TheoryBlock title="Lean Manufacturing" color="amber">
                                    <p>{t("Eliminar tot el 'malbaratament' (muda): temps d'espera, sobreproc√©s, defectes, transport innecessari...", "Eliminar todo el 'desperdicio' (muda): tiempos de espera, sobreproceso, defectos, transporte innecesario...", "Eliminate all 'waste' (muda): waiting time, over-processing, defects, unnecessary transport...")}</p>
                                    <p className="mt-2 font-bold">üìå {t("Els 7 malbarataments de Taiichi Ohno", "Los 7 desperdicios de Taiichi Ohno", "Taiichi Ohno's 7 wastes")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Producci√≥ Artesanal", "Producci√≥n Artesanal", "Artisan Production")} color="violet">
                                    <p>{t("Productes √∫nics o personalitzats. Alta qualitat, alt preu, baixa quantitat.", "Productos √∫nicos o personalizados. Alta calidad, alto precio, baja cantidad.", "Unique or customized products. High quality, high price, low quantity.")}</p>
                                    <p className="mt-2 font-bold">üìå Ex: Rolex, Ferrari, alta costura</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'qualitat' && (
                    <Card title={t("Gesti√≥ de la Qualitat", "Gesti√≥n de la Calidad", "Quality Management")} icon="‚úÖ">
                        <div className="grid md:grid-cols-2 gap-4">
                            <TheoryBlock title={t("Qualitat Total (TQM)", "Calidad Total (TQM)", "Total Quality Management")} color="green">
                                <p>{t("Tota l'empresa √©s responsable de la qualitat, no nom√©s el departament de control. Millora cont√≠nua (Kaizen).", "Toda la empresa es responsable de la calidad, no solo el departamento de control. Mejora continua (Kaizen).", "The whole company is responsible for quality, not just the control department. Continuous improvement (Kaizen).")}</p>
                            </TheoryBlock>
                            <TheoryBlock title="ISO 9001" color="blue">
                                <p>{t("Certificaci√≥ internacional que acredita que l'empresa t√© un sistema de gesti√≥ de qualitat.", "Certificaci√≥n internacional que acredita que la empresa tiene un sistema de gesti√≥n de calidad.", "International certification proving the company has a quality management system.")}</p>
                            </TheoryBlock>
                        </div>
                        <div className="mt-4 p-4 bg-slate-50 rounded-xl">
                            <h4 className="font-bold text-slate-700 mb-2">üìà {t("Cercle de Deming (PDCA)", "C√≠rculo de Deming (PDCA)", "Deming Cycle (PDCA)")}</h4>
                            <div className="flex flex-wrap justify-center gap-4">
                                <div className="p-3 bg-blue-100 rounded-lg text-center"><span className="font-bold text-blue-700">Plan</span><p className="text-xs">{t("Planificar", "Planificar", "Plan")}</p></div>
                                <span className="self-center">‚Üí</span>
                                <div className="p-3 bg-green-100 rounded-lg text-center"><span className="font-bold text-green-700">Do</span><p className="text-xs">{t("Fer", "Hacer", "Do")}</p></div>
                                <span className="self-center">‚Üí</span>
                                <div className="p-3 bg-amber-100 rounded-lg text-center"><span className="font-bold text-amber-700">Check</span><p className="text-xs">{t("Verificar", "Verificar", "Check")}</p></div>
                                <span className="self-center">‚Üí</span>
                                <div className="p-3 bg-red-100 rounded-lg text-center"><span className="font-bold text-red-700">Act</span><p className="text-xs">{t("Actuar", "Actuar", "Act")}</p></div>
                            </div>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì RECURSOS HUMANS
    const RRHH = () => {
        const [tab, setTab] = useState('motivacio');
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üë•" title={t('Recursos Humans', 'Recursos Humanos', 'Human Resources')} subtitle={t("Les persones s√≥n el recurs m√©s important", "Las personas son el recurso m√°s importante", "People are the most important resource")} />
                
                <WhyImportant>
                    {t("Una empresa no √©s res sense les seves persones. Pots tenir la millor idea, el millor producte, per√≤ si el teu equip no est√† motivat, fracassar√†s. Google, Apple, les millors empreses del m√≥n inverteixen milions en RRHH perqu√® saben que el talent √©s l'avantatge competitiu m√©s dif√≠cil de copiar.",
                       "Una empresa no es nada sin sus personas. Puedes tener la mejor idea, pero si tu equipo no est√° motivado, fracasar√°s. Las mejores empresas invierten millones en RRHH porque saben que el talento es la ventaja m√°s dif√≠cil de copiar.",
                       "A company is nothing without its people. You can have the best idea, but if your team isn't motivated, you'll fail. The best companies invest millions in HR because talent is the hardest competitive advantage to copy.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'motivacio', label: t('üî• Motivaci√≥', 'üî• Motivaci√≥n', 'üî• Motivation') },
                    { id: 'lideratge', label: t('üëî Lideratge', 'üëî Liderazgo', 'üëî Leadership') },
                    { id: 'organitzacio', label: t('üìã Organitzaci√≥', 'üìã Organizaci√≥n', 'üìã Organization') },
                ]} active={tab} onChange={setTab} />
                
                {tab === 'motivacio' && (
                    <div className="space-y-6">
                        <Card title={t("Teories de la Motivaci√≥", "Teor√≠as de la Motivaci√≥n", "Motivation Theories")} icon="üî•">
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock title={t("Pir√†mide de Maslow", "Pir√°mide de Maslow", "Maslow's Pyramid")} color="violet">
                                    <p>{t("5 nivells de necessitats. No pots motivar amb 'autorealitzaci√≥' a alg√∫ que no arriba a fi de mes.", "5 niveles de necesidades. No puedes motivar con 'autorrealizaci√≥n' a alguien que no llega a fin de mes.", "5 levels of needs. You can't motivate with 'self-actualization' someone who can't make ends meet.")}</p>
                                    <div className="mt-3 space-y-1 text-xs">
                                        <div className="p-1 bg-violet-200 rounded text-center">5. Autorealitzaci√≥</div>
                                        <div className="p-1 bg-violet-300 rounded text-center">4. Reconeixement</div>
                                        <div className="p-1 bg-violet-400 rounded text-center text-white">3. Socials (pertinen√ßa)</div>
                                        <div className="p-1 bg-violet-500 rounded text-center text-white">2. Seguretat</div>
                                        <div className="p-1 bg-violet-600 rounded text-center text-white">1. Fisiol√≤giques (menjar, dormir)</div>
                                    </div>
                                </TheoryBlock>
                                <TheoryBlock title={t("Teoria de Herzberg", "Teor√≠a de Herzberg", "Herzberg's Theory")} color="green">
                                    <p className="font-bold">{t("Factors Higi√®nics (eviten insatisfacci√≥):", "Factores Higi√©nicos (evitan insatisfacci√≥n):", "Hygiene Factors (prevent dissatisfaction):")}</p>
                                    <p>{t("Sou, condicions, estabilitat, relacions", "Sueldo, condiciones, estabilidad, relaciones", "Salary, conditions, stability, relationships")}</p>
                                    <p className="font-bold mt-2">{t("Factors Motivadors (generen satisfacci√≥):", "Factores Motivadores (generan satisfacci√≥n):", "Motivating Factors (create satisfaction):")}</p>
                                    <p>{t("Reconeixement, responsabilitat, creixement, √®xits", "Reconocimiento, responsabilidad, crecimiento, logros", "Recognition, responsibility, growth, achievements")}</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("Com motivar un equip (aplicaci√≥ pr√†ctica)", "C√≥mo motivar un equipo (aplicaci√≥n pr√°ctica)", "How to motivate a team (practical application)")} icon="üí°">
                            <div className="grid md:grid-cols-3 gap-3">
                                {[
                                    { icon: "üí∞", title: t("Salari just", "Salario justo", "Fair salary"), desc: t("Base imprescindible, per√≤ no suficient", "Base imprescindible, pero no suficiente", "Essential base, but not sufficient") },
                                    { icon: "üéØ", title: t("Objectius clars", "Objetivos claros", "Clear goals"), desc: t("Que s√†piguen qu√® s'espera d'ells", "Que sepan qu√© se espera de ellos", "Let them know what's expected") },
                                    { icon: "üèÜ", title: t("Reconeixement", "Reconocimiento", "Recognition"), desc: t("Celebrar els √®xits, grans i petits", "Celebrar los √©xitos, grandes y peque√±os", "Celebrate successes, big and small") },
                                    { icon: "üìà", title: t("Creixement", "Crecimiento", "Growth"), desc: t("Formaci√≥, promoci√≥, nous reptes", "Formaci√≥n, promoci√≥n, nuevos retos", "Training, promotion, new challenges") },
                                    { icon: "ü§ù", title: t("Autonomia", "Autonom√≠a", "Autonomy"), desc: t("Confian√ßa per prendre decisions", "Confianza para tomar decisiones", "Trust to make decisions") },
                                    { icon: "‚ù§Ô∏è", title: t("Bon ambient", "Buen ambiente", "Good environment"), desc: t("Cultura positiva i respectuosa", "Cultura positiva y respetuosa", "Positive and respectful culture") },
                                ].map((item, i) => (
                                    <div key={i} className="p-3 bg-slate-50 rounded-lg text-center">
                                        <span className="text-2xl">{item.icon}</span>
                                        <h4 className="font-bold text-slate-700 mt-1">{item.title}</h4>
                                        <p className="text-xs text-slate-500">{item.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </Card>
                    </div>
                )}
                
                {tab === 'lideratge' && (
                    <Card title={t("Estils de Lideratge", "Estilos de Liderazgo", "Leadership Styles")} icon="üëî">
                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                <h4 className="font-bold text-red-700">{t("Autoritari", "Autoritario", "Authoritarian")}</h4>
                                <p className="text-sm text-slate-600 mt-2">{t("El l√≠der decideix tot. R√†pid per√≤ desmotivador.", "El l√≠der decide todo. R√°pido pero desmotivador.", "Leader decides everything. Fast but demotivating.")}</p>
                                <p className="text-xs text-red-600 mt-2">üìå {t("√ötil en crisis", "√ötil en crisis", "Useful in crises")}</p>
                            </div>
                            <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                <h4 className="font-bold text-blue-700">{t("Democr√†tic", "Democr√°tico", "Democratic")}</h4>
                                <p className="text-sm text-slate-600 mt-2">{t("Consulta l'equip. M√©s lent per√≤ m√©s comprom√≠s.", "Consulta al equipo. M√°s lento pero m√°s compromiso.", "Consults the team. Slower but more commitment.")}</p>
                                <p className="text-xs text-blue-600 mt-2">üìå {t("El m√©s equilibrat", "El m√°s equilibrado", "Most balanced")}</p>
                            </div>
                            <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                <h4 className="font-bold text-green-700">Laissez-faire</h4>
                                <p className="text-sm text-slate-600 mt-2">{t("Deixa fer. L'equip t√© total autonomia.", "Dejar hacer. El equipo tiene total autonom√≠a.", "Let them be. Team has total autonomy.")}</p>
                                <p className="text-xs text-green-600 mt-2">üìå {t("Per a equips experts", "Para equipos expertos", "For expert teams")}</p>
                            </div>
                            <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                <h4 className="font-bold text-amber-700">{t("Transformacional", "Transformacional", "Transformational")}</h4>
                                <p className="text-sm text-slate-600 mt-2">{t("Inspira i motiva amb una visi√≥. Genera canvi.", "Inspira y motiva con una visi√≥n. Genera cambio.", "Inspires and motivates with vision. Creates change.")}</p>
                                <p className="text-xs text-amber-600 mt-2">üìå Ex: Steve Jobs</p>
                            </div>
                        </div>
                    </Card>
                )}
                
                {tab === 'organitzacio' && (
                    <Card title={t("Estructures Organitzatives", "Estructuras Organizativas", "Organizational Structures")} icon="üìã">
                        <div className="grid md:grid-cols-3 gap-4">
                            <TheoryBlock title={t("Lineal (Jer√†rquica)", "Lineal (Jer√°rquica)", "Linear (Hierarchical)")} color="slate">
                                <p>{t("Cadena de comandament clara. Un cap per cada subordinat.", "Cadena de mando clara. Un jefe por cada subordinado.", "Clear chain of command. One boss per subordinate.")}</p>
                                <p className="mt-2">‚úÖ {t("Simple, clara", "Simple, clara", "Simple, clear")}</p>
                                <p>‚ùå {t("R√≠gida, lenta", "R√≠gida, lenta", "Rigid, slow")}</p>
                            </TheoryBlock>
                            <TheoryBlock title={t("Funcional", "Funcional", "Functional")} color="blue">
                                <p>{t("Departaments per funci√≥ (vendes, producci√≥, finances...). Especialitzaci√≥.", "Departamentos por funci√≥n (ventas, producci√≥n, finanzas...). Especializaci√≥n.", "Departments by function (sales, production, finance...). Specialization.")}</p>
                                <p className="mt-2">‚úÖ {t("Eficient", "Eficiente", "Efficient")}</p>
                                <p>‚ùå {t("Silos, poca coordinaci√≥", "Silos, poca coordinaci√≥n", "Silos, poor coordination")}</p>
                            </TheoryBlock>
                            <TheoryBlock title={t("Matricial", "Matricial", "Matrix")} color="green">
                                <p>{t("Combina funcions i projectes. Doble autoritat.", "Combina funciones y proyectos. Doble autoridad.", "Combines functions and projects. Dual authority.")}</p>
                                <p className="mt-2">‚úÖ {t("Flexible", "Flexible", "Flexible")}</p>
                                <p>‚ùå {t("Conflictes d'autoritat", "Conflictos de autoridad", "Authority conflicts")}</p>
                            </TheoryBlock>
                        </div>
                    </Card>
                )}
            </div>
        );
    };

    // SECCI√ì MARKETING - COMPLETA
    const Marketing = () => {
        const [tab, setTab] = useState('investigacio');
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üì£" title="Marketing" subtitle={t("Entendre el client i satisfer les seues necessitats", "Entender al cliente y satisfacer sus necesidades", "Understanding customers and meeting their needs")} />
                
                <WhyImportant>
                    {t("El marketing NO √©s nom√©s publicitat. √âs TOT el proc√©s d'entendre qu√® vol el client, crear un producte que ho satisfa√ßa, posar-li un preu adequat, fer-lo arribar al lloc correcte i comunicar-ho b√©. Coca-Cola gasta milions en investigar qu√® vols ABANS de crear un producte. Spotify analitza milions de dades per recomanar-te m√∫sica. Entendre marketing √©s entendre com funciona el m√≥n comercial modern.",
                       "El marketing NO es solo publicidad. Es TODO el proceso de entender qu√© quiere el cliente, crear un producto que lo satisfaga, ponerle un precio adecuado, hacerlo llegar al lugar correcto y comunicarlo bien. Entender marketing es entender c√≥mo funciona el mundo comercial moderno.",
                       "Marketing is NOT just advertising. It's the ENTIRE process of understanding what the customer wants, creating a product that satisfies it, pricing it right, getting it to the right place and communicating it well. Understanding marketing is understanding how the modern commercial world works.")}
                </WhyImportant>
                
                <Tabs tabs={[
                    { id: 'investigacio', label: t('üîç Investigaci√≥', 'üîç Investigaci√≥n', 'üîç Research') },
                    { id: 'segmentacio', label: t('üë• Segmentaci√≥', 'üë• Segmentaci√≥n', 'üë• Segmentation') },
                    { id: 'producte', label: 'üì¶ Product' },
                    { id: 'preu', label: 'üí∞ Price' },
                    { id: 'distribucio', label: 'üìç Place' },
                    { id: 'promocio', label: 'üì¢ Promotion' },
                    { id: 'digital', label: 'üíª M√†rqueting Digital' },
                    { id: 'eines', label: t('üìä Eines', 'üìä Herramientas', 'üìä Tools') },
                ]} active={tab} onChange={setTab} />
                
                {/* INVESTIGACI√ì DE MERCATS */}
                {tab === 'investigacio' && (
                    <div className="space-y-6">
                        <Card title={t("Investigaci√≥ de Mercats", "Investigaci√≥n de Mercados", "Market Research")} icon="üîç">
                            <TheoryBlock color="blue">
                                <p className="text-lg font-semibold">{t("Abans de vendre res, has de saber: QUI comprar√†, QU√à vol, QUANT pagar√†, ON compra i PER QU√à ho fa.", "Antes de vender nada, debes saber: QUI√âN comprar√°, QU√â quiere, CU√ÅNTO pagar√°, D√ìNDE compra y POR QU√â lo hace.", "Before selling anything, you need to know: WHO will buy, WHAT they want, HOW MUCH they'll pay, WHERE they buy and WHY.")}</p>
                            </TheoryBlock>
                            
                            <div className="grid md:grid-cols-2 gap-6 mt-6">
                                <div className="p-5 bg-green-50 rounded-xl border-2 border-green-200">
                                    <h4 className="font-bold text-green-700 text-lg mb-3">üìó {t("Fonts PRIM√ÄRIES", "Fuentes PRIMARIAS", "PRIMARY Sources")}</h4>
                                    <p className="text-sm text-slate-600 mb-3">{t("Informaci√≥ nova, recollida per nosaltres directament", "Informaci√≥n nueva, recogida por nosotros directamente", "New information, collected by us directly")}</p>
                                    <div className="space-y-2">
                                        <div className="p-2 bg-white rounded border border-green-200">
                                            <p className="font-semibold text-green-700">üìã {t("Enquestes", "Encuestas", "Surveys")}</p>
                                            <p className="text-xs text-slate-500">{t("Q√ºestionaris a moltes persones. Dades quantitatives.", "Cuestionarios a muchas personas. Datos cuantitativos.", "Questionnaires to many people. Quantitative data.")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-green-200">
                                            <p className="font-semibold text-green-700">üé§ {t("Entrevistes", "Entrevistas", "Interviews")}</p>
                                            <p className="text-xs text-slate-500">{t("Converses profundes amb pocs. Dades qualitatives.", "Conversaciones profundas con pocos. Datos cualitativos.", "Deep conversations with few. Qualitative data.")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-green-200">
                                            <p className="font-semibold text-green-700">üë• Focus Groups</p>
                                            <p className="text-xs text-slate-500">{t("Grups de discussi√≥ guiats. Opinions i percepcions.", "Grupos de discusi√≥n guiados. Opiniones y percepciones.", "Guided discussion groups. Opinions and perceptions.")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-green-200">
                                            <p className="font-semibold text-green-700">üëÅÔ∏è {t("Observaci√≥", "Observaci√≥n", "Observation")}</p>
                                            <p className="text-xs text-slate-500">{t("Estudiar comportaments reals dels consumidors.", "Estudiar comportamientos reales de los consumidores.", "Study actual consumer behaviors.")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-green-200">
                                            <p className="font-semibold text-green-700">üß™ {t("Experiments", "Experimentos", "Experiments")}</p>
                                            <p className="text-xs text-slate-500">{t("Tests A/B, proves de producte, mercat de prova.", "Tests A/B, pruebas de producto, mercado de prueba.", "A/B tests, product tests, test markets.")}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="p-5 bg-blue-50 rounded-xl border-2 border-blue-200">
                                    <h4 className="font-bold text-blue-700 text-lg mb-3">üìò {t("Fonts SECUND√ÄRIES", "Fuentes SECUNDARIAS", "SECONDARY Sources")}</h4>
                                    <p className="text-sm text-slate-600 mb-3">{t("Informaci√≥ ja existent, recollida per altres", "Informaci√≥n ya existente, recogida por otros", "Existing information, collected by others")}</p>
                                    <div className="space-y-2">
                                        <div className="p-2 bg-white rounded border border-blue-200">
                                            <p className="font-semibold text-blue-700">üèõÔ∏è {t("Fonts p√∫bliques", "Fuentes p√∫blicas", "Public sources")}</p>
                                            <p className="text-xs text-slate-500">INE, Eurostat, Banc d'Espanya, cambres de comer√ß...</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-blue-200">
                                            <p className="font-semibold text-blue-700">üì∞ {t("Premsa especialitzada", "Prensa especializada", "Trade press")}</p>
                                            <p className="text-xs text-slate-500">{t("Revistes del sector, informes d'analistes", "Revistas del sector, informes de analistas", "Industry magazines, analyst reports")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-blue-200">
                                            <p className="font-semibold text-blue-700">üè¢ {t("Dades internes", "Datos internos", "Internal data")}</p>
                                            <p className="text-xs text-slate-500">{t("Historial de vendes, queixes, CRM", "Historial de ventas, quejas, CRM", "Sales history, complaints, CRM")}</p>
                                        </div>
                                        <div className="p-2 bg-white rounded border border-blue-200">
                                            <p className="font-semibold text-blue-700">üåê {t("Internet i xarxes", "Internet y redes", "Internet and social")}</p>
                                            <p className="text-xs text-slate-500">{t("Google Trends, an√†lisi de xarxes socials", "Google Trends, an√°lisis de redes sociales", "Google Trends, social media analysis")}</p>
                                        </div>
                                    </div>
                                    <div className="mt-3 p-2 bg-amber-100 rounded text-xs">
                                        <p className="font-bold text-amber-700">‚ö†Ô∏è {t("Avantatge: barata i r√†pida", "Ventaja: barata y r√°pida", "Advantage: cheap and fast")}</p>
                                        <p className="text-amber-600">{t("Desavantatge: pot estar desactualitzada o no ser espec√≠fica", "Desventaja: puede estar desactualizada o no ser espec√≠fica", "Disadvantage: may be outdated or not specific")}</p>
                                    </div>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Proc√©s d'Investigaci√≥ de Mercats", "Proceso de Investigaci√≥n de Mercados", "Market Research Process")} icon="üìã">
                            <div className="flex flex-wrap justify-center gap-2 md:gap-4">
                                {[
                                    { num: 1, icon: "üéØ", title: t("Definir problema", "Definir problema", "Define problem") },
                                    { num: 2, icon: "üìù", title: t("Dissenyar investigaci√≥", "Dise√±ar investigaci√≥n", "Design research") },
                                    { num: 3, icon: "üìä", title: t("Recollir dades", "Recoger datos", "Collect data") },
                                    { num: 4, icon: "üî¨", title: t("Analitzar", "Analizar", "Analyze") },
                                    { num: 5, icon: "üìà", title: t("Conclusions", "Conclusiones", "Conclusions") },
                                ].map((item, i) => (
                                    <div key={i} className="flex items-center gap-2">
                                        <div className="p-3 bg-slate-100 rounded-lg text-center min-w-[80px]">
                                            <span className="text-xl">{item.icon}</span>
                                            <p className="text-xs font-bold text-slate-700 mt-1">{item.num}. {item.title}</p>
                                        </div>
                                        {i < 4 && <span className="text-slate-400 hidden md:block">‚Üí</span>}
                                    </div>
                                ))}
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* SEGMENTACI√ì */}
                {tab === 'segmentacio' && (
                    <div className="space-y-6">
                        <Card title={t("Segmentaci√≥ del Mercat", "Segmentaci√≥n del Mercado", "Market Segmentation")} icon="üë•">
                            <TheoryBlock color="violet">
                                <p className="text-lg font-semibold">{t("No pots vendre a tothom igual. Has de dividir el mercat en grups amb necessitats similars i triar a quin/quins dirigir-te.", "No puedes vender a todos igual. Debes dividir el mercado en grupos con necesidades similares y elegir a cu√°l/cu√°les dirigirte.", "You can't sell to everyone the same way. You must divide the market into groups with similar needs and choose which to target.")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Criteris de Segmentaci√≥", "Criterios de Segmentaci√≥n", "Segmentation Criteria")} icon="üìã">
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <h4 className="font-bold text-blue-700 text-lg">üßë {t("Demogr√†fics", "Demogr√°ficos", "Demographic")}</h4>
                                    <ul className="text-sm text-slate-600 mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Edat", "Edad", "Age")}</li>
                                        <li>‚Ä¢ {t("Sexe", "Sexo", "Gender")}</li>
                                        <li>‚Ä¢ {t("Renda/Ingressos", "Renta/Ingresos", "Income")}</li>
                                        <li>‚Ä¢ {t("Educaci√≥", "Educaci√≥n", "Education")}</li>
                                        <li>‚Ä¢ {t("Ocupaci√≥", "Ocupaci√≥n", "Occupation")}</li>
                                        <li>‚Ä¢ {t("Estat civil", "Estado civil", "Marital status")}</li>
                                        <li>‚Ä¢ {t("Mida fam√≠lia", "Tama√±o familia", "Family size")}</li>
                                    </ul>
                                    <p className="text-xs text-blue-600 mt-2 font-bold">üìå Ex: Pampers ‚Üí fam√≠lies amb nadons</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700 text-lg">üåç {t("Geogr√†fics", "Geogr√°ficos", "Geographic")}</h4>
                                    <ul className="text-sm text-slate-600 mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Pa√≠s/Regi√≥", "Pa√≠s/Regi√≥n", "Country/Region")}</li>
                                        <li>‚Ä¢ {t("Clima", "Clima", "Climate")}</li>
                                        <li>‚Ä¢ {t("Urb√†/Rural", "Urbano/Rural", "Urban/Rural")}</li>
                                        <li>‚Ä¢ {t("Densitat poblaci√≥", "Densidad poblaci√≥n", "Population density")}</li>
                                    </ul>
                                    <p className="text-xs text-green-600 mt-2 font-bold">üìå Ex: Roba d'hivern ‚Üí zones fredes</p>
                                </div>
                                <div className="p-4 bg-pink-50 rounded-xl border border-pink-200">
                                    <h4 className="font-bold text-pink-700 text-lg">üß† {t("Psicogr√†fics", "Psicogr√°ficos", "Psychographic")}</h4>
                                    <ul className="text-sm text-slate-600 mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Personalitat", "Personalidad", "Personality")}</li>
                                        <li>‚Ä¢ {t("Estil de vida", "Estilo de vida", "Lifestyle")}</li>
                                        <li>‚Ä¢ {t("Valors", "Valores", "Values")}</li>
                                        <li>‚Ä¢ {t("Interessos", "Intereses", "Interests")}</li>
                                        <li>‚Ä¢ {t("Opinions", "Opiniones", "Opinions")}</li>
                                    </ul>
                                    <p className="text-xs text-pink-600 mt-2 font-bold">üìå Ex: Tesla ‚Üí ecologistes amb estatus</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                    <h4 className="font-bold text-amber-700 text-lg">üõí {t("Conductuals", "Conductuales", "Behavioral")}</h4>
                                    <ul className="text-sm text-slate-600 mt-2 space-y-1">
                                        <li>‚Ä¢ {t("Freq√º√®ncia de compra", "Frecuencia de compra", "Purchase frequency")}</li>
                                        <li>‚Ä¢ {t("Lleialtat marca", "Lealtad marca", "Brand loyalty")}</li>
                                        <li>‚Ä¢ {t("Benefici buscat", "Beneficio buscado", "Benefit sought")}</li>
                                        <li>‚Ä¢ {t("Ocasi√≥ d'√∫s", "Ocasi√≥n de uso", "Usage occasion")}</li>
                                        <li>‚Ä¢ {t("Sensibilitat al preu", "Sensibilidad al precio", "Price sensitivity")}</li>
                                    </ul>
                                    <p className="text-xs text-amber-600 mt-2 font-bold">üìå Ex: Programes de fidelitzaci√≥</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Estrat√®gies de Segmentaci√≥", "Estrategias de Segmentaci√≥n", "Segmentation Strategies")} icon="üéØ">
                            <div className="grid md:grid-cols-3 gap-4">
                                <TheoryBlock title={t("Indiferenciada (Massiva)", "Indiferenciada (Masiva)", "Undifferentiated (Mass)")} color="slate">
                                    <p>{t("Un sol producte per a tot el mercat. Ignora difer√®ncies entre segments.", "Un solo producto para todo el mercado. Ignora diferencias entre segmentos.", "One product for the whole market. Ignores segment differences.")}</p>
                                    <p className="mt-2 font-bold text-green-600">‚úÖ {t("Economies d'escala", "Econom√≠as de escala", "Economies of scale")}</p>
                                    <p className="font-bold text-red-600">‚ùå {t("Vulnerable a competidors especialitzats", "Vulnerable a competidores especializados", "Vulnerable to specialized competitors")}</p>
                                    <p className="text-xs mt-2">üìå Ex: {t("Sal, sucre", "Sal, az√∫car", "Salt, sugar")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Diferenciada", "Diferenciada", "Differentiated")} color="blue">
                                    <p>{t("Productes diferents per a cada segment. Adaptes l'oferta.", "Productos diferentes para cada segmento. Adaptas la oferta.", "Different products for each segment. You adapt the offer.")}</p>
                                    <p className="mt-2 font-bold text-green-600">‚úÖ {t("Major satisfacci√≥, m√©s vendes", "Mayor satisfacci√≥n, m√°s ventas", "Higher satisfaction, more sales")}</p>
                                    <p className="font-bold text-red-600">‚ùå {t("Cost√≥s (m√∫ltiples campanyes)", "Costoso (m√∫ltiples campa√±as)", "Expensive (multiple campaigns)")}</p>
                                    <p className="text-xs mt-2">üìå Ex: Inditex (Zara, Massimo Dutti, Bershka...)</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Concentrada (N√≠nxol)", "Concentrada (Nicho)", "Concentrated (Niche)")} color="green">
                                    <p>{t("Tot l'esfor√ß en un sol segment. Especialitzaci√≥ m√†xima.", "Todo el esfuerzo en un solo segmento. Especializaci√≥n m√°xima.", "All effort on one segment. Maximum specialization.")}</p>
                                    <p className="mt-2 font-bold text-green-600">‚úÖ {t("Expert, fidelitzaci√≥", "Experto, fidelizaci√≥n", "Expert, loyalty")}</p>
                                    <p className="font-bold text-red-600">‚ùå {t("Risc si el segment desapareix", "Riesgo si el segmento desaparece", "Risk if segment disappears")}</p>
                                    <p className="text-xs mt-2">üìå Ex: Ferrari, Rolex, Lush</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("Posicionament", "Posicionamiento", "Positioning")} icon="üéØ">
                            <TheoryBlock color="amber">
                                <p className="text-lg font-semibold">{t("Com vols que el client et perceba en comparaci√≥ amb la compet√®ncia? Quin lloc ocupes a la seua ment?", "¬øC√≥mo quieres que el cliente te perciba en comparaci√≥n con la competencia? ¬øQu√© lugar ocupas en su mente?", "How do you want the customer to perceive you compared to competition? What place do you occupy in their mind?")}</p>
                            </TheoryBlock>
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-3 mt-4">
                                <div className="p-3 bg-slate-50 rounded-lg text-center">
                                    <p className="font-bold text-slate-700">{t("Per atribut", "Por atributo", "By attribute")}</p>
                                    <p className="text-xs text-slate-500">Volvo = Seguretat</p>
                                </div>
                                <div className="p-3 bg-slate-50 rounded-lg text-center">
                                    <p className="font-bold text-slate-700">{t("Per preu/qualitat", "Por precio/calidad", "By price/quality")}</p>
                                    <p className="text-xs text-slate-500">Rolex = Luxe</p>
                                </div>
                                <div className="p-3 bg-slate-50 rounded-lg text-center">
                                    <p className="font-bold text-slate-700">{t("Per √∫s", "Por uso", "By use")}</p>
                                    <p className="text-xs text-slate-500">Red Bull = Energia</p>
                                </div>
                                <div className="p-3 bg-slate-50 rounded-lg text-center">
                                    <p className="font-bold text-slate-700">{t("Per competidor", "Por competidor", "By competitor")}</p>
                                    <p className="text-xs text-slate-500">Pepsi vs Coca-Cola</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* PRODUCTE */}
                {tab === 'producte' && (
                    <div className="space-y-6">
                        <Card title={t("Pol√≠tica de Producte", "Pol√≠tica de Producto", "Product Policy")} icon="üì¶">
                            <div className="p-5 bg-blue-50 rounded-xl border-2 border-blue-200 mb-6">
                                <h4 className="font-bold text-blue-700 text-xl mb-3">{t("Els 3 Nivells del Producte", "Los 3 Niveles del Producto", "The 3 Product Levels")}</h4>
                                <div className="grid md:grid-cols-3 gap-4">
                                    <div className="p-3 bg-white rounded-lg text-center">
                                        <span className="text-2xl">üí°</span>
                                        <p className="font-bold text-blue-700">{t("Producte B√ÄSIC", "Producto B√ÅSICO", "CORE Product")}</p>
                                        <p className="text-xs text-slate-600">{t("El benefici que realment compres", "El beneficio que realmente compras", "The benefit you actually buy")}</p>
                                        <p className="text-xs text-blue-600 mt-1">Ex: Hotel = Descans</p>
                                    </div>
                                    <div className="p-3 bg-white rounded-lg text-center">
                                        <span className="text-2xl">üì¶</span>
                                        <p className="font-bold text-blue-700">{t("Producte REAL", "Producto REAL", "ACTUAL Product")}</p>
                                        <p className="text-xs text-slate-600">{t("Caracter√≠stiques tangibles", "Caracter√≠sticas tangibles", "Tangible features")}</p>
                                        <p className="text-xs text-blue-600 mt-1">Ex: Habitaci√≥, llit, bany...</p>
                                    </div>
                                    <div className="p-3 bg-white rounded-lg text-center">
                                        <span className="text-2xl">‚≠ê</span>
                                        <p className="font-bold text-blue-700">{t("Producte AUGMENTAT", "Producto AUMENTADO", "AUGMENTED Product")}</p>
                                        <p className="text-xs text-slate-600">{t("Serveis addicionals", "Servicios adicionales", "Additional services")}</p>
                                        <p className="text-xs text-blue-600 mt-1">Ex: Wi-Fi, esmorzar, spa...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="grid md:grid-cols-2 gap-4">
                                <TheoryBlock title={t("La Marca (Branding)", "La Marca (Branding)", "Branding")} color="pink">
                                    <p>{t("Nom, logotip, esl√≤gan que identifica el producte i el diferencia. La marca √âS el valor.", "Nombre, logotipo, eslogan que identifica el producto y lo diferencia. La marca ES el valor.", "Name, logo, slogan that identifies and differentiates the product. The brand IS the value.")}</p>
                                    <ul className="mt-2 space-y-1 text-sm">
                                        <li>‚Ä¢ <strong>{t("Marca √∫nica:", "Marca √∫nica:", "Single brand:")}</strong> Apple</li>
                                        <li>‚Ä¢ <strong>{t("Marques m√∫ltiples:", "Marcas m√∫ltiples:", "Multiple brands:")}</strong> P&G (Ariel, Fairy...)</li>
                                        <li>‚Ä¢ <strong>{t("Marca blanca:", "Marca blanca:", "Private label:")}</strong> Hacendado</li>
                                    </ul>
                                </TheoryBlock>
                                <TheoryBlock title="Packaging" color="amber">
                                    <p>{t("L'env√†s no nom√©s protegeix, tamb√© VENT. √âs el 'venedor silenci√≥s'.", "El envase no solo protege, tambi√©n VENDE. Es el 'vendedor silencioso'.", "Packaging doesn't just protect, it SELLS. It's the 'silent salesman'.")}</p>
                                    <ul className="mt-2 space-y-1 text-sm">
                                        <li>‚Ä¢ {t("Protecci√≥ del producte", "Protecci√≥n del producto", "Product protection")}</li>
                                        <li>‚Ä¢ {t("Informaci√≥ (ingredients, √∫s)", "Informaci√≥n (ingredientes, uso)", "Information (ingredients, use)")}</li>
                                        <li>‚Ä¢ {t("Atracci√≥ visual", "Atracci√≥n visual", "Visual attraction")}</li>
                                        <li>‚Ä¢ {t("Diferenciaci√≥", "Diferenciaci√≥n", "Differentiation")}</li>
                                    </ul>
                                </TheoryBlock>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* PREU */}
                {tab === 'preu' && (
                    <div className="space-y-6">
                        <Card title={t("Pol√≠tica de Preus", "Pol√≠tica de Precios", "Pricing Policy")} icon="üí∞">
                            <TheoryBlock color="green">
                                <p className="text-lg font-semibold">{t("El preu NO √©s nom√©s cobrir costos. √âs una DECISI√ì ESTRAT√àGICA que afecta la percepci√≥ del producte.", "El precio NO es solo cubrir costes. Es una DECISI√ìN ESTRAT√âGICA que afecta la percepci√≥n del producto.", "Price is NOT just covering costs. It's a STRATEGIC DECISION that affects product perception.")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("M√®todes de Fixaci√≥ de Preus", "M√©todos de Fijaci√≥n de Precios", "Pricing Methods")} icon="üßÆ">
                            <div className="grid md:grid-cols-3 gap-4">
                                <TheoryBlock title={t("Basat en COSTOS", "Basado en COSTES", "COST-based")} color="blue">
                                    <p>{t("Calcules el cost i afegeixes un marge de benefici.", "Calculas el coste y a√±ades un margen de beneficio.", "Calculate cost and add a profit margin.")}</p>
                                    <FormulaBox formula="Preu = Cost + Marge" />
                                    <p className="text-xs">‚úÖ {t("Simple", "Simple", "Simple")}</p>
                                    <p className="text-xs">‚ùå {t("Ignora compet√®ncia i demanda", "Ignora competencia y demanda", "Ignores competition and demand")}</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Basat en COMPET√àNCIA", "Basado en COMPETENCIA", "COMPETITION-based")} color="amber">
                                    <p>{t("Mires qu√® cobren els altres i te posiciones.", "Miras qu√© cobran los otros y te posicionas.", "Look at what others charge and position yourself.")}</p>
                                    <ul className="mt-2 text-sm">
                                        <li>‚Ä¢ {t("Per sobre (si ets millor)", "Por encima (si eres mejor)", "Above (if you're better)")}</li>
                                        <li>‚Ä¢ {t("Igual (seguir l√≠der)", "Igual (seguir l√≠der)", "Same (follow leader)")}</li>
                                        <li>‚Ä¢ {t("Per sota (atacar)", "Por debajo (atacar)", "Below (attack)")}</li>
                                    </ul>
                                </TheoryBlock>
                                <TheoryBlock title={t("Basat en VALOR", "Basado en VALOR", "VALUE-based")} color="green">
                                    <p>{t("El preu dep√®n de quant VALORA el client el producte.", "El precio depende de cu√°nto VALORA el cliente el producto.", "Price depends on how much the customer VALUES the product.")}</p>
                                    <p className="mt-2 text-sm font-bold">{t("El m√®tode m√©s rendible si crees valor real", "El m√©todo m√°s rentable si creas valor real", "Most profitable if you create real value")}</p>
                                    <p className="text-xs mt-1">üìå Ex: Apple cobra m√©s perqu√® el client paga per l'experi√®ncia</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                        
                        <Card title={t("Estrat√®gies de Preus", "Estrategias de Precios", "Pricing Strategies")} icon="üéØ">
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700">üìâ {t("Penetraci√≥", "Penetraci√≥n", "Penetration")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Preu BAIX per entrar al mercat r√†pid i guanyar quota.", "Precio BAJO para entrar al mercado r√°pido y ganar cuota.", "LOW price to enter market fast and gain share.")}</p>
                                    <p className="text-xs text-green-600 mt-2">üìå Ex: Netflix als inicis, Xiaomi</p>
                                </div>
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <h4 className="font-bold text-blue-700">üìà {t("Desnatament", "Descremado", "Skimming")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Preu ALT al principi (clients que paguen m√©s), despr√©s baixa.", "Precio ALTO al principio (clientes que pagan m√°s), despu√©s baja.", "HIGH price at first (customers who pay more), then lower.")}</p>
                                    <p className="text-xs text-blue-600 mt-2">üìå Ex: iPhone nou, consoles de videojocs</p>
                                </div>
                                <div className="p-4 bg-pink-50 rounded-xl border border-pink-200">
                                    <h4 className="font-bold text-pink-700">üß† {t("Psicol√≤gics", "Psicol√≥gicos", "Psychological")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Aprofitar com el cervell percep els preus.", "Aprovechar c√≥mo el cerebro percibe los precios.", "Leverage how the brain perceives prices.")}</p>
                                    <p className="text-xs text-pink-600 mt-2">üìå Ex: 9,99‚Ç¨ en lloc de 10‚Ç¨</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl border border-violet-200">
                                    <h4 className="font-bold text-violet-700">üéÅ {t("Per lots (bundle)", "Por lotes (bundle)", "Bundling")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Vendre diversos productes junts a preu redu√Øt.", "Vender varios productos juntos a precio reducido.", "Sell multiple products together at reduced price.")}</p>
                                    <p className="text-xs text-violet-600 mt-2">üìå Ex: Men√∫ de McDonald's, Office 365</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                    <h4 className="font-bold text-amber-700">üÜì Freemium</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("B√†sic gratu√Øt, premium de pagament.", "B√°sico gratuito, premium de pago.", "Basic free, premium paid.")}</p>
                                    <p className="text-xs text-amber-600 mt-2">üìå Ex: Spotify, LinkedIn, Dropbox</p>
                                </div>
                                <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                    <h4 className="font-bold text-red-700">‚ö° {t("Din√†mics", "Din√°micos", "Dynamic")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("El preu canvia segons demanda, moment, client...", "El precio cambia seg√∫n demanda, momento, cliente...", "Price changes based on demand, time, customer...")}</p>
                                    <p className="text-xs text-red-600 mt-2">üìå Ex: Uber, vols d'avi√≥, Amazon</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* DISTRIBUCI√ì */}
                {tab === 'distribucio' && (
                    <div className="space-y-6">
                        <Card title={t("Pol√≠tica de Distribuci√≥ (Place)", "Pol√≠tica de Distribuci√≥n (Place)", "Distribution Policy (Place)")} icon="üìç">
                            <TheoryBlock color="amber">
                                <p className="text-lg font-semibold">{t("Com fas arribar el producte des de la f√†brica fins al client? Per quins 'camins' passa?", "¬øC√≥mo haces llegar el producto desde la f√°brica hasta el cliente? ¬øPor qu√© 'caminos' pasa?", "How do you get the product from factory to customer? What 'paths' does it take?")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Canals de Distribuci√≥", "Canales de Distribuci√≥n", "Distribution Channels")} icon="üõ§Ô∏è">
                            <div className="space-y-4">
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700">{t("Canal DIRECTE (nivell 0)", "Canal DIRECTO (nivel 0)", "DIRECT Channel (level 0)")}</h4>
                                    <div className="flex items-center gap-4 mt-2 text-sm">
                                        <span className="p-2 bg-green-200 rounded">üè≠ {t("Fabricant", "Fabricante", "Manufacturer")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-green-200 rounded">üë§ {t("Consumidor", "Consumidor", "Consumer")}</span>
                                    </div>
                                    <p className="text-xs text-green-600 mt-2">üìå Ex: Apple Store, Tesla, venda online directa</p>
                                </div>
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <h4 className="font-bold text-blue-700">{t("Canal CURT (nivell 1)", "Canal CORTO (nivel 1)", "SHORT Channel (level 1)")}</h4>
                                    <div className="flex items-center gap-4 mt-2 text-sm">
                                        <span className="p-2 bg-blue-200 rounded">üè≠ {t("Fabricant", "Fabricante", "Manufacturer")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-blue-200 rounded">üè™ {t("Minorista", "Minorista", "Retailer")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-blue-200 rounded">üë§ {t("Consumidor", "Consumidor", "Consumer")}</span>
                                    </div>
                                    <p className="text-xs text-blue-600 mt-2">üìå Ex: Zara, Mercadona (productes propis)</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl border border-violet-200">
                                    <h4 className="font-bold text-violet-700">{t("Canal LLARG (nivell 2+)", "Canal LARGO (nivel 2+)", "LONG Channel (level 2+)")}</h4>
                                    <div className="flex items-center gap-2 md:gap-4 mt-2 text-sm flex-wrap">
                                        <span className="p-2 bg-violet-200 rounded">üè≠ {t("Fabricant", "Fabricante", "Manufacturer")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-violet-200 rounded">üì¶ {t("Majorista", "Mayorista", "Wholesaler")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-violet-200 rounded">üè™ {t("Minorista", "Minorista", "Retailer")}</span>
                                        <span>‚Üí</span>
                                        <span className="p-2 bg-violet-200 rounded">üë§ {t("Consumidor", "Consumidor", "Consumer")}</span>
                                    </div>
                                    <p className="text-xs text-violet-600 mt-2">üìå Ex: Productes alimentaris tradicionals</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Estrat√®gies de Distribuci√≥", "Estrategias de Distribuci√≥n", "Distribution Strategies")} icon="üéØ">
                            <div className="grid md:grid-cols-3 gap-4">
                                <TheoryBlock title={t("Intensiva", "Intensiva", "Intensive")} color="blue">
                                    <p>{t("El producte ha d'estar EN TOTS els punts de venda possibles.", "El producto debe estar EN TODOS los puntos de venta posibles.", "Product must be in ALL possible points of sale.")}</p>
                                    <p className="mt-2 text-sm font-bold">üìå {t("Per a productes de compra freq√ºent", "Para productos de compra frecuente", "For frequently purchased products")}</p>
                                    <p className="text-xs">Ex: Coca-Cola, xiclets, llet</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Selectiva", "Selectiva", "Selective")} color="green">
                                    <p>{t("Nom√©s en ALGUNS punts de venda escollits.", "Solo en ALGUNOS puntos de venta escogidos.", "Only in SOME selected points of sale.")}</p>
                                    <p className="mt-2 text-sm font-bold">üìå {t("Per a productes de comparaci√≥", "Para productos de comparaci√≥n", "For comparison products")}</p>
                                    <p className="text-xs">Ex: Electrodom√®stics, roba de marca</p>
                                </TheoryBlock>
                                <TheoryBlock title={t("Exclusiva", "Exclusiva", "Exclusive")} color="pink">
                                    <p>{t("UN SOL distribu√Ødor per zona. Control m√†xim.", "UN SOLO distribuidor por zona. Control m√°ximo.", "ONE distributor per area. Maximum control.")}</p>
                                    <p className="mt-2 text-sm font-bold">üìå {t("Per a productes de luxe o especialitzats", "Para productos de lujo o especializados", "For luxury or specialized products")}</p>
                                    <p className="text-xs">Ex: Ferrari, Rolex, franqu√≠cies</p>
                                </TheoryBlock>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* PROMOCI√ì */}
                {tab === 'promocio' && (
                    <div className="space-y-6">
                        <Card title={t("Pol√≠tica de Comunicaci√≥ (Promotion)", "Pol√≠tica de Comunicaci√≥n (Promotion)", "Communication Policy (Promotion)")} icon="üì¢">
                            <TheoryBlock color="pink">
                                <p className="text-lg font-semibold">{t("El mix de comunicaci√≥ s√≥n TOTES les formes de dir al client que existeixes i per qu√® t'ha de comprar.", "El mix de comunicaci√≥n son TODAS las formas de decir al cliente que existes y por qu√© debe comprarte.", "The communication mix is ALL ways of telling customers you exist and why they should buy from you.")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Eines de Comunicaci√≥", "Herramientas de Comunicaci√≥n", "Communication Tools")} icon="üõ†Ô∏è">
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="p-5 bg-blue-50 rounded-xl border-2 border-blue-200">
                                    <h4 className="font-bold text-blue-700 text-lg mb-3">üì∫ {t("PUBLICITAT", "PUBLICIDAD", "ADVERTISING")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Comunicaci√≥ massiva, pagada, impersonal", "Comunicaci√≥n masiva, pagada, impersonal", "Mass, paid, impersonal communication")}</p>
                                    <div className="space-y-1 text-sm">
                                        <p>‚Ä¢ TV, r√†dio, premsa</p>
                                        <p>‚Ä¢ {t("Tanques publicit√†ries", "Vallas publicitarias", "Billboards")}</p>
                                        <p>‚Ä¢ {t("Publicitat online (banners, v√≠deos)", "Publicidad online (banners, v√≠deos)", "Online ads (banners, videos)")}</p>
                                    </div>
                                    <p className="text-xs text-blue-600 mt-2">‚úÖ {t("Abast massiu", "Alcance masivo", "Mass reach")} | ‚ùå {t("Cara, impersonal", "Cara, impersonal", "Expensive, impersonal")}</p>
                                </div>
                                <div className="p-5 bg-green-50 rounded-xl border-2 border-green-200">
                                    <h4 className="font-bold text-green-700 text-lg mb-3">ü§ù {t("VENDA PERSONAL", "VENTA PERSONAL", "PERSONAL SELLING")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Comunicaci√≥ directa, cara a cara", "Comunicaci√≥n directa, cara a cara", "Direct, face-to-face communication")}</p>
                                    <div className="space-y-1 text-sm">
                                        <p>‚Ä¢ {t("Comercials i representants", "Comerciales y representantes", "Sales reps")}</p>
                                        <p>‚Ä¢ {t("Dependents en botiga", "Dependientes en tienda", "Store clerks")}</p>
                                        <p>‚Ä¢ {t("Telemarketing", "Telemarketing", "Telemarketing")}</p>
                                    </div>
                                    <p className="text-xs text-green-600 mt-2">‚úÖ {t("Personalitzada, feedback", "Personalizada, feedback", "Personalized, feedback")} | ‚ùå {t("Cara per contacte", "Cara por contacto", "Expensive per contact")}</p>
                                </div>
                                <div className="p-5 bg-amber-50 rounded-xl border-2 border-amber-200">
                                    <h4 className="font-bold text-amber-700 text-lg mb-3">üéÅ {t("PROMOCI√ì DE VENDES", "PROMOCI√ìN DE VENTAS", "SALES PROMOTION")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Incentius a curt termini per estimular compra", "Incentivos a corto plazo para estimular compra", "Short-term incentives to stimulate purchase")}</p>
                                    <div className="space-y-1 text-sm">
                                        <p>‚Ä¢ {t("Descomptes, 2x1, cupons", "Descuentos, 2x1, cupones", "Discounts, 2-for-1, coupons")}</p>
                                        <p>‚Ä¢ {t("Mostres gratu√Øtes", "Muestras gratuitas", "Free samples")}</p>
                                        <p>‚Ä¢ {t("Concursos i sortejos", "Concursos y sorteos", "Contests and giveaways")}</p>
                                        <p>‚Ä¢ {t("Programes de fidelitzaci√≥", "Programas de fidelizaci√≥n", "Loyalty programs")}</p>
                                    </div>
                                    <p className="text-xs text-amber-600 mt-2">‚úÖ {t("Resultat r√†pid", "Resultado r√°pido", "Quick results")} | ‚ùå {t("Efecte temporal", "Efecto temporal", "Temporary effect")}</p>
                                </div>
                                <div className="p-5 bg-violet-50 rounded-xl border-2 border-violet-200">
                                    <h4 className="font-bold text-violet-700 text-lg mb-3">üì∞ {t("RELACIONS P√öBLIQUES (RRPP)", "RELACIONES P√öBLICAS (RRPP)", "PUBLIC RELATIONS (PR)")}</h4>
                                    <p className="text-sm text-slate-600 mb-2">{t("Crear imatge positiva sense pagar directament", "Crear imagen positiva sin pagar directamente", "Create positive image without paying directly")}</p>
                                    <div className="space-y-1 text-sm">
                                        <p>‚Ä¢ {t("Notes de premsa", "Notas de prensa", "Press releases")}</p>
                                        <p>‚Ä¢ {t("Patrocinis i mecenatge", "Patrocinios y mecenazgo", "Sponsorships")}</p>
                                        <p>‚Ä¢ {t("Esdeveniments, fires", "Eventos, ferias", "Events, trade shows")}</p>
                                        <p>‚Ä¢ RSC ({t("Responsabilitat Social", "Responsabilidad Social", "Social Responsibility")})</p>
                                    </div>
                                    <p className="text-xs text-violet-600 mt-2">‚úÖ {t("Credibilitat", "Credibilidad", "Credibility")} | ‚ùå {t("Dif√≠cil de controlar", "Dif√≠cil de controlar", "Hard to control")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* MARKETING DIGITAL */}
                {tab === 'digital' && (
                    <div className="space-y-6">
                        <Card title={t("Marketing Digital", "Marketing Digital", "Digital Marketing")} icon="üíª">
                            <TheoryBlock color="cyan">
                                <p className="text-lg font-semibold">{t("El marketing del segle XXI. On estan els clients? A Internet. On has d'estar tu? A Internet.", "El marketing del siglo XXI. ¬øD√≥nde est√°n los clientes? En Internet. ¬øD√≥nde debes estar t√∫? En Internet.", "21st century marketing. Where are customers? On the Internet. Where should you be? On the Internet.")}</p>
                            </TheoryBlock>
                        </Card>
                        
                        <Card title={t("Principals Eines de Marketing Digital", "Principales Herramientas de Marketing Digital", "Main Digital Marketing Tools")} icon="üõ†Ô∏è">
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div className="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <h4 className="font-bold text-green-700">üîç SEO</h4>
                                    <p className="text-sm text-green-600">{t("Search Engine Optimization", "Search Engine Optimization", "Search Engine Optimization")}</p>
                                    <p className="text-sm text-slate-600 mt-2">{t("Posicionar-se als primers resultats de Google de forma ORG√ÄNICA (sense pagar).", "Posicionarse en los primeros resultados de Google de forma ORG√ÅNICA (sin pagar).", "Rank in top Google results ORGANICALLY (without paying).")}</p>
                                    <p className="text-xs text-green-700 mt-2 font-bold">üí° {t("Paraules clau, contingut de qualitat, links", "Palabras clave, contenido de calidad, links", "Keywords, quality content, links")}</p>
                                </div>
                                <div className="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <h4 className="font-bold text-blue-700">üí∞ SEM</h4>
                                    <p className="text-sm text-blue-600">{t("Search Engine Marketing", "Search Engine Marketing", "Search Engine Marketing")}</p>
                                    <p className="text-sm text-slate-600 mt-2">{t("Anuncis DE PAGAMENT a Google (Google Ads). Pagues per clic (PPC).", "Anuncios DE PAGO en Google (Google Ads). Pagas por clic (PPC).", "PAID ads on Google (Google Ads). Pay per click (PPC).")}</p>
                                    <p className="text-xs text-blue-700 mt-2 font-bold">üí° {t("Resultats immediats, per√≤ costa diners", "Resultados inmediatos, pero cuesta dinero", "Immediate results, but costs money")}</p>
                                </div>
                                <div className="p-4 bg-pink-50 rounded-xl border border-pink-200">
                                    <h4 className="font-bold text-pink-700">üì± Social Media Marketing</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("M√†rqueting a xarxes socials: Instagram, TikTok, LinkedIn, X, Facebook...", "Marketing en redes sociales: Instagram, TikTok, LinkedIn, X, Facebook...", "Marketing on social networks: Instagram, TikTok, LinkedIn, X, Facebook...")}</p>
                                    <p className="text-xs text-pink-700 mt-2 font-bold">üí° {t("Cada xarxa t√© el seu p√∫blic!", "¬°Cada red tiene su p√∫blico!", "Each network has its audience!")}</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl border border-amber-200">
                                    <h4 className="font-bold text-amber-700">üìß Email Marketing</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Newsletters, correus promocionals. El canal amb millor ROI (retorn).", "Newsletters, correos promocionales. El canal con mejor ROI (retorno).", "Newsletters, promotional emails. Channel with best ROI.")}</p>
                                    <p className="text-xs text-amber-700 mt-2 font-bold">üí° {t("Barato, personalitzable, mesurable", "Barato, personalizable, medible", "Cheap, customizable, measurable")}</p>
                                </div>
                                <div className="p-4 bg-violet-50 rounded-xl border border-violet-200">
                                    <h4 className="font-bold text-violet-700">‚úçÔ∏è Content Marketing</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Crear contingut de valor (blog, v√≠deos, podcasts) per atraure clients.", "Crear contenido de valor (blog, v√≠deos, podcasts) para atraer clientes.", "Create valuable content (blog, videos, podcasts) to attract customers.")}</p>
                                    <p className="text-xs text-violet-700 mt-2 font-bold">üí° {t("'Atraure' en lloc de 'perseguir' (Inbound)", "'Atraer' en lugar de 'perseguir' (Inbound)", "'Attract' instead of 'chase' (Inbound)")}</p>
                                </div>
                                <div className="p-4 bg-red-50 rounded-xl border border-red-200">
                                    <h4 className="font-bold text-red-700">üë§ Influencer Marketing</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Col¬∑laborar amb persones amb audi√®ncia a xarxes per promocionar productes.", "Colaborar con personas con audiencia en redes para promocionar productos.", "Collaborate with people with social media audiences to promote products.")}</p>
                                    <p className="text-xs text-red-700 mt-2 font-bold">üí° {t("Credibilitat + abast. Atenci√≥ amb la falsa autenticitat!", "Credibilidad + alcance. ¬°Cuidado con la falsa autenticidad!", "Credibility + reach. Beware of fake authenticity!")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("El Funnel de Conversi√≥", "El Funnel de Conversi√≥n", "The Conversion Funnel")} icon="üìä">
                            <p className="text-sm text-slate-600 mb-4">{t("El 'embut' de vendes digital: del desconegut al client fidel", "El 'embudo' de ventas digital: del desconocido al cliente fiel", "The digital sales 'funnel': from stranger to loyal customer")}</p>
                            <div className="flex flex-col items-center gap-2">
                                <div className="w-full max-w-md p-3 bg-blue-100 rounded-lg text-center"><span className="font-bold text-blue-700">1. {t("ATRAURE", "ATRAER", "ATTRACT")}</span><p className="text-xs text-blue-600">SEO, contingut, xarxes</p></div>
                                <span className="text-slate-400">‚Üì</span>
                                <div className="w-4/5 max-w-sm p-3 bg-green-100 rounded-lg text-center"><span className="font-bold text-green-700">2. {t("CONVERTIR", "CONVERTIR", "CONVERT")}</span><p className="text-xs text-green-600">Landing pages, formularis, leads</p></div>
                                <span className="text-slate-400">‚Üì</span>
                                <div className="w-3/5 max-w-xs p-3 bg-amber-100 rounded-lg text-center"><span className="font-bold text-amber-700">3. {t("TANCAR", "CERRAR", "CLOSE")}</span><p className="text-xs text-amber-600">Email, ofertes, venda</p></div>
                                <span className="text-slate-400">‚Üì</span>
                                <div className="w-2/5 max-w-[150px] p-3 bg-pink-100 rounded-lg text-center"><span className="font-bold text-pink-700">4. {t("FIDELITZAR", "FIDELIZAR", "DELIGHT")}</span><p className="text-xs text-pink-600">Servei, comunitat</p></div>
                            </div>
                        </Card>
                    </div>
                )}
                
                {/* EINES (BCG i Cicle de Vida) */}
                {tab === 'eines' && (
                    <div className="space-y-6">
                        <Card title={t("Matriu BCG (Boston Consulting Group)", "Matriz BCG", "BCG Matrix")} icon="üìä">
                            <TheoryBlock color="green">
                                <p>{t("Eina per analitzar la cartera de productes segons la seua quota de mercat i el creixement del mercat. Ajuda a decidir on invertir recursos.", "Herramienta para analizar la cartera de productos seg√∫n su cuota de mercado y el crecimiento del mercado.", "Tool to analyze product portfolio based on market share and market growth.")}</p>
                            </TheoryBlock>
                            <div className="grid grid-cols-2 gap-4 mt-4">
                                <div className="p-4 bg-yellow-100 rounded-xl border-2 border-yellow-300">
                                    <span className="text-3xl">‚≠ê</span>
                                    <h4 className="font-bold text-yellow-700 text-lg">{t("ESTRELLES", "ESTRELLAS", "STARS")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Alta quota + Alt creixement", "Alta cuota + Alto crecimiento", "High share + High growth")}</p>
                                    <p className="text-xs text-yellow-700 mt-2 font-bold">{t("Invertir per mantenir lideratge", "Invertir para mantener liderazgo", "Invest to maintain leadership")}</p>
                                </div>
                                <div className="p-4 bg-purple-100 rounded-xl border-2 border-purple-300">
                                    <span className="text-3xl">‚ùì</span>
                                    <h4 className="font-bold text-purple-700 text-lg">{t("INTERROGANTS", "INTERROGANTES", "QUESTION MARKS")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Baixa quota + Alt creixement", "Baja cuota + Alto crecimiento", "Low share + High growth")}</p>
                                    <p className="text-xs text-purple-700 mt-2 font-bold">{t("Decidir: invertir fort o abandonar", "Decidir: invertir fuerte o abandonar", "Decide: invest heavily or abandon")}</p>
                                </div>
                                <div className="p-4 bg-green-100 rounded-xl border-2 border-green-300">
                                    <span className="text-3xl">üêÑ</span>
                                    <h4 className="font-bold text-green-700 text-lg">{t("VAQUES", "VACAS", "CASH COWS")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Alta quota + Baix creixement", "Alta cuota + Bajo crecimiento", "High share + Low growth")}</p>
                                    <p className="text-xs text-green-700 mt-2 font-bold">{t("'Munyir' per finan√ßar altres", "Orde√±ar para financiar otros", "'Milk' to finance others")}</p>
                                </div>
                                <div className="p-4 bg-slate-200 rounded-xl border-2 border-slate-400">
                                    <span className="text-3xl">üêï</span>
                                    <h4 className="font-bold text-slate-700 text-lg">{t("GOSSOS", "PERROS", "DOGS")}</h4>
                                    <p className="text-sm text-slate-600 mt-2">{t("Baixa quota + Baix creixement", "Baja cuota + Bajo crecimiento", "Low share + Low growth")}</p>
                                    <p className="text-xs text-slate-700 mt-2 font-bold">{t("Eliminar o reposicionar", "Eliminar o reposicionar", "Eliminate or reposition")}</p>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title={t("Cicle de Vida del Producte", "Ciclo de Vida del Producto", "Product Life Cycle")} icon="üìà">
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                <div className="p-4 bg-blue-50 rounded-xl text-center">
                                    <span className="text-3xl">üöÄ</span>
                                    <h4 className="font-bold text-blue-700 mt-2">{t("Introducci√≥", "Introducci√≥n", "Introduction")}</h4>
                                    <p className="text-xs text-slate-600 mt-2">{t("Vendes baixes, alts costos de m√†rqueting", "Ventas bajas, altos costes de marketing", "Low sales, high marketing costs")}</p>
                                    <p className="text-xs text-blue-600 mt-1 font-bold">{t("Estrat√®gia: Penetraci√≥ o desnatament", "Estrategia: Penetraci√≥n o descremado", "Strategy: Penetration or skimming")}</p>
                                </div>
                                <div className="p-4 bg-green-50 rounded-xl text-center">
                                    <span className="text-3xl">üìà</span>
                                    <h4 className="font-bold text-green-700 mt-2">{t("Creixement", "Crecimiento", "Growth")}</h4>
                                    <p className="text-xs text-slate-600 mt-2">{t("Vendes augmenten, primers beneficis", "Ventas aumentan, primeros beneficios", "Sales rise, first profits")}</p>
                                    <p className="text-xs text-green-600 mt-1 font-bold">{t("Estrat√®gia: Diferenciaci√≥, fidelitzar", "Estrategia: Diferenciaci√≥n, fidelizar", "Strategy: Differentiation, loyalty")}</p>
                                </div>
                                <div className="p-4 bg-amber-50 rounded-xl text-center">
                                    <span className="text-3xl">‚è∏Ô∏è</span>
                                    <h4 className="font-bold text-amber-700 mt-2">{t("Maduresa", "Madurez", "Maturity")}</h4>
                                    <p className="text-xs text-slate-600 mt-2">{t("Vendes estables, m√†xim benefici", "Ventas estables, m√°ximo beneficio", "Stable sales, max profit")}</p>
                                    <p className="text-xs text-amber-600 mt-1 font-bold">{t("Estrat√®gia: Defensiva, promocions", "Estrategia: Defensiva, promociones", "Strategy: Defensive, promotions")}</p>
                                </div>
                                <div className="p-4 bg-red-50 rounded-xl text-center">
                                    <span className="text-3xl">üìâ</span>
                                    <h4 className="font-bold text-red-700 mt-2">{t("Declivi", "Declive", "Decline")}</h4>
                                    <p className="text-xs text-slate-600 mt-2">{t("Vendes cauen, beneficis baixen", "Ventas caen, beneficios bajan", "Sales fall, profits drop")}</p>
                                    <p className="text-xs text-red-600 mt-1 font-bold">{t("Estrat√®gia: Relan√ßar, 'munyir' o retirar", "Estrategia: Relanzar, 'orde√±ar' o retirar", "Strategy: Relaunch, 'milk' or retire")}</p>
                                </div>
                            </div>
                        </Card>
                    </div>
                )}
            </div>
        );
    };

    // SECCI√ì FORMES JUR√çDIQUES
    const FormesJuridiques = () => (
        <div className="space-y-6">
            <SectionTitle icon="‚öñÔ∏è" title={t('Formes Jur√≠diques', 'Formas Jur√≠dicas', 'Legal Forms')} subtitle={t("Quin tipus d'empresa crear?", "¬øQu√© tipo de empresa crear?", "What type of company to create?")} />
            
            <WhyImportant>
                {t("La forma jur√≠dica que tries determina: (1) si respons amb el teu patrimoni personal si l'empresa fracassa, (2) quants impostos pagues, (3) quanta paperassa has de fer. Triar malament pot costar-te molt de diners o fins i tot la teua casa!",
                   "La forma jur√≠dica que eliges determina: (1) si respondes con tu patrimonio personal si la empresa fracasa, (2) cu√°ntos impuestos pagas, (3) cu√°nto papeleo debes hacer. ¬°Elegir mal puede costarte mucho dinero o incluso tu casa!",
                   "The legal form you choose determines: (1) if you're personally liable if the company fails, (2) how much tax you pay, (3) how much paperwork you need. Choosing wrong can cost you a lot of money or even your house!")}
            </WhyImportant>
            
            <Card title={t("Comparativa de Formes Jur√≠diques", "Comparativa de Formas Jur√≠dicas", "Legal Forms Comparison")} icon="üìã">
                <div className="overflow-x-auto">
                    <table className="w-full text-sm">
                        <thead>
                            <tr className="bg-slate-100">
                                <th className="p-3 text-left font-bold">{t("Forma", "Forma", "Form")}</th>
                                <th className="p-3 text-center font-bold">{t("Capital m√≠nim", "Capital m√≠nimo", "Min. Capital")}</th>
                                <th className="p-3 text-center font-bold">{t("Socis", "Socios", "Partners")}</th>
                                <th className="p-3 text-center font-bold">{t("Responsabilitat", "Responsabilidad", "Liability")}</th>
                                <th className="p-3 text-center font-bold">{t("Impost", "Impuesto", "Tax")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr className="border-b">
                                <td className="p-3 font-bold text-amber-700">üë§ {t("Aut√≤nom", "Aut√≥nomo", "Self-employed")}</td>
                                <td className="p-3 text-center">0‚Ç¨</td>
                                <td className="p-3 text-center">1</td>
                                <td className="p-3 text-center text-red-600 font-bold">{t("IL¬∑LIMITADA", "ILIMITADA", "UNLIMITED")}</td>
                                <td className="p-3 text-center">IRPF (19-47%)</td>
                            </tr>
                            <tr className="border-b bg-blue-50">
                                <td className="p-3 font-bold text-blue-700">üè¢ SL (Soc. Limitada)</td>
                                <td className="p-3 text-center">1‚Ç¨</td>
                                <td className="p-3 text-center">‚â•1</td>
                                <td className="p-3 text-center text-green-600 font-bold">{t("LIMITADA", "LIMITADA", "LIMITED")}</td>
                                <td className="p-3 text-center">IS (25%)</td>
                            </tr>
                            <tr className="border-b">
                                <td className="p-3 font-bold text-violet-700">üèõÔ∏è SA (Soc. An√≤nima)</td>
                                <td className="p-3 text-center">60.000‚Ç¨</td>
                                <td className="p-3 text-center">‚â•1</td>
                                <td className="p-3 text-center text-green-600 font-bold">{t("LIMITADA", "LIMITADA", "LIMITED")}</td>
                                <td className="p-3 text-center">IS (25%)</td>
                            </tr>
                            <tr className="border-b bg-green-50">
                                <td className="p-3 font-bold text-green-700">ü§ù Cooperativa</td>
                                <td className="p-3 text-center">{t("Variable", "Variable", "Variable")}</td>
                                <td className="p-3 text-center">‚â•3</td>
                                <td className="p-3 text-center text-green-600 font-bold">{t("LIMITADA", "LIMITADA", "LIMITED")}</td>
                                <td className="p-3 text-center">IS (20%)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </Card>
            
            <div className="grid md:grid-cols-2 gap-4">
                <Card title={t("Quan ser AUT√íNOM", "Cu√°ndo ser AUT√ìNOMO", "When to be SELF-EMPLOYED")} icon="üë§">
                    <div className="space-y-2 text-sm">
                        <p className="text-green-600">‚úÖ {t("Comences sol i amb poc risc", "Empiezas solo y con poco riesgo", "Starting alone with little risk")}</p>
                        <p className="text-green-600">‚úÖ {t("Beneficis baixos (<40.000‚Ç¨/any)", "Beneficios bajos (<40.000‚Ç¨/a√±o)", "Low profits (<‚Ç¨40,000/year)")}</p>
                        <p className="text-green-600">‚úÖ {t("Vols simplicitat administrativa", "Quieres simplicidad administrativa", "You want administrative simplicity")}</p>
                        <p className="text-red-600 mt-3">‚ö†Ô∏è {t("ALERTA: Si l'empresa fracassa, poden embargar-te la casa, cotxe, estalvis...", "ALERTA: Si la empresa fracasa, pueden embargarte casa, coche, ahorros...", "WARNING: If business fails, they can seize your house, car, savings...")}</p>
                    </div>
                </Card>
                <Card title={t("Quan crear una SL", "Cu√°ndo crear una SL", "When to create an LLC")} icon="üè¢">
                    <div className="space-y-2 text-sm">
                        <p className="text-green-600">‚úÖ {t("Vols protegir el teu patrimoni personal", "Quieres proteger tu patrimonio personal", "You want to protect personal assets")}</p>
                        <p className="text-green-600">‚úÖ {t("Beneficis alts (>40.000‚Ç¨/any)", "Beneficios altos (>40.000‚Ç¨/a√±o)", "High profits (>‚Ç¨40,000/year)")}</p>
                        <p className="text-green-600">‚úÖ {t("Vols entrar socis o inversors", "Quieres meter socios o inversores", "You want partners or investors")}</p>
                        <p className="text-green-600">‚úÖ {t("M√©s credibilitat davant clients/bancs", "M√°s credibilidad ante clientes/bancos", "More credibility with clients/banks")}</p>
                    </div>
                </Card>
            </div>
        </div>
    );

    // SECCI√ì FINAN√áAMENT
    const Financament = () => {
        const [capital, setCapital] = useState(100000);
        const [interes, setInteres] = useState(6);
        const [anys, setAnys] = useState(10);
        
        const prestec = useMemo(() => {
            const n = anys * 12;
            const r = interes / 100 / 12;
            const quota = capital * (r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            const totalPagar = quota * n;
            const interessos = totalPagar - capital;
            return { quota: quota.toFixed(2), totalPagar: totalPagar.toFixed(0), interessos: interessos.toFixed(0) };
        }, [capital, interes, anys]);
        
        return (
            <div className="space-y-6">
                <SectionTitle icon="üè¶" title={t('Finan√ßament', 'Financiaci√≥n', 'Financing')} subtitle={t("D'on traure els diners per al negoci?", "¬øDe d√≥nde sacar el dinero para el negocio?", "Where to get money for the business?")} />
                
                <WhyImportant>
                    {t("Sense diners no hi ha negoci. Per√≤ no tots els diners s√≥n iguals: els teus estalvis no tenen cost, un pr√©stec s√≠ (interessos). Entendre les fonts de finan√ßament et permet triar la m√©s barata i adequada per a cada situaci√≥. Una mala decisi√≥ de finan√ßament pot ofegar una empresa encara que siga rendible!",
                       "Sin dinero no hay negocio. Pero no todo dinero es igual: tus ahorros no tienen coste, un pr√©stamo s√≠ (intereses). Entender las fuentes de financiaci√≥n te permite elegir la m√°s barata. ¬°Una mala decisi√≥n de financiaci√≥n puede ahogar una empresa aunque sea rentable!",
                       "No money, no business. But not all money is equal: your savings have no cost, a loan does (interest). Understanding financing sources lets you choose the cheapest. A bad financing decision can sink a profitable company!")}
                </WhyImportant>
                
                <Card title={t("Fonts de Finan√ßament", "Fuentes de Financiaci√≥n", "Financing Sources")} icon="üí∞">
                    <div className="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 className="font-bold text-green-700 mb-3 text-lg">üü¢ {t("Finan√ßament Propi", "Financiaci√≥n Propia", "Own Financing")}</h4>
                            <p className="text-sm text-slate-600 mb-3">{t("No cal tornar-lo. √âs el m√©s barat.", "No hay que devolverlo. Es el m√°s barato.", "Doesn't need to be returned. It's the cheapest.")}</p>
                            <div className="space-y-2">
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Capital dels socis", "Capital de los socios", "Partners' capital")}</p><p className="text-xs text-slate-500">{t("Diners que aporten els propietaris", "Dinero que aportan los propietarios", "Money contributed by owners")}</p></div>
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Autofinan√ßament (reserves)", "Autofinanciaci√≥n (reservas)", "Self-financing (reserves)")}</p><p className="text-xs text-slate-500">{t("Beneficis retinguts de l'empresa", "Beneficios retenidos de la empresa", "Retained company profits")}</p></div>
                                <div className="p-3 bg-green-50 rounded-lg"><p className="font-semibold text-green-700">{t("Amortitzacions", "Amortizaciones", "Depreciation")}</p><p className="text-xs text-slate-500">{t("Fons per renovar actius", "Fondos para renovar activos", "Funds to renew assets")}</p></div>
                            </div>
                        </div>
                        <div>
                            <h4 className="font-bold text-blue-700 mb-3 text-lg">üîµ {t("Finan√ßament Ali√®", "Financiaci√≥n Ajena", "External Financing")}</h4>
                            <p className="text-sm text-slate-600 mb-3">{t("Cal tornar-lo amb interessos.", "Hay que devolverlo con intereses.", "Must be returned with interest.")}</p>
                            <div className="space-y-2">
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">{t("Pr√©stecs bancaris", "Pr√©stamos bancarios", "Bank loans")}</p><p className="text-xs text-slate-500">{t("Diners del banc, quotes fixes", "Dinero del banco, cuotas fijas", "Bank money, fixed payments")}</p></div>
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">{t("Cr√®dit comercial (prove√Ødors)", "Cr√©dito comercial (proveedores)", "Trade credit (suppliers)")}</p><p className="text-xs text-slate-500">{t("Pagar a 30-90 dies", "Pagar a 30-90 d√≠as", "Pay in 30-90 days")}</p></div>
                                <div className="p-3 bg-blue-50 rounded-lg"><p className="font-semibold text-blue-700">Leasing</p><p className="text-xs text-slate-500">{t("Lloguer amb opci√≥ de compra", "Alquiler con opci√≥n de compra", "Rent with purchase option")}</p></div>
                            </div>
                        </div>
                    </div>
                </Card>
                
                <Card title={t("Calculadora de Pr√©stec", "Calculadora de Pr√©stamo", "Loan Calculator")} icon="üßÆ">
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-4">
                            <Slider label={t("Capital sol¬∑licitat", "Capital solicitado", "Loan amount")} value={capital} onChange={setCapital} min={10000} max={500000} step={10000} suffix="‚Ç¨" />
                            <Slider label={t("Tipus d'inter√®s anual", "Tipo de inter√©s anual", "Annual interest rate")} value={interes} onChange={setInteres} min={1} max={15} step={0.5} suffix="%" />
                            <Slider label={t("Termini (anys)", "Plazo (a√±os)", "Term (years)")} value={anys} onChange={setAnys} min={1} max={30} />
                        </div>
                        <div className="grid grid-cols-1 gap-3">
                            <ResultCard title={t("Quota mensual", "Cuota mensual", "Monthly payment")} value={prestec.quota + "‚Ç¨"} color="blue" />
                            <ResultCard title={t("Total a pagar", "Total a pagar", "Total to pay")} value={parseInt(prestec.totalPagar).toLocaleString() + "‚Ç¨"} color="amber" />
                            <ResultCard title={t("Total interessos", "Total intereses", "Total interest")} value={parseInt(prestec.interessos).toLocaleString() + "‚Ç¨"} color="red" subtitle={t("Cost del pr√©stec!", "¬°Coste del pr√©stamo!", "Loan cost!")} />
                        </div>
                    </div>
                </Card>
            </div>
        );
    };

    // NAVEGACI√ì I RENDER
    return (
        <div className="min-h-screen">
            <header className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
                <div className="max-w-7xl mx-auto px-4">
                    <div className="flex items-center justify-between h-16">
                        <button onClick={() => setSection('inicio')} className="flex items-center gap-2">
                            <div className="p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl text-white text-lg">üè¢</div>
                            <span className="font-bold text-lg text-slate-800 hidden sm:block">{t('Empresa', 'Empresa', 'Business')}</span>
                        </button>
                        
                        {/* Desktop: Men√∫ desplegable */}
                        <nav className="hidden xl:flex items-center gap-1">
                            <button onClick={() => setSection('inicio')} className={`px-3 py-2 rounded-lg text-sm font-semibold ${section === 'inicio' ? 'bg-blue-100 text-blue-700' : 'text-slate-600 hover:bg-slate-100'}`}>
                                üè† {t('Inici', 'Inicio', 'Home')}
                            </button>
                            
                            {menuGroups.map(group => (
                                <div key={group.id} className="relative dropdown">
                                    <button className="px-3 py-2 rounded-lg text-sm font-semibold text-slate-600 hover:bg-slate-100 flex items-center gap-1">
                                        {group.label} <span className="text-xs">‚ñº</span>
                                    </button>
                                    <div className="dropdown-content absolute top-full left-0 mt-1 bg-white rounded-xl shadow-xl border border-slate-200 py-2 min-w-[200px] z-50">
                                        {group.items.map(item => (
                                            <button key={item.sec} onClick={() => setSection(item.sec)}
                                                className={`w-full text-left px-4 py-2 text-sm hover:bg-slate-50 flex items-center gap-2 ${section === item.sec ? 'text-blue-600 bg-blue-50' : 'text-slate-600'}`}>
                                                <span>{item.icon}</span> {item.label}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </nav>
                        
                        <div className="flex items-center gap-2">
                            <a href="./index.html" className="p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg" title={t('Tornar', 'Volver', 'Back')}>üè†</a>
                            <div className="flex items-center gap-1 bg-slate-100 rounded-lg p-1">
                                {['val', 'es', 'en'].map(lang => (
                                    <button key={lang} onClick={() => setIdioma(lang)} className={`px-2 py-1 rounded text-xs font-bold transition-all ${idioma === lang ? 'bg-blue-500 text-white shadow' : 'text-slate-600 hover:bg-slate-200'}`}>
                                        {lang.toUpperCase()}
                                    </button>
                                ))}
                            </div>
                            <button onClick={() => setMenuOpen(!menuOpen)} className="xl:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg">
                                {menuOpen ? '‚úï' : '‚ò∞'}
                            </button>
                        </div>
                    </div>
                    
                    {/* Mobile menu */}
                    {menuOpen && (
                        <div className="xl:hidden py-4 border-t border-slate-100 animate-fade">
                            <div className="grid grid-cols-4 sm:grid-cols-6 gap-2">
                                {[{sec:'inicio',icon:'üè†',label:t('Inici','Inicio','Home')},{sec:'comptabilitat',icon:'üìí',label:t('Comptab.','Contab.','Account.')},{sec:'analisi',icon:'üìä',label:t('An√†lisi','An√°lisis','Analysis')},{sec:'costos',icon:'üí∞',label:t('Costos','Costes','Costs')},{sec:'inversio',icon:'üìà',label:t('Inversi√≥','Inversi√≥n','Invest.')},{sec:'fiscalitat',icon:'üèõÔ∏è',label:'Fiscal'},{sec:'produccio',icon:'üè≠',label:t('Produc.','Produc.','Prod.')},{sec:'rrhh',icon:'üë•',label:'RRHH'},{sec:'marketing',icon:'üì£',label:'Market.'},{sec:'estrategia',icon:'üéØ',label:t('Estrat.','Estrat.','Strategy')},{sec:'formes',icon:'‚öñÔ∏è',label:t('Formes','Formas','Forms')},{sec:'financament',icon:'üè¶',label:t('Finan√ß.','Financ.','Finance')},{sec:'emprenedoria',icon:'üöÄ',label:t('Empr.','Empr.','Startup')}].map(item => (
                                    <button key={item.sec} onClick={() => { setSection(item.sec); setMenuOpen(false); }} className={`p-3 rounded-lg text-center transition-all ${section === item.sec ? 'bg-blue-100 text-blue-700' : 'bg-slate-50 text-slate-600 hover:bg-slate-100'}`}>
                                        <span className="text-xl block mb-1">{item.icon}</span>
                                        <span className="text-xs font-medium">{item.label}</span>
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            </header>
            
            <main className="max-w-7xl mx-auto px-4 py-8">
                {section === 'inicio' && <Inicio />}
                {section === 'comptabilitat' && <Comptabilitat />}
                {section === 'analisi' && <AnalisiFinancera />}
                {section === 'costos' && <CostosPuntMort />}
                {section === 'inversio' && <Inversio />}
                {section === 'fiscalitat' && <Fiscalitat />}
                {section === 'produccio' && <Produccio />}
                {section === 'rrhh' && <RRHH />}
                {section === 'marketing' && <Marketing />}
                {section === 'estrategia' && <Estrategia />}
                {section === 'formes' && <FormesJuridiques />}
                {section === 'financament' && <Financament />}
                {section === 'emprenedoria' && <Emprenedoria />}
            </main>
            
            <footer className="py-6 text-center text-sm text-slate-400 border-t border-slate-100">
                <p>üè¢ Empresa ¬∑ PDE ¬∑ profedeeconomia.es ¬∑ 2025</p>
            </footer>
        </div>
    );
}

ReactDOM.render(<EmpresaApp />, document.getElementById('root'));
    </script>
</body>
</html>
